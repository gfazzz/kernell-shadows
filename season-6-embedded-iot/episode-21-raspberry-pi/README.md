# Episode 21: Raspberry Pi & GPIO Programming

> *"Embedded Linux ‚Äî —ç—Ç–æ –≥–¥–µ software –≤—Å—Ç—Ä–µ—á–∞–µ—Ç hardware. –ë–µ–∑ GUI. –ë–µ–∑ –ø—Ä–æ—â–µ–Ω–∏—è."* ‚Äî Li Wei

```
Season 6: Embedded Linux & IoT Security
Episode 21 of 32
–õ–æ–∫–∞—Ü–∏—è: –®—ç–Ω—å—á–∂—ç–Ω—å üá®üá≥, –ö–∏—Ç–∞–π (Huaqiangbei Electronics Market)
–î–Ω–∏: 41-42 –æ–ø–µ—Ä–∞—Ü–∏–∏ KERNEL SHADOWS
–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 4-5 —á–∞—Å–æ–≤
–°–ª–æ–∂–Ω–æ—Å—Ç—å: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
–¢–∏–ø: Embedded Basics (Type B + –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ C)
```

---

## üìã –û–±–∑–æ—Ä —ç–ø–∏–∑–æ–¥–∞

### –ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ

–í —ç—Ç–æ–º —ç–ø–∏–∑–æ–¥–µ –≤—ã –æ—Å–≤–æ–∏—Ç–µ **–æ—Å–Ω–æ–≤—ã embedded Linux** —á–µ—Ä–µ–∑ Raspberry Pi:

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- ü§ñ **Raspberry Pi** ‚Äî –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è Linux –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- üîå **–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ GPIO** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–µ–ª–µ–∑–æ–º –Ω–∞ C
- üìπ **–ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å –∫–∞–º–µ—Ä—ã** ‚Äî –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ
- üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏, Device Tree
- üîê **–£–¥–∞–ª—ë–Ω–Ω—ã–π SSH –¥–æ—Å—Ç—É–ø** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

**–ù–∞–≤—ã–∫–∏:**
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã embedded Linux
- –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ C –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–µ–ª–µ–∑–æ–º
- –†–∞–±–æ—Ç–∞ —Å GPIO –ø–∏–Ω–∞–º–∏ (LED, –¥–∞—Ç—á–∏–∫–∏)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Å—Ç—Ä–∏–º–∏–Ω–≥ —Å –∫–∞–º–µ—Ä—ã
- –û—Å–Ω–æ–≤—ã –∫—Ä–æ—Å—Å-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –°–ª—É–∂–±—ã systemd –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

**–í–∞–∂–Ω–æ:** –≠—Ç–æ **–ù–ï —É—Ä–æ–≤–µ–Ω—å C –∏–∑ MOONLIGHT**! –ú—ã –ø–∏—à–µ–º –ø—Ä–æ—Å—Ç–æ–π C –∫–æ–¥ –¥–ª—è GPIO, –∞ –Ω–µ —Å–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã. –§–æ–∫—É—Å –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∂–µ–ª–µ–∑–æ–º, –∞ –Ω–µ –Ω–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º C.

---

## üé¨ –°—é–∂–µ—Ç: –ù–∞—á–∞–ª–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è

### –î–µ–Ω—å 41, —É—Ç—Ä–æ ‚Äî –®—ç–Ω—å—á–∂—ç–Ω—å, —Ä—ã–Ω–æ–∫ Huaqiangbei

**–î–º–∏—Ç—Ä–∏–π –û—Ä–ª–æ–≤** (DevOps –∏–Ω–∂–µ–Ω–µ—Ä, –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞):

*"–ú–∞–∫—Å, –Ω–∞–º –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è. –ö–∞–º–µ—Ä–∞ —É –∑–¥–∞–Ω–∏—è, –≥–¥–µ –º–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –ö—Ä—ã–ª–æ–≤. –°–∫—Ä—ã—Ç–∞—è."*

**–í–∏–∫—Ç–æ—Ä:** *"Raspberry Pi. Ubuntu. –£–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ñ–∏–≤–∞—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è –∫ –Ω–∞–º. –ú–æ–∂–µ—à—å?"*

**–ú–∞–∫—Å:** *"Raspberry Pi? –≠—Ç–æ –∂–µ... –º–∞–ª–µ–Ω—å–∫–∏–π –∫–æ–º–ø—å—é—Ç–µ—Ä?"*

**Li Wei** (–±—ã–≤—à–∏–π –∏–Ω–∂–µ–Ω–µ—Ä DJI, 45 –ª–µ—Ç, —Å–ø–æ–∫–æ–π–Ω—ã–π, —Ç–æ—á–Ω—ã–π):

*"–ù–µ –ø—Ä–æ—Å—Ç–æ –∫–æ–º–ø—å—é—Ç–µ—Ä. –≠—Ç–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è Linux –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞. GPIO –ø–∏–Ω—ã ‚Äî –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∂–µ–ª–µ–∑—É. –ö–∞–º–µ—Ä–∞, –¥–∞—Ç—á–∏–∫–∏, –≤—Å—ë."*

–û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Raspberry Pi 4:

```
Raspberry Pi 4:
- –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä ARM Cortex-A72 (4 —è–¥—Ä–∞, 1.5 –ì–ì—Ü)
- 4–ì–ë –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏
- 40 GPIO –ø–∏–Ω–æ–≤
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–º–µ—Ä—ã (CSI)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Ubuntu 22.04 LTS
```

**Li Wei:** *"–†—ã–Ω–æ–∫ Huaqiangbei ‚Äî –∑–¥–µ—Å—å –¥–µ–ª–∞—é—Ç 90% –º–∏—Ä–æ–≤—ã—Ö –¥—Ä–æ–Ω–æ–≤. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –í–°–Å. Raspberry Pi, –∫–∞–º–µ—Ä—É, –¥–∞—Ç—á–∏–∫–∏ ‚Äî –∑–∞ 30 –º–∏–Ω—É—Ç."*

---

### –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π —Ä—ã–Ω–æ–∫ ‚Äî –ü–æ–∫—É–ø–∫–∏

10-—ç—Ç–∞–∂–Ω–æ–µ –∑–¥–∞–Ω–∏–µ. –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –≤–µ–∑–¥–µ. –¢—ã—Å—è—á–∏ –º–∞–ª–µ–Ω—å–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤.

**Li Wei –ø–æ–∫—É–ø–∞–µ—Ç:**
- Raspberry Pi 4 (4–ì–ë)
- –ú–æ–¥—É–ª—å –∫–∞–º–µ—Ä—ã Pi Camera Module v2
- –°–≤–µ—Ç–æ–¥–∏–æ–¥—ã, —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã, –ø—Ä–æ–≤–æ–¥–∞
- MicroSD –∫–∞—Ä—Ç–∞ 64–ì–ë
- –ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è 5–í 3–ê

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $80 –≤—Å–µ–≥–æ

**Li Wei:** *"–í –°–®–ê —ç—Ç–æ —Å—Ç–æ–∏—Ç $200. –ó–¥–µ—Å—å ‚Äî $80. –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –®—ç–Ω—å—á–∂—ç–Ω—å."*

---

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏

**Li Wei:** *"Embedded Linux –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ Linux. –ù–µ—Ç GUI. –ù–µ—Ç –ø–æ–¥—Å—Ç—Ä–∞—Ö–æ–≤–∫–∏. –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∂–µ–ª–µ–∑—É. –û–¥–∏–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–æ–ª—å—Ç–∞–∂ ‚Äî —Å–≥–æ—Ä–µ–≤—à–∏–π Pi."*

–û–Ω –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç–æ–¥–∏–æ–¥ –∫ GPIO 17:

```
GPIO 17 (–ø–∏–Ω 11) ‚Üí –∞–Ω–æ–¥ LED ‚Üí —Ä–µ–∑–∏—Å—Ç–æ—Ä (220Œ©) ‚Üí –∫–∞—Ç–æ–¥ LED ‚Üí GND (–ø–∏–Ω 6)
```

**Li Wei:** *"–†–µ–∑–∏—Å—Ç–æ—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. –ë–µ–∑ —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞ ‚Äî LED —Å–≥–æ—Ä–∏—Ç. –ò–ª–∏ Pi —Å–≥–æ—Ä–∏—Ç. –ò–ª–∏ –æ–±–∞."*

**–ú–∞–∫—Å:** *"–≠—Ç–æ —Å–ª–æ–∂–Ω–µ–µ —á–µ–º systemd..."*

**Li Wei:** *"–ñ–µ–ª–µ–∑–æ –Ω–µ –ø—Ä–æ—â–∞–µ—Ç. Software —É–ø–∞–ª ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫. –ñ–µ–ª–µ–∑–æ —Å–≥–æ—Ä–µ–ª–æ ‚Äî —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —É—â–µ—Ä–±. –ü–æ—ç—Ç–æ–º—É embedded –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å."*

---

### –ú–∏—Å—Å–∏—è

**–¶–µ–ª—å:** –°–∏—Å—Ç–µ–º–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –Ω–∞ –±–∞–∑–µ Raspberry Pi

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
1. Ubuntu –Ω–∞ Raspberry Pi
2. –ü—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GPIO –Ω–∞ C –¥–ª—è LED —Å–∏–≥–Ω–∞–ª–∞
3. –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å –∫–∞–º–µ—Ä—ã –≤ —à—Ç–∞–±
4. SSH —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (—É–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π)
5. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd

**–°—Ä–æ–∫–∏:** 4-5 —á–∞—Å–æ–≤

**Li Wei:** *"–ù–∞—á–Ω—ë–º —Å –æ—Å–Ω–æ–≤. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO. –ü–æ—Ç–æ–º –∫–∞–º–µ—Ä–∞. –ü–æ—Ç–æ–º production —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ."*

**LILITH** (–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è): *"Embedded Linux –∫–∞–∫ LEGO –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö. –ù–æ —Å –ø—Ä–æ–≤–æ–¥–∞–º–∏. –ò –≤–æ–ª—å—Ç–∞–∂–æ–º. –ò –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—Å—ë —Å–ø–∞–ª–∏—Ç—å. –í–µ—Å–µ–ª–æ!"*

---

## üéì –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–ø–∏–∑–æ–¥–∞: 6 –º–∏–∫—Ä–æ-—Ü–∏–∫–ª–æ–≤

–ö–∞–∂–¥—ã–π —Ü–∏–∫–ª = 25-35 –º–∏–Ω—É—Ç:
- üé¨ –°—é–∂–µ—Ç (2-3 –º–∏–Ω)
- üìö –¢–µ–æ—Ä–∏—è (12-18 –º–∏–Ω)
- üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ (8-12 –º–∏–Ω)
- ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è (2 –º–∏–Ω)

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** ~2.5 —á–∞—Å–∞ —Ç–µ–æ—Ä–∏–∏ + 2 —á–∞—Å–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ = 4-5 —á–∞—Å–æ–≤

---

## üîÑ –¶–∏–∫–ª 1: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Embedded Linux (30 –º–∏–Ω)

### üé¨ –°—é–∂–µ—Ç

**Li Wei —Ä–∏—Å—É–µ—Ç –Ω–∞ –¥–æ—Å–∫–µ:**

```
Desktop/Server Linux:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –Ø–¥—Ä–æ           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ñ–µ–ª–µ–∑–æ         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Embedded Linux:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü—Ä–∏–ª–æ–∂. + –ñ–µ–ª–µ–∑–æ‚îÇ ‚Üê –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø!
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –Ø–¥—Ä–æ           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ñ–µ–ª–µ–∑–æ         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Li Wei:** *"Embedded Linux ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª–∏–∑–º. –ù–µ—Ç X —Å–µ—Ä–≤–µ—Ä–∞. –ù–µ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –¢–æ–ª—å–∫–æ —è–¥—Ä–æ + –≤–∞—à–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã + –∂–µ–ª–µ–∑–æ."*

### üìö –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ Embedded Linux

#### Embedded –ø—Ä–æ—Ç–∏–≤ Desktop Linux

**Desktop/Server Linux:**
- –ü–æ–ª–Ω–∞—è –û–° (Ubuntu Desktop, Fedora)
- –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (GNOME, KDE)
- –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –ø–∞–∫–µ—Ç–æ–≤ (apt, dnf)
- –°–ª–æ–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
- **–ú–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏, –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ**

**Embedded Linux:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –û–° (Buildroot, Yocto, –∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Ubuntu)
- –ë–µ–∑ GUI (headless - –±–µ–∑ –≥–æ–ª–æ–≤—ã)
- –¢–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
- –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∂–µ–ª–µ–∑—É
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ**

#### üè† –ú–µ—Ç–∞—Ñ–æ—Ä–∞: –ê–≤—Ç–æ–º–æ–±–∏–ª—å –ø—Ä–æ—Ç–∏–≤ –ö–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ—Ä–∞–±–ª—è

**Desktop Linux:**
- –ö–∞–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—å: –∫–æ–º—Ñ–æ—Ä—Ç, –º–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π, –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
- –≠–ª–µ–∫—Ç—Ä–æ—Å—Ç–µ–∫–ª–æ–ø–æ–¥—ä—ë–º–Ω–∏–∫–∏, –∫–ª–∏–º–∞—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å, –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å ‚Äî –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –µ—Ö–∞—Ç—å

**Embedded Linux:**
- –ö–∞–∫ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å: –∫–∞–∂–¥–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞
- –ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–≥–∞—Ç–µ–ª—è–º–∏
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å ‚Äî –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞
- –ö–∞–∂–¥—ã–π –º–∏–ª–ª–∏–∞–º–ø–µ—Ä –Ω–∞ —Å—á–µ—Ç—É
- –ö–∞–∂–¥—ã–π –∫–∏–ª–æ–±–∞–π—Ç –ø–∞–º—è—Ç–∏ –≤–∞–∂–µ–Ω

**LILITH:** *"–í –∫–æ—Å–º–æ—Å–µ –Ω–µ—Ç 'Ctrl+Alt+Del'. –í embedded —Ç–æ–∂–µ. –û–¥–∏–Ω –≥–ª—é–∫ ‚Äî –∏ –≤–∞—à $10,000 —Å–ø—É—Ç–Ω–∏–∫ –ª–µ—Ç–∏—Ç –Ω–µ —Ç—É–¥–∞. –ò–ª–∏ –¥—Ä–æ–Ω –ø–∞–¥–∞–µ—Ç. –ò–ª–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —É–±–∏–≤–∞–µ—Ç –ø–∞—Ü–∏–µ–Ω—Ç–∞. Zero margin for error."*

#### –ü–æ–∑–∏—Ü–∏—è Raspberry Pi

Raspberry Pi ‚Äî —ç—Ç–æ **–≥–∏–±—Ä–∏–¥**:
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ—â–Ω—ã–π –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ Linux (Ubuntu)
- –ù–æ —Å GPIO –ø–∏–Ω–∞–º–∏ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∂–µ–ª–µ–∑—É
- **–õ—É—á—à–µ–µ –∏–∑ –æ–±–æ–∏—Ö –º–∏—Ä–æ–≤ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è embedded**

**–ü–æ—á–µ–º—É Pi –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:**
```
–ß–∏—Å—Ç—ã–π Embedded          Raspberry Pi          Desktop PC
(Arduino, ESP32)         (Hybrid)              (x86/x64)
        ‚Üì                     ‚Üì                      ‚Üì
–°–ª–æ–∂–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å   Ubuntu + GPIO!       –ù–µ—Ç GPIO
–ù–µ—Ç –ø–æ–ª–Ω–æ–π –û–°            –û–±–∞ –º–∏—Ä–∞             –ú–Ω–æ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
```

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ARM

**x86 –ø—Ä–æ—Ç–∏–≤ ARM:**

```
x86 (Desktop/Server):
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏: Intel/AMD
- CISC (Complex Instruction Set Computer - —Å–ª–æ–∂–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥)
- –í—ã—Å–æ–∫–æ–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ (100-300 –í–∞—Ç—Ç!)
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: –Ω–æ—É—Ç–±—É–∫–∏, —Å–µ—Ä–≤–µ—Ä–∞, –¥–µ—Å–∫—Ç–æ–ø—ã

ARM (Embedded):
- –î–∏–∑–∞–π–Ω –æ—Ç ARM Holdings (–ª–∏—Ü–µ–Ω–∑–∏—Ä—É—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º)
- RISC (Reduced Instruction Set Computer - —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥)
- –ù–∏–∑–∫–æ–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ (1-15 –í–∞—Ç—Ç)
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: —Ç–µ–ª–µ—Ñ–æ–Ω—ã, –ø–ª–∞–Ω—à–µ—Ç—ã, IoT, –¥—Ä–æ–Ω—ã
```

**Raspberry Pi 4:**
- –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä ARM Cortex-A72 (ARMv8, 64-bit)
- 4 —è–¥—Ä–∞ @ 1.5 –ì–ì—Ü
- –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: 5–í √ó 3–ê = 15 –í–∞—Ç—Ç (–ø—Ä–æ—Ç–∏–≤ 100-300–í—Ç —É Desktop!)

**üí° "Aha!" –º–æ–º–µ–Ω—Ç: –ü–æ—á–µ–º—É ARM —ç–∫–æ–Ω–æ–º–∏—á–Ω–µ–µ?**

<details>
<summary>–û—Ç–∫—Ä–æ–π—Ç–µ —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å</summary>

**RISC –ø—Ä–æ—Ç–∏–≤ CISC:**

**CISC (x86) - "–®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π –Ω–æ–∂":**
```
–û–¥–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –º–Ω–æ–≥–æ:
MULTIPLY_AND_ADD_TO_MEMORY r1, r2, [address]
‚Üì
–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ
–ë–æ–ª—å—à–µ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–æ–≤ = –±–æ–ª—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏
```

**RISC (ARM) - "–ü—Ä–æ—Å—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã":**
```
–ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π:
LOAD r1, [address]
MULTIPLY r3, r1, r2
STORE r3, [address]
‚Üì
–ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ
–ú–µ–Ω—å—à–µ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–æ–≤ = –º–µ–Ω—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ARM —Ç–µ–ª–µ—Ñ–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç 1-2 –¥–Ω—è
- x86 –Ω–æ—É—Ç–±—É–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç 4-8 —á–∞—Å–æ–≤
- –ü—Ä–∏ —Ç–æ–π –∂–µ –±–∞—Ç–∞—Ä–µ–µ!

</details>

#### –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏

```
–ü–æ–¥–∞—á–∞ –ø–∏—Ç–∞–Ω–∏—è
    ‚Üì
GPU bootloader (–≤ ROM —á–∏–ø–µ - –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å!)
    ‚Üì
bootcode.bin (–Ω–∞ SD –∫–∞—Ä—Ç–µ)
    ‚Üì
start.elf (–ø—Ä–æ—à–∏–≤–∫–∞ GPU)
    ‚Üì
–ß—Ç–µ–Ω–∏–µ config.txt
    ‚Üì
–ó–∞–≥—Ä—É–∑–∫–∞ —è–¥—Ä–∞ (kernel8.img)
    ‚Üì
–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Device Tree
    ‚Üì
–°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (systemd)
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
```

**config.txt** ‚Äî —ç—Ç–æ –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ BIOS, –Ω–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ!

**–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç:** –ù–∞ Raspberry Pi **GPU –∑–∞–≥—Ä—É–∂–∞–µ—Ç CPU**, –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç! GPU –≤–∫–ª—é—á–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –∏ —Ä–µ—à–∞–µ—Ç –∫–∞–∫–æ–µ —è–¥—Ä–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å.

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Pi –∏ –ø–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

**–ó–∞–¥–∞–Ω–∏–µ:**

1. **–ü—Ä–æ—à–∏–≤–∫–∞ Ubuntu –Ω–∞ microSD:**
```bash
# –°–∫–∞—á–∞—Ç—å Ubuntu –¥–ª—è Raspberry Pi
# https://ubuntu.com/download/raspberry-pi

# –ü—Ä–æ—à–∏—Ç—å —Å –ø–æ–º–æ—â—å—é Raspberry Pi Imager –∏–ª–∏:
sudo dd if=ubuntu-22.04-preinstalled-server-arm64+raspi.img of=/dev/sdX bs=4M status=progress
sync
```

2. **–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
```bash
# –í—Å—Ç–∞–≤–∏—Ç—å SD –≤ Pi, –≤–∫–ª—é—á–∏—Ç—å –ø–∏—Ç–∞–Ω–∏–µ
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ubuntu
# –ü–∞—Ä–æ–ª—å: ubuntu (–∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ!)

# SSH –¥–æ—Å—Ç—É–ø (–µ—Å–ª–∏ Pi –≤ —Å–µ—Ç–∏):
ssh ubuntu@raspberrypi.local
```

3. **–ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**
```bash
# –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
passwd

# –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ
sudo apt install -y build-essential git vim
```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∂–µ–ª–µ–∑–æ:**
```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ
cat /proc/cpuinfo

# –ü–∞–º—è—Ç—å
free -h

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ GPIO
cat /sys/kernel/debug/gpio  # –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ

# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –¥–ª—è Pi!)
vcgencmd measure_temp
```

5. **–í–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ):**
```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
sudo nano /boot/firmware/config.txt

# –î–æ–±–∞–≤–∏—Ç—å:
# start_x=1
# gpu_mem=256

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
sudo reboot
```

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è

**LILITH:** *"Embedded Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ —á–µ–º desktop Linux. –ü—Ä–∞–≤–¥–∞ –∏–ª–∏ –ª–æ–∂—å?"*

<details>
<summary>ü§î Embedded –ø—Ä–æ—Ç–∏–≤ Desktop —Ä–µ—Å—É—Ä—Å–æ–≤</summary>

**–û—Ç–≤–µ—Ç:** **–õ–û–ñ–¨!**

**Embedded Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ú–ï–ù–¨–®–ï —Ä–µ—Å—É—Ä—Å–æ–≤:**

**Desktop Linux (Ubuntu Desktop):**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM: 1-2 –ì–ë –≤ –ø—Ä–æ—Å—Ç–æ–µ (GUI, —Å–ª—É–∂–±—ã)
- –ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ: –º–∏–Ω–∏–º—É–º 10-20 –ì–ë
- –ü—Ä–æ—Ü–µ—Å—Å–æ–≤: 200-300 –∑–∞–ø—É—â–µ–Ω–æ

**Embedded Linux (–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π):**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM: 50-200 –ú–ë –≤ –ø—Ä–æ—Å—Ç–æ–µ (–±–µ–∑ GUI)
- –ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ: –≤–æ–∑–º–æ–∂–Ω–æ 100-500 –ú–ë
- –ü—Ä–æ—Ü–µ—Å—Å–æ–≤: 20-50 –∑–∞–ø—É—â–µ–Ω–æ

**Raspberry Pi —Å Ubuntu Server:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM: ~300-500 –ú–ë –≤ –ø—Ä–æ—Å—Ç–æ–µ
- –ö–æ–º–ø—Ä–æ–º–∏—Å—Å: —É–¥–æ–±—Å—Ç–≤–æ –ø–æ–ª–Ω–æ–≥–æ Ubuntu + embedded –¥–æ—Å—Ç—É–ø

**–ü–æ—á–µ–º—É embedded –º–µ–Ω—å—à–µ:**
- –ù–µ—Ç GUI (X —Å–µ—Ä–≤–µ—Ä, –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ)
- –ú–∏–Ω–∏–º—É–º –ø–∞–∫–µ—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —è–¥—Ä–∞
- –ö–∞—Å—Ç–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**Li Wei:** *"Embedded —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ 512–ú–ë RAM –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≥–æ–¥–∞–º–∏. Desktop Linux –Ω–∞ 512–ú–ë –¥–∞–∂–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è. –ú–∏–Ω–∏–º–∞–ª–∏–∑–º ‚Äî —ç—Ç–æ —Å–∏–ª–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –º–∏—Ä–∞."*

**üí° "Aha!" –º–æ–º–µ–Ω—Ç:**
```
iPhone (ARM, embedded):        Desktop PC (x86):
- 4-6 –ì–ë RAM                   - 16-32 –ì–ë RAM
- –†–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ!             - –¢–æ—Ä–º–æ–∑–∏—Ç —Å Chrome
- –ë–∞—Ç–∞—Ä–µ—è 1 –¥–µ–Ω—å               - –ë–∞—Ç–∞—Ä–µ—è 4-8 —á–∞—Å–æ–≤
- iOS –∑–∞–Ω–∏–º–∞–µ—Ç ~5 –ì–ë           - Windows –∑–∞–Ω–∏–º–∞–µ—Ç ~30 –ì–ë

–°–µ–∫—Ä–µ—Ç? –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –º–∏–Ω–∏–º–∞–ª–∏–∑–º!
```

</details>

---

[–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç...]

*Part 1/3 of Episode 21 README.md ‚Äî –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è*
*–¶–∏–∫–ª—ã 2-6 –≤ —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏*
## üîÑ –¶–∏–∫–ª 2: –û—Å–Ω–æ–≤—ã GPIO –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏–Ω–∞–º–∏ (35 –º–∏–Ω)

### üé¨ –°—é–∂–µ—Ç

**Li Wei –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏–Ω–æ–≤–∫—É GPIO:**

```
Raspberry Pi GPIO (40 –ø–∏–Ω–æ–≤):
 1: 3.3V      2: 5V
 3: GPIO2     4: 5V
 5: GPIO3     6: GND
 7: GPIO4     8: GPIO14
 9: GND      10: GPIO15
11: GPIO17   12: GPIO18
...
```

**Li Wei:** *"40 –ø–∏–Ω–æ–≤. –ù–æ —Ç–æ–ª—å–∫–æ ~26 GPIO. –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –ø–∏—Ç–∞–Ω–∏–µ –∏ –∑–µ–º–ª—è. –ö–∞–∂–¥—ã–π GPIO ‚Äî —ç—Ç–æ –ª–∏–Ω–∏—è –∫ —è–¥—Ä—É. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ libgpiod ‚Äî —ç—Ç–æ –≤–∞—à –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å."*

–û–Ω –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç–æ–¥–∏–æ–¥:

**Li Wei:** *"GPIO 17 ‚Üí –∞–Ω–æ–¥ LED (+) ‚Üí —Ä–µ–∑–∏—Å—Ç–æ—Ä 220Œ© ‚Üí –∫–∞—Ç–æ–¥ LED (-) ‚Üí GND. –ë–µ–∑ —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞ = –±—É–º."*

**–ú–∞–∫—Å:** *"–ü–æ—á–µ–º—É —Ä–µ–∑–∏—Å—Ç–æ—Ä?"*

**Li Wei:** *"LED –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç ~20–º–ê. GPIO –º–∞–∫—Å–∏–º—É–º 16–º–ê. –ë–µ–∑ —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞ ‚Äî –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ø–æ —Ç–æ–∫—É, LED —Å–≥–æ—Ä–∏—Ç –∏–ª–∏ GPIO –ø–æ–≤—Ä–µ–¥–∏—Ç—Å—è. –†–µ–∑–∏—Å—Ç–æ—Ä –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ç–æ–∫. –ë–∞–∑–æ–≤–∞—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞."*

### üìö –¢–µ–æ—Ä–∏—è: –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ GPIO

#### –ß—Ç–æ —Ç–∞–∫–æ–µ GPIO?

**GPIO (General Purpose Input/Output - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥):**
- –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–∏–Ω—ã –Ω–∞ Raspberry Pi
- –¶–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã: HIGH (3.3–í) –∏–ª–∏ LOW (0–í)
- –†–µ–∂–∏–º –≤—Ö–æ–¥–∞: —á–∏—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ (–∫–Ω–æ–ø–∫–∞, –¥–∞—Ç—á–∏–∫)
- –†–µ–∂–∏–º –≤—ã—Ö–æ–¥–∞: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ (LED, —Ä–µ–ª–µ)

#### üè† –ú–µ—Ç–∞—Ñ–æ—Ä–∞: –í—ã–∫–ª—é—á–∞—Ç–µ–ª—å —Å–≤–µ—Ç–∞

**GPIO —ç—Ç–æ –∫–∞–∫ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å:**

**–í–´–•–û–î (Output mode):**
```
–í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ = –ø–∞–ª–µ—Ü –Ω–∞ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–µ
GPIO HIGH (3.3–í) = —Å–≤–µ—Ç –í–ö–õ–Æ–ß–ï–ù
GPIO LOW (0–í) = —Å–≤–µ—Ç –í–´–ö–õ–Æ–ß–ï–ù

–ö–æ–¥:        –†–µ–∑—É–ª—å—Ç–∞—Ç:
set_high()  ‚Üí LED –≥–æ—Ä–∏—Ç
set_low()   ‚Üí LED –≤—ã–∫–ª—é—á–µ–Ω
```

**–í–•–û–î (Input mode):**
```
–ö–Ω–æ–ø–∫–∞ = —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å
GPIO —á–∏—Ç–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
  –ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞ ‚Üí GPIO —á–∏—Ç–∞–µ—Ç HIGH
  –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—É—â–µ–Ω–∞ ‚Üí GPIO —á–∏—Ç–∞–µ—Ç LOW

–ö–æ–¥:           –†–µ–∑—É–ª—å—Ç–∞—Ç:
if read_high() ‚Üí "–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!"
```

**LILITH:** *"GPIO ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ —Å –∂–µ–ª–µ–∑–æ–º. HIGH/LOW. 1/0. –í–∫–ª—é—á–µ–Ω–æ/–≤—ã–∫–ª—é—á–µ–Ω–æ. –¶–∏—Ñ—Ä–æ–≤–æ–π –º–∏—Ä –≤ —Å–≤–æ–µ–π —á–∏—Å—Ç–µ–π—à–µ–π —Ñ–æ—Ä–º–µ. –ù–æ –ø—Ä–æ—Å—Ç–æ ‚â† –ª–µ–≥–∫–æ. –û–¥–∏–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–æ–ª—å—Ç ‚Äî –∏ Pi —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Ä–æ–≥–∏–º –∫–∏—Ä–ø–∏—á–æ–º."*

#### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ libgpiod

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ GPIO (–≤–º–µ—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ sysfs):**

```c
#include <gpiod.h>

// 1. –û—Ç–∫—Ä—ã—Ç—å —á–∏–ø
struct gpiod_chip *chip = gpiod_chip_open_by_name("gpiochip0");

// 2. –ü–æ–ª—É—á–∏—Ç—å –ª–∏–Ω–∏—é (–ø–∏–Ω)
struct gpiod_line *line = gpiod_chip_get_line(chip, –ù–û–ú–ï–†_–ü–ò–ù–ê);

// 3. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
gpiod_line_request_output(line, "–∏–º—è_–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è", –Ω–∞—á–∞–ª—å–Ω–æ–µ_–∑–Ω–∞—á–µ–Ω–∏–µ);
// –∏–ª–∏
gpiod_line_request_input(line, "–∏–º—è_–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è");

// 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏–Ω–∏—é
gpiod_line_set_value(line, 1);  // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å HIGH
int –∑–Ω–∞—á–µ–Ω–∏–µ = gpiod_line_get_value(line);  // –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ

// 5. –û—á–∏—Å—Ç–∫–∞
gpiod_line_release(line);
gpiod_chip_close(chip);
```

**–ü–æ—á–µ–º—É libgpiod, –∞ –Ω–µ sysfs?**

<details>
<summary>üí° "Aha!" –º–æ–º–µ–Ω—Ç: –ò—Å—Ç–æ—Ä–∏—è GPIO –≤ Linux</summary>

**–°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (sysfs - –£–°–¢–ê–†–ï–õ):**
```bash
# –≠–∫—Å–ø–æ—Ä—Ç –ø–∏–Ω–∞
echo 17 > /sys/class/gpio/export
echo out > /sys/class/gpio/gpio17/direction
echo 1 > /sys/class/gpio/gpio17/value
# –í–∫–ª—é—á–∏–ª–∏ LED!

–ü—Ä–æ–±–ª–µ–º—ã:
‚ùå Race conditions (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º = –∫–æ–Ω—Ñ–ª–∏–∫—Ç)
‚ùå –ù–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏
‚ùå –ú–µ–¥–ª–µ–Ω–Ω–æ (—Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞!)
‚ùå –£—Å—Ç–∞—Ä–µ–ª–æ —Å —è–¥—Ä–æ–º 4.8+
```

**–ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± (libgpiod - –ü–†–ê–í–ò–õ–¨–ù–û):**
```c
// –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ character device
// –Ø–¥—Ä–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏
// –ë—ã—Å—Ç—Ä–æ (ioctl, –Ω–µ —Ñ–∞–π–ª—ã!)
// –ü–æ–¥–¥–µ—Ä–∂–∫–∞ events (–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è)

gpiod_line_set_value(line, 1);
‚Üì
ioctl() ‚Üí kernel ‚Üí GPIO –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä ‚Üí –ø–∏–Ω HIGH
‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–æ, –±—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ
```

**–í—ã–≤–æ–¥:** libgpiod = –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±. sysfs = legacy –∫–æ–¥ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö —Å–∏—Å—Ç–µ–º.

</details>

#### –£—Ä–æ–≤–Ω–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è

**–ö–†–ò–¢–ò–ß–ù–û:**
- Raspberry Pi GPIO: **3.3–í –ª–æ–≥–∏–∫–∞**
- Arduino: 5–í –ª–æ–≥–∏–∫–∞ (–ù–ï —Å–æ–≤–º–µ—Å—Ç–∏–º–æ –Ω–∞–ø—Ä—è–º—É—é!)
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å 5–í –¥–∞—Ç—á–∏–∫ –∫ Pi 3.3–í –ø–∏–Ω—É = **Pi –ø–æ–≤—Ä–µ–∂–¥—ë–Ω!**

**–ù—É–∂–µ–Ω level shifter –¥–ª—è 5–í —É—Å—Ç—Ä–æ–π—Å—Ç–≤.**

**–ü–æ—á–µ–º—É 3.3–í –ø—Ä–æ—Ç–∏–≤ 5–í?**

```
5–í (—Å—Ç–∞—Ä—ã–µ —Å–∏—Å—Ç–µ–º—ã):       3.3–í (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ):
- TTL –ª–æ–≥–∏–∫–∞ (1970-–µ)      - LVTTL/LVCMOS (1990-–µ+)
- –ë–æ–ª—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏           - –ú–µ–Ω—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏
- –ë–æ–ª—å—à–µ –ø–æ–º–µ—Ö             - –ú–µ–Ω—å—à–µ –ø–æ–º–µ—Ö
- Arduino, —Å—Ç–∞—Ä–æ–µ –∂–µ–ª–µ–∑–æ   - Pi, —Ç–µ–ª–µ—Ñ–æ–Ω—ã, IoT
```

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ç–æ–∫—É

**–í–ê–ñ–ù–û –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

- –û–¥–∏–Ω GPIO –ø–∏–Ω: **–º–∞–∫—Å–∏–º—É–º 16–º–ê**
- –í—Å–µ GPIO –≤–º–µ—Å—Ç–µ: **–º–∞–∫—Å–∏–º—É–º 50–º–ê**
- LED –æ–±—ã—á–Ω–æ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç 20–º–ê ‚Äî —Ä–µ–∑–∏—Å—Ç–æ—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!

**–ó–∞–∫–æ–Ω –û–º–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞:**

```
V = I √ó R (–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ = –¢–æ–∫ √ó –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ)
R = V / I

–î–ª—è LED:
V_–ø–∏—Ç–∞–Ω–∏–µ = 3.3–í (GPIO HIGH)
V_led_–ø—Ä—è–º–æ–µ = 2.0–í (—Ç–∏–ø–∏—á–Ω–æ–µ –¥–ª—è –∫—Ä–∞—Å–Ω–æ–≥–æ LED)
I_–∂–µ–ª–∞–µ–º—ã–π = 15–º–ê = 0.015–ê

–ü–∞–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –Ω–∞ —Ä–µ–∑–∏—Å—Ç–æ—Ä–µ:
V_—Ä–µ–∑–∏—Å—Ç–æ—Ä = 3.3–í - 2.0–í = 1.3–í

–ù—É–∂–Ω–æ–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ:
R = 1.3–í / 0.015–ê = 86.7Œ©

‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ–º 220Œ© (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø–∞—Å, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
```

**üí° "Aha!" –º–æ–º–µ–Ω—Ç: –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ 220Œ©?**

<details>
<summary>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</summary>

**86Œ© –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –Ω–æ –º—ã –±–µ—Ä—ë–º 220Œ©. –ü–æ—á–µ–º—É?**

**–ü—Ä–∏—á–∏–Ω–∞ 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
```
–ü—Ä–∏ 220Œ©:
I = V/R = 1.3–í / 220Œ© = 5.9–º–ê
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è GPIO (–ª–∏–º–∏—Ç 16–º–ê)
‚úÖ LED –≤—Å—ë –µ—â—ë —Å–≤–µ—Ç–∏—Ç (–º–∏–Ω–∏–º—É–º 2–º–ê)
‚úÖ –ó–∞–ø–∞—Å –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ √ó 2.7
```

**–ü—Ä–∏—á–∏–Ω–∞ 2: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**
```
–†–µ–∑–∏—Å—Ç–æ—Ä—ã E24 —Å–µ—Ä–∏—è (—Å—Ç–∞–Ω–¥–∞—Ä—Ç):
..., 180Œ©, 220Œ©, 270Œ©, ...
      ‚Üë –ë–ª–∏–∂–∞–π—à–∏–π –±–æ–ª—å—à–∏–π –∫ 86Œ©
```

**–ü—Ä–∏—á–∏–Ω–∞ 3: –í–∞—Ä–∏–∞—Ü–∏–∏**
```
LED –ø—Ä—è–º–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ:
–ö—Ä–∞—Å–Ω—ã–π: 1.8-2.2–í
–°–∏–Ω–∏–π: 3.0-3.4–í (–±–ª–∏–∑–∫–æ –∫ 3.3–í!)
–ë–µ–ª—ã–π: 3.0-3.6–í (–º–æ–∂–µ—Ç –ù–ï —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ 3.3–í!)

220Œ© —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∫—Ä–∞—Å–Ω—ã—Ö/–∑–µ–ª—ë–Ω—ã—Ö/–∂—ë–ª—Ç—ã—Ö LED
```

**–ü—Ä–∞–≤–∏–ª–æ:** *–ö–æ–≥–¥–∞ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è ‚Äî –±–æ–ª—å—à–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä = –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ. LED —Ç—É—Å–∫–Ω–µ–µ, –Ω–æ Pi —Ü–µ–ª.*

</details>

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º

**–ó–∞–¥–∞–Ω–∏–µ:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å libgpiod:**
```bash
sudo apt update
sudo apt install -y gpiod libgpiod-dev libgpiod2
```

2. **–ó–∞–≤–µ—Ä—à–∏—Ç—å starter –∫–æ–¥:**
```bash
cd ~/kernel-shadows/season-6-embedded-iot/episode-21-raspberry-pi/starter/c-code

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å gpio_control.c (–∑–∞–≤–µ—Ä—à–∏—Ç—å TODO)
nano gpio_control.c
```

3. **–ö–ª—é—á–µ–≤—ã–µ TODO –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```c
// TODO 1: –û—Ç–∫—Ä—ã—Ç—å —á–∏–ø
chip = gpiod_chip_open_by_name("gpiochip0");

// TODO 2: –ü–æ–ª—É—á–∏—Ç—å –ª–∏–Ω–∏—é
line = gpiod_chip_get_line(chip, LED_PIN);

// TODO 3: –ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—ã—Ö–æ–¥
ret = gpiod_line_request_output(line, "gpio_control", 0);

// TODO 4: –ú–∏–≥–∞–Ω–∏–µ
gpiod_line_set_value(line, 1);  // –í–ö–õ–Æ–ß–ò–¢–¨
sleep(1);
gpiod_line_set_value(line, 0);  // –í–´–ö–õ–Æ–ß–ò–¢–¨

// TODO 5: –û—á–∏—Å—Ç–∫–∞
gpiod_line_release(line);
gpiod_chip_close(chip);
```

4. **–°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**
```bash
make
sudo ./gpio_control
```

5. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∂–µ–ª–µ–∑–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ):**
```
GPIO 17 (–ø–∏–Ω 11) ‚Üí –¥–ª–∏–Ω–Ω–∞—è –Ω–æ–∂–∫–∞ LED (+)
–ö–æ—Ä–æ—Ç–∫–∞—è –Ω–æ–∂–∫–∞ LED (-) ‚Üí —Ä–µ–∑–∏—Å—Ç–æ—Ä 220Œ©
–†–µ–∑–∏—Å—Ç–æ—Ä ‚Üí GND (–ø–∏–Ω 6)
```

**–í—ã–≤–æ–¥:**
```
=== –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º - Episode 21 ===
‚úì GPIO —á–∏–ø –æ—Ç–∫—Ä—ã—Ç
‚úì GPIO –ª–∏–Ω–∏—è 17 –ø–æ–ª—É—á–µ–Ω–∞
‚úì GPIO –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ –≤—ã—Ö–æ–¥

–ú–∏–≥–∞–Ω–∏–µ LED 5 —Ä–∞–∑...
  [1] LED –í–ö–õ–Æ–ß–ï–ù
  [1] LED –í–´–ö–õ–Æ–ß–ï–ù
  ...
‚úì –°–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à—ë–Ω!
‚úì GPIO —Ä–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã
```

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è

**LILITH:** *"5–í –¥–∞—Ç—á–∏–∫ Arduino –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ Raspberry Pi 3.3–í GPIO –Ω–∞–ø—Ä—è–º—É—é. –ë–µ–∑–æ–ø–∞—Å–Ω–æ?"*

<details>
<summary>ü§î –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–π</summary>

**–û—Ç–≤–µ—Ç:** **–ù–ï–¢! –û–ø–∞—Å–Ω–æ –¥–ª—è Pi!**

**–ü—Ä–æ–±–ª–µ–º–∞:**

**Raspberry Pi GPIO:**
- –í—Ö–æ–¥–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ: –º–∞–∫—Å–∏–º—É–º 3.3–í
- –í—ã—Ö–æ–¥–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ: 3.3–í
- **–ù–ï 5–í tolerant (–Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç 5–í)!**

**Arduino (–ª–æ–≥–∏–∫–∞ 5–í):**
- –í—ã—Ö–æ–¥–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ: 5–í
- –ü–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞: ~2.5–í

**–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å 5–í –∫ Pi 3.3–í GPIO:**
- **Pi GPIO —Å–≥–æ—Ä–∏—Ç!**
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞—â–∏—Ç–Ω—ã–µ –¥–∏–æ–¥—ã –º–æ–≥—É—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å—Å—è
- –í–æ–∑–º–æ–∂–Ω–æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –≤—Å–µ–π –ø–ª–∞—Ç—ã

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

**–í–∞—Ä–∏–∞–Ω—Ç 1: Level Shifter (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å —É—Ä–æ–≤–Ω–µ–π)**
```
Arduino 5–í ‚Üí Level Shifter ‚Üí Pi 3.3–í
(–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è)

–°—Ç–æ–∏–º–æ—Å—Ç—å: $1-3
–ù–∞–¥—ë–∂–Ω–æ: ‚úÖ
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: Voltage Divider (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤—Ö–æ–¥–∞!)**
```
–°–∏–≥–Ω–∞–ª 5–í ‚Üí –†–µ–∑–∏—Å—Ç–æ—Ä 1kŒ© ‚Üí GPIO
                          ‚Üì
                     –†–µ–∑–∏—Å—Ç–æ—Ä 2kŒ©
                          ‚Üì
                         GND

–í—ã—Ö–æ–¥ = 5–í √ó (2kŒ© / (1kŒ© + 2kŒ©)) = 3.33–í ‚úÖ

‚ö†Ô∏è –¢–æ–ª—å–∫–æ –¥–ª—è –ß–¢–ï–ù–ò–Ø —Å–∏–≥–Ω–∞–ª–∞, –Ω–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏!
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 3.3–í –¥–∞—Ç—á–∏–∫**
```
–ú–Ω–æ–≥–∏–µ –¥–∞—Ç—á–∏–∫–∏ –∏–º–µ—é—Ç 3.3–í –≤–∞—Ä–∏–∞–Ω—Ç
–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ datasheet!
–ü—Ä–∏–º–µ—Ä—ã: DHT22, BME280 (–æ–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç 3.3–í)
```

**üí° –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è 5–í?**

```
Pi GPIO –≤—Ö–æ–¥:
                   3.3–í ‚Üê –±–µ–∑–æ–ø–∞—Å–Ω–æ
                    ‚Üë
                  –¥–∏–æ–¥ (–∑–∞—â–∏—Ç–∞)
                    ‚Üì
                   0–í

–ï—Å–ª–∏ –ø–æ–¥–∞—Ç—å 5–í:
5–í ‚Üí 1.7–í –ø–∞–¥–µ–Ω–∏–µ –Ω–∞ –¥–∏–æ–¥–µ = 3.3–í ‚úÖ?
–ù–ï–¢! –¢–æ–∫ —á–µ—Ä–µ–∑ –¥–∏–æ–¥ = (5-3.3)/R_internal = –æ–≥—Ä–æ–º–Ω—ã–π!
‚Üí –î–∏–æ–¥ –≥—Ä–µ–µ—Ç—Å—è
‚Üí –î–∏–æ–¥ –ø–ª–∞–≤–∏—Ç—Å—è
‚Üí GPIO –ø–æ–≤—Ä–µ–∂–¥—ë–Ω
‚Üí –í–æ–∑–º–æ–∂–Ω–æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –≤—Å–µ–π –ø–ª–∞—Ç—ã
```

**Li Wei:** *"–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–π ‚Äî —ç—Ç–æ –ø—Ä–∏—á–∏–Ω–∞ #1 —Å–≥–æ—Ä–µ–≤—à–∏—Ö Raspberry Pi. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ datasheets. 5–í –∫ 3.3–í GPIO ‚Äî —ç—Ç–æ –∫–∞–∫ 220–í –∫ 110–í –ø—Ä–∏–±–æ—Ä—É. –ë—É–º."*

</details>

---

## üîÑ –¶–∏–∫–ª 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–µ—Ä—ã –∏ –ø–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ (35 –º–∏–Ω)

### üé¨ –°—é–∂–µ—Ç

**Li Wei –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –º–æ–¥—É–ª—å –∫–∞–º–µ—Ä—ã:**

–¢–æ–Ω–∫–∏–π –ª–µ–Ω—Ç–æ—á–Ω—ã–π –∫–∞–±–µ–ª—å. CSI —Ä–∞–∑—ä—ë–º –Ω–∞ Pi. –ö–ª–∏–∫.

**Li Wei:** *"Camera Serial Interface. –ù–∞–ø—Ä—è–º—É—é –∫ GPU. –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ H.264 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è. 1080p@30fps –ª–µ–≥–∫–æ."*

**–î–º–∏—Ç—Ä–∏–π (–≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫):** *"–ù–∞–º –Ω—É–∂–Ω–∞ –∂–∏–≤–∞—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è. –í —à—Ç–∞–±. –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–∞—è –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ."*

**Li Wei:** *"libcamera-vid –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞. ffmpeg –¥–ª—è –ø–æ—Ç–æ–∫–∞. TLS —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –ú–æ–∂–Ω–æ."*

### üìö –¢–µ–æ—Ä–∏—è: –ö–∞–º–µ—Ä–∞ Raspberry Pi

#### Camera Module v2

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –°–µ–Ω—Å–æ—Ä Sony IMX219
- 8 –º–µ–≥–∞–ø–∏–∫—Å–µ–ª–µ–π
- –í–∏–¥–µ–æ: 1080p30, 720p60
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å CSI-2 (–Ω–∞–ø—Ä—è–º—É—é –∫ GPU)
- –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ H.264 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### üè† –ú–µ—Ç–∞—Ñ–æ—Ä–∞: –§–æ—Ç–æ–≥—Ä–∞—Ñ —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º

**–û–±—ã—á–Ω–∞—è USB –∫–∞–º–µ—Ä–∞:**
```
–ö–∞–º–µ—Ä–∞ ‚Üí USB ‚Üí CPU –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –ø–∏–∫—Å–µ–ª—å
              ‚Üì
           –ú–µ–¥–ª–µ–Ω–Ω–æ! CPU –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω!
           
–ö–∞–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ –∫–æ—Ç–æ—Ä—ã–π:
- –î–µ–ª–∞–µ—Ç —Å–Ω–∏–º–æ–∫
- –°–∞–º –ø—Ä–æ—è–≤–ª—è–µ—Ç –ø–ª—ë–Ω–∫—É
- –°–∞–º —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –≤ Photoshop
- –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

**Pi Camera —á–µ—Ä–µ–∑ CSI:**
```
–ö–∞–º–µ—Ä–∞ ‚Üí CSI ‚Üí GPU –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç (–∞–ø–ø–∞—Ä–∞—Ç–Ω–æ!)
              ‚Üì
           –ë—ã—Å—Ç—Ä–æ! CPU —Å–≤–æ–±–æ–¥–µ–Ω!

–ö–∞–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º:
- –§–æ—Ç–æ–≥—Ä–∞—Ñ (CPU) –¥–µ–ª–∞–µ—Ç —Å–Ω–∏–º–æ–∫
- –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç (GPU) –ø—Ä–æ—è–≤–ª—è–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
- –§–æ—Ç–æ–≥—Ä–∞—Ñ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –¥—Ä—É–≥–∏–º
- –†–µ–∑—É–ª—å—Ç–∞—Ç –≥–æ—Ç–æ–≤ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Pi Camera –º–æ–∂–µ—Ç 1080p@30fps –ø—Ä–∏ <10% CPU! USB –∫–∞–º–µ—Ä–∞ = 80%+ CPU.

#### –°—Ç–µ–∫ libcamera

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∫–∞–º–µ—Ä—ã (–≤–º–µ—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ raspivid):**

```bash
# –ó–∞—Ö–≤–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
libcamera-still -o –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.jpg

# –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ
libcamera-vid -t 10000 -o –≤–∏–¥–µ–æ.h264  # 10 —Å–µ–∫—É–Ω–¥

# –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞
libcamera-vid -t 0 --inline -o - | ffmpeg -i - [–ø–æ—Ç–æ–∫]
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `-t 0`: –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∑–∞–ø–∏—Å—å
- `--inline`: –í—Å—Ç–∞–≤–ª—è—Ç—å SPS/PPS –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞)
- `-o -`: –í—ã–≤–æ–¥ –≤ stdout (pipe –≤ ffmpeg)

**–ü–æ—á–µ–º—É --inline –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç—Ä–∏–º–∞?**

<details>
<summary>üí° "Aha!" –º–æ–º–µ–Ω—Ç: H.264 –∑–∞–≥–æ–ª–æ–≤–∫–∏</summary>

**H.264 –≤–∏–¥–µ–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:**
```
SPS (Sequence Parameter Set) ‚Üê –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏–¥–µ–æ
PPS (Picture Parameter Set)   ‚Üê –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—Ä—Ç–∏–Ω–∫–∏
I-frame (–∫–ª—é—á–µ–≤–æ–π –∫–∞–¥—Ä)       ‚Üê –ü–æ–ª–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
P-frame (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π)       ‚Üê –î–µ–ª—å—Ç–∞ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
P-frame
P-frame
I-frame ‚Üê –ù–æ–≤—ã–π –∫–ª—é—á–µ–≤–æ–π
...
```

**–ë–µ–∑ --inline:**
```
SPS/PPS —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞
‚Üì
–ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥:
- –í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ P-frames
- –ù–µ –∑–Ω–∞–µ—Ç –∫–∞–∫ –∏—Ö –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å (–Ω–µ—Ç SPS/PPS!)
- –ß—ë—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ I-frame
```

**–° --inline:**
```
–ö–∞–∂–¥—ã–π I-frame —Å–æ–¥–µ—Ä–∂–∏—Ç SPS/PPS
‚Üì
–ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç:
- –ñ–¥—ë—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ I-frame (~1 —Å–µ–∫—É–Ω–¥–∞)
- –ü–æ–ª—É—á–∞–µ—Ç SPS/PPS
- –ù–∞—á–∏–Ω–∞–µ—Ç –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í–∏–¥–µ–æ —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

**–í—ã–≤–æ–¥:** --inline = —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.

</details>

#### –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏

**–ú–µ—Ç–æ–¥ 1: UDP –ø–æ—Ç–æ–∫ (–±—ã—Å—Ç—Ä–æ, –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π)**
```bash
libcamera-vid -t 0 --inline -o - | \
  ffmpeg -i - -f mpegts udp://IP:–ü–û–†–¢
  
–ü–ª—é—Å—ã: –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (<100–º—Å)
–ú–∏–Ω—É—Å—ã: –ü–æ—Ç–µ—Ä—è –ø–∞–∫–µ—Ç–æ–≤ = –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
```

**–ú–µ—Ç–æ–¥ 2: TCP –ø–æ—Ç–æ–∫ (–Ω–∞–¥—ë–∂–Ω–æ)**
```bash
libcamera-vid -t 0 --inline --listen -o tcp://0.0.0.0:8080

–ü–ª—é—Å—ã: –ë–µ–∑ –ø–æ—Ç–µ—Ä—å
–ú–∏–Ω—É—Å—ã: –ë–æ–ª—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞ (~500–º—Å)
```

**–ú–µ—Ç–æ–¥ 3: RTSP (–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ)**
```bash
# –¢—Ä–µ–±—É–µ—Ç mediamtx –∏–ª–∏ rtsp-simple-server
# –ü–æ—Ç–æ–∫: rtsp://IP:8554/stream

–ü–ª—é—Å—ã: –°—Ç–∞–Ω–¥–∞—Ä—Ç, –º–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤
–ú–∏–Ω—É—Å—ã: –ù—É–∂–µ–Ω RTSP —Å–µ—Ä–≤–µ—Ä
```

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å –∫–∞–º–µ—Ä—ã

**–ó–∞–¥–∞–Ω–∏–µ:**

1. **–í–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ
vcgencmd get_camera
# supported=1 detected=1

# –ï—Å–ª–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞:
sudo nano /boot/firmware/config.txt
# –£–±–µ–¥–∏—Ç—å—Å—è: start_x=1, gpu_mem=256
sudo reboot
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞–º–µ—Ä—ã:**
```bash
sudo apt install -y libcamera-apps ffmpeg
```

3. **–¢–µ—Å—Ç –∑–∞—Ö–≤–∞—Ç–∞:**
```bash
# –°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ
libcamera-still -o /tmp/—Ç–µ—Å—Ç.jpg

# –ü—Ä–æ—Å–º–æ—Ç—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å GUI)
# –ò–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É
scp ubuntu@pi:/tmp/—Ç–µ—Å—Ç.jpg .
```

4. **–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Å—Ç—Ä–∏–º–∏–Ω–≥–∞:**
```bash
cd ~/kernel-shadows/season-6-embedded-iot/episode-21-raspberry-pi/starter

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å camera_stream.sh
nano camera_stream.sh
```

**–î–æ–±–∞–≤–∏—Ç—å:**
```bash
# –ü–æ–ª—É—á–∏—Ç—å IP Pi
PI_IP=$(hostname -I | awk '{print $1}')

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Ç–æ–∫
libcamera-vid -t 0 \
  --width 1280 --height 720 \
  --framerate 30 \
  --inline \
  -o - | \
ffmpeg -i - \
  -c:v copy \
  -f mpegts \
  udp://192.168.1.100:8080  # –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ IP —à—Ç–∞–±–∞
```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å:**
```bash
bash camera_stream.sh
```

6. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ç–æ–∫–∞ (–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–π –º–∞—à–∏–Ω–µ):**
```bash
# VLC
vlc udp://@:8080

# ffplay
ffplay udp://0.0.0.0:8080
```

---

[–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç...]

*Part 2/3 of Episode 21 README.md*
*–¶–∏–∫–ª—ã 4-6 + —Ñ–∏–Ω–∞–ª –≤ —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏*
## üîÑ –¶–∏–∫–ª 4: –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ SSH –∏ —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (25 –º–∏–Ω)

### üé¨ –°—é–∂–µ—Ç

**–ê–ª–µ–∫—Å (–≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫, –æ–±–µ—Å–ø–æ–∫–æ–µ–Ω–Ω—ã–π):**

*"Li Wei, Pi –±—É–¥–µ—Ç –≤ –ø–æ–ª–µ. –ö—Ä—ã–ª–æ–≤ –º–æ–∂–µ—Ç –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –µ—Å–ª–∏ –Ω–∞–π–¥—ë—Ç. –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ SSH –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ."*

**Li Wei:** *"–ó–Ω–∞–Ω–∏—è Season 5 Episode 20. –¢–æ–ª—å–∫–æ SSH –∫–ª—é—á–∏. –ë–µ–∑ –ø–∞—Ä–æ–ª–µ–π. –°–º–µ–Ω–∞ –ø–æ—Ä—Ç–∞. –í—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏."*

### üìö –¢–µ–æ—Ä–∏—è: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ = –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–ª–∏:**
- –ß–∞—Å—Ç–æ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã —É–¥–∞–ª—ë–Ω–Ω–æ
- –í–æ–∑–º–æ–∂–µ–Ω —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø
- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

**–û—Å–Ω–æ–≤—ã —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è SSH:**
```bash
# /etc/ssh/sshd_config
PermitRootLogin no              # –ó–∞–ø—Ä–µ—Ç–∏—Ç—å root –≤—Ö–æ–¥
PubkeyAuthentication yes        # –¢–æ–ª—å–∫–æ –∫–ª—é—á–∏
PasswordAuthentication no       # –ë–µ–∑ –ø–∞—Ä–æ–ª–µ–π
Port 2222                       # –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç
AllowUsers ubuntu@192.168.1.0/24  # –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫
```

**üí° "Aha!" –º–æ–º–µ–Ω—Ç: –ü–æ—á–µ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –æ–ø–∞—Å–Ω—ã?**

<details>
<summary>–†–µ–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞—Ç–∞–∫</summary>

**–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤:**
```
–ù–æ–≤—ã–π Pi –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ:
–í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–π –∞—Ç–∞–∫–∏: ~5-10 –º–∏–Ω—É—Ç
–ü–æ–ø—ã—Ç–æ–∫ –≤ —á–∞—Å: 100-1000
–¢–æ–ø –ø–∞—Ä–æ–ª–µ–π:
1. admin/admin
2. root/root  
3. pi/raspberry (—Å—Ç–∞–Ω–¥–∞—Ä—Ç Pi!)
4. 123456
5. password
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```
1. –ë–æ—Ç —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤–µ—Å—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (port 22)
2. –ù–∞—Ö–æ–¥–∏—Ç –≤–∞—à Pi
3. –ü—Ä–æ–±—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
4. pi/raspberry ‚Üí –£–°–ü–ï–•!
5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç malware
6. Pi —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç—å—é botnet
```

**–ó–∞—â–∏—Ç–∞:**
```
SSH –∫–ª—é—á–∏:
- 4096-bit RSA = 2^4096 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –ü–µ—Ä–µ–±–æ—Ä = —Ç—Ä–∏–ª–ª–∏–æ–Ω—ã –ª–µ—Ç
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å = 10 —Å–µ–∫—É–Ω–¥

–°–º–µ–Ω–∞ –ø–æ—Ä—Ç–∞ 22 ‚Üí 2222:
- 90% –±–æ—Ç–æ–≤ —Å–∫–∞–Ω–∏—Ä—É—é—Ç —Ç–æ–ª—å–∫–æ 22
- –ù–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–æ –º–µ–Ω—å—à–µ —à—É–º–∞ –≤ –ª–æ–≥–∞—Ö
```

**Li Wei:** *"–í embedded –º–∏—Ä–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å = —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø + —Å–µ—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø. –ö—Ä—ã–ª–æ–≤ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ Pi —Ñ–∏–∑–∏—á–µ—Å–∫–∏. –ü–æ—ç—Ç–æ–º—É –∫–ª—é—á–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã, –¥–∏—Å–∫ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω, –∞–≤—Ç–æ—É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤—Å–∫—Ä—ã—Ç–∏–∏. –ü–∞—Ä–∞–Ω–æ–π—è? –ù–µ—Ç. –†–µ–∞–ª—å–Ω–æ—Å—Ç—å."*

</details>

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH

**–ó–∞–¥–∞–Ω–∏–µ:**

1. **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SSH –∫–ª—é—á (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ):**
```bash
ssh-keygen -t ed25519 -C "pi-surveillance"
```

2. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –Ω–∞ Pi:**
```bash
ssh-copy-id ubuntu@raspberrypi.local
```

3. **–£–∫—Ä–µ–ø–∏—Ç—å SSH:**
```bash
# –ù–∞ Pi
sudo nano /etc/ssh/sshd_config

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ
PermitRootLogin no
PasswordAuthentication no
PubkeyAuthentication yes

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart sshd
```

4. **–¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É:**
```bash
ssh ubuntu@raspberrypi.local
# –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –ø–∞—Ä–æ–ª—è
```

---

## üîÑ –¶–∏–∫–ª 5: –°–ª—É–∂–±–∞ systemd –∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ (25 –º–∏–Ω)

### üé¨ –°—é–∂–µ—Ç

**–í–∏–∫—Ç–æ—Ä:** *"Pi –±—É–¥–µ—Ç –≤ –ø–æ–ª–µ 24/7. –ï—Å–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ ‚Äî –ø–æ—Ç–æ–∫ –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è. systemd —Å–ª—É–∂–±–∞."*

**Li Wei:** *"–ó–Ω–∞–Ω–∏—è Season 3 Episode 10. –§–∞–π–ª .service systemd. WantedBy=multi-user.target. Enable. –ì–æ—Ç–æ–≤–æ."*

### üìö –¢–µ–æ—Ä–∏—è: systemd –Ω–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

**–§–∞–π–ª unit —Å–ª—É–∂–±—ã:**
```ini
[Unit]
Description=Surveillance Camera Stream
After=network.target

[Service]
Type=simple
User=ubuntu
ExecStart=/–ø—É—Ç—å/–∫/camera_stream.sh
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

**–ü–æ—á–µ–º—É systemd –Ω–∞ embedded?**

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- **init.d —Å–∫—Ä–∏–ø—Ç—ã:** Legacy, —Å–ª–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **rc.local:** –ü—Ä–∏–º–∏—Ç–∏–≤–Ω–æ, –Ω–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è
- **cron @reboot:** –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –Ω–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- **systemd:** –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –º–æ—â–Ω–æ, —Å—Ç–∞–Ω–¥–∞—Ä—Ç

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ systemd –¥–ª—è embedded:**
```
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (—Å–µ—Ç—å, –¥–∏—Å–∫ –∏ —Ç.–¥.)
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ journald
‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, RAM –ª–∏–º–∏—Ç—ã)
‚úÖ Watchdog –ø–æ–¥–¥–µ—Ä–∂–∫–∞
```

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫

**–ó–∞–¥–∞–Ω–∏–µ:**

1. **–°–æ–∑–¥–∞—Ç—å —Å–ª—É–∂–±—É:**
```bash
sudo nano /etc/systemd/system/surveillance.service
```

–î–æ–±–∞–≤–∏—Ç—å:
```ini
[Unit]
Description=Surveillance Camera
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu
ExecStart=/home/ubuntu/camera_stream.sh
Restart=always

[Install]
WantedBy=multi-user.target
```

2. **–í–∫–ª—é—á–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**
```bash
sudo systemctl daemon-reload
sudo systemctl enable surveillance
sudo systemctl start surveillance
```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**
```bash
sudo systemctl status surveillance
```

4. **–¢–µ—Å—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞:**
```bash
sudo reboot
# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:
sudo systemctl status surveillance
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–∞
```

---

## üîÑ –¶–∏–∫–ª 6: Production —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ (25 –º–∏–Ω)

### üé¨ –°—é–∂–µ—Ç ‚Äî –î–µ–Ω—å 42, –≤–µ—á–µ—Ä

**–í–∏–∫—Ç–æ—Ä:** *"–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞?"*

**–ú–∞–∫—Å:** *"–î–∞. Raspberry Pi –Ω–∞—Å—Ç—Ä–æ–µ–Ω. GPIO —Å–∏–≥–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç. –ü–æ—Ç–æ–∫ –∫–∞–º–µ—Ä—ã –∞–∫—Ç–∏–≤–µ–Ω. SSH —É–∫—Ä–µ–ø–ª—ë–Ω. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ systemd. –í—Å—ë."*

**–î–º–∏—Ç—Ä–∏–π:** *"–Ø –≤–∏–∂—É –ø–æ—Ç–æ–∫. 720p, 30fps, —á—ë—Ç–∫–∏–π. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞—é —Å–µ–π—á–∞—Å."*

**Li Wei:** *"–ü–æ–º–Ω–∏: Pi –≤ –ø–æ–ª–µ ‚Äî —ç—Ç–æ –æ—Ç–∫—Ä—ã—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∏—Ç–∞–Ω–∏—è, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã."*

### üìö –¢–µ–æ—Ä–∏—è: Production —á–µ–∫–ª–∏—Å—Ç

**–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ embedded:**
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–± (systemd)
- ‚úÖ Watchdog –¥–ª—è –ø–∞–¥–µ–Ω–∏–π
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (`vcgencmd measure_temp`)
- ‚úÖ –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ!)
- ‚úÖ –ú–µ—Ö–∞–Ω–∏–∑–º —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –ª–∏–º–∏—Ç—ã Pi:**
```
Normal:    35-50¬∞C   ‚úÖ –í—Å—ë —Ö–æ—Ä–æ—à–æ
Warm:      50-60¬∞C   ‚ö†Ô∏è –ù–∞–≥—Ä—É–∂–µ–Ω
Hot:       60-70¬∞C   üî• –¢—Ä–æ—Ç—Ç–ª–∏–Ω–≥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
Critical:  70-80¬∞C   ‚ùå –ê–≤–∞—Ä–∏–π–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ
Throttle:  80¬∞C      üíÄ CPU –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ü—Ä–∏—á–∏–Ω—ã –ø–µ—Ä–µ–≥—Ä–µ–≤–∞:
- –ù–µ—Ç —Ä–∞–¥–∏–∞—Ç–æ—Ä–∞
- –ù–µ—Ç –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ –≤ –∫–æ—Ä–ø—É—Å–µ  
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ CPU/GPU
- –ü—Ä—è–º—ã–µ —Å–æ–ª–Ω–µ—á–Ω—ã–µ –ª—É—á–∏
```

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –§–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ó–∞–¥–∞–Ω–∏–µ:**

1. **–ú–æ–Ω–∏—Ç–æ—Ä —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:**
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
crontab -e

# –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * vcgencmd measure_temp >> /var/log/pi_temp.log
```

2. **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤:**
```bash
sudo nano /etc/logrotate.d/pi-logs

# –ö–æ–Ω—Ñ–∏–≥
/var/log/pi_temp.log {
    daily
    rotate 7
    compress
    missingok
}
```

3. **Watchdog (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
sudo apt install -y watchdog
sudo systemctl enable watchdog
```

4. **–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∫–æ–Ω—Ñ–∏–≥–∞:**
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
sudo cp /boot/firmware/config.txt ~/config.txt.backup
tar -czf pi-config-backup.tar.gz ~/*.backup /etc/systemd/system/surveillance.service
```

---

## üéØ –§–∏–Ω–∞–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### –°—é–∂–µ—Ç ‚Äî –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

**–í–∏–∫—Ç–æ—Ä:** *"–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 55.7558¬∞ N, 37.6173¬∞ E. –ú–æ—Å–∫–≤–∞. –ó–¥–∞–Ω–∏–µ –≥–¥–µ –º–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –ö—Ä—ã–ª–æ–≤. –£—Å—Ç–∞–Ω–æ–≤–∏ Pi. –°–∫—Ä—ã—Ç–Ω–æ."*

**–ú–∞–∫—Å (–≤ –ú–æ—Å–∫–≤–µ, 03:00):**

–ö—Ä—ã—à–∞ –∑–¥–∞–Ω–∏—è. –¢–µ–º–Ω–æ. Pi –≤ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ–º –∫–æ—Ä–ø—É—Å–µ. –ü–∏—Ç–∞–Ω–∏–µ –æ—Ç —Å–æ–ª–Ω–µ—á–Ω–æ–π –ø–∞–Ω–µ–ª–∏.

–ö–∞–º–µ—Ä–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –≤—Ö–æ–¥. LED –º–∏–≥–∞–µ—Ç 3 —Ä–∞–∑–∞ ‚Äî —Å–∏–≥–Ω–∞–ª: "–Ø –∂–∏–≤".

SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ —à—Ç–∞–±. –ü–æ—Ç–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è.

**–ê–Ω–Ω–∞ (—à—Ç–∞–±):** *"–ü–æ—Ç–æ–∫ –ø–æ–ª—É—á–µ–Ω. –ß—ë—Ç–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. –•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞."*

**LILITH:** *"Embedded Linux —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç. GPIO —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è. –ö–∞–º–µ—Ä–∞ —Å—Ç—Ä–∏–º–∏—Ç. systemd —É–ø—Ä–∞–≤–ª—è–µ—Ç. –û—Ç junior sysadmin –∫ embedded –∏–Ω–∂–µ–Ω–µ—Ä—É –∑–∞ 5 —á–∞—Å–æ–≤. –ù–µ–ø–ª–æ—Ö–æ."*

---

### –ò—Ç–æ–≥–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**

- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Raspberry Pi –∑–∞–≤–µ—Ä—à–µ–Ω–∞**
  ```bash
  # Ubuntu —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
  # SSH –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É
  # –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
  ```

- [ ] **–ü—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GPIO —Ä–∞–±–æ—Ç–∞–µ—Ç**
  ```bash
  cd starter/c-code
  make
  sudo ./gpio_control
  # LED –¥–æ–ª–∂–µ–Ω –º–∏–≥–∞—Ç—å 5 —Ä–∞–∑
  ```

- [ ] **–ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å –∫–∞–º–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω–∞**
  ```bash
  bash camera_stream.sh
  # –ü–æ—Ç–æ–∫ –≤–∏–¥–µ–Ω –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ
  ```

- [ ] **systemd —Å–ª—É–∂–±–∞ –≤–∫–ª—é—á–µ–Ω–∞**
  ```bash
  sudo systemctl status surveillance
  # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å active –∏ enabled
  ```

- [ ] **Production –∫–æ–Ω—Ñ–∏–≥–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã**
  ```bash
  # /boot/firmware/config.txt –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
  # SSH —É–∫—Ä–µ–ø–ª—ë–Ω
  # –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
  ```

**–ë–æ–Ω—É—Å:**
- [ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ—Ç–æ–∫–∞ (TLS/SSH —Ç—É–Ω–Ω–µ–ª—å)
- [ ] –ù–µ—Å–∫–æ–ª—å–∫–æ GPIO –¥–∞—Ç—á–∏–∫–æ–≤
- [ ] Web –ø–∞–Ω–µ–ª—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

**–ú–∏–Ω–∏–º—É–º (Pass):**
- ‚úÖ Pi –∑–∞–≥—Ä—É–∂–∞–µ—Ç Ubuntu
- ‚úÖ GPIO LED —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–æ—Ç–æ–∫ –∫–∞–º–µ—Ä—ã –≤–∏–¥–µ–Ω
- ‚úÖ SSH –¥–æ—Å—Ç—É–ø (–Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–µ–π)

**–ò–¥–µ–∞–ª—å–Ω–æ (Excellence):**
- ‚úÖ systemd –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Production —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- ‚úÖ –ü–æ—Ç–æ–∫ —Å—Ç–∞–±–∏–ª–µ–Ω 24/7
- ‚úÖ –ß–∏—Å—Ç—ã–π C –∫–æ–¥ (–±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π)

---

## üß™ –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã

```bash
cd ~/kernel-shadows/season-6-embedded-iot/episode-21-raspberry-pi
./tests/test.sh
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—Ç:
- –°—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤
- –ö–∞—á–µ—Å—Ç–≤–æ C –∫–æ–¥–∞
- –ü–æ–ª–Ω–æ—Ç—É —Ä–µ—à–µ–Ω–∏—è
- –ö–æ–º–ø–∏–ª—è—Ü–∏—é (–µ—Å–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ)

---

## üìö –†–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Raspberry Pi:** https://www.raspberrypi.com/documentation/
- **libgpiod:** https://git.kernel.org/pub/scm/libs/libgpiod/libgpiod.git/
- **libcamera:** https://libcamera.org/

### –ñ–µ–ª–µ–∑–æ
- **GPIO —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞:** https://pinout.xyz/
- **–ú–æ–¥—É–ª—å –∫–∞–º–µ—Ä—ã:** https://www.raspberrypi.com/products/camera-module-v2/

### –û–±—É—á–µ–Ω–∏–µ
- **Embedded Linux Primer** (–∫–Ω–∏–≥–∞)
- **Mastering Embedded Linux Programming** (–∫–Ω–∏–≥–∞)

---

## üéì –ò—Ç–æ–≥–∏ Episode 21

### –ß—Ç–æ –∏–∑—É—á–∏–ª–∏

**Embedded Linux:**
- ‚úÖ –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ ARM –ø—Ä–æ—Ç–∏–≤ x86
- ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ (bootloader, config.txt)
- ‚úÖ systemd –Ω–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

**–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ GPIO:**
- ‚úÖ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ libgpiod
- ‚úÖ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ C –¥–ª—è –∂–µ–ª–µ–∑–∞
- ‚úÖ –£—Ä–æ–≤–Ω–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–æ–∫–∞
- ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LED

**–ö–∞–º–µ—Ä–∞ –∏ –ø–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞:**
- ‚úÖ –§—Ä–µ–π–º–≤–æ—Ä–∫ libcamera
- ‚úÖ H.264 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –°–µ—Ç–µ–≤–æ–π —Å—Ç—Ä–∏–º–∏–Ω–≥ (UDP/TCP)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ffmpeg

**Production –Ω–∞–≤—ã–∫–∏:**
- ‚úÖ –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ SSH
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ systemd
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –ª–æ–≥–∏)
- ‚úÖ –£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

---

## üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

**Embedded Linux –∏–Ω–∂–µ–Ω–µ—Ä! ü§ñ**

**–ú–∞–∫—Å —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Raspberry Pi –¥–ª—è production
- –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å GPIO —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–µ–ª–µ–∑–æ–º
- –°—Ç—Ä–∏–º–∏—Ç—å –ø–æ—Ç–æ–∫ –∫–∞–º–µ—Ä—ã —É–¥–∞–ª—ë–Ω–Ω–æ
- –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞—Ç—å –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è

**Li Wei:** *"Episode 21 ‚Äî —ç—Ç–æ foundation. GPIO, –∫–∞–º–µ—Ä–∞, systemd. Episode 22 ‚Äî –¥—Ä–æ–Ω—ã. –ü—Ä–æ—Ç–æ–∫–æ–ª MAVLink. –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –ø–æ–ª—ë—Ç. –°–ª–æ–∂–Ω–µ–µ. –ì–æ—Ä–∞–∑–¥–æ —Å–ª–æ–∂–Ω–µ–µ. –ì–æ—Ç–æ–≤?"*

**–ú–∞–∫—Å:** *"–ü–æ—Å–ª–µ —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Season 5 –∏ —Ç–µ–ø–µ—Ä—å embedded? –ì–æ—Ç–æ–≤ –∫ —á–µ–º—É —É–≥–æ–¥–Ω–æ."*

**LILITH:** *"Embedded Linux ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ Linux. –≠—Ç–æ –≥–¥–µ software –∏–Ω–∂–µ–Ω–µ—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è hardware –∏–Ω–∂–µ–Ω–µ—Ä–æ–º. –¢—ã —Ç–µ–ø–µ—Ä—å –æ–±–∞. –ò —ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è –æ–ø–∞—Å–Ω—ã–º. –í —Ö–æ—Ä–æ—à–µ–º —Å–º—ã—Å–ª–µ."*

---

**–°—Ç–∞—Ç—É—Å:** Episode 21 –ó–ê–í–ï–†–®–Å–ù ‚úÖ  
**–î–∞–ª–µ–µ:** [Episode 22: –î—Ä–æ–Ω—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–ü–õ–ê](../episode-22-drones/)  
**–°–µ–∑–æ–Ω:** [Season 6: Embedded Linux & IoT](../)  
**–ö—É—Ä—Å:** [KERNEL SHADOWS](../../../)

---

*"–ñ–µ–ª–µ–∑–æ ‚Äî —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é –¥–ª—è software. Embedded Linux ‚Äî —ç—Ç–æ –≥–¥–µ –æ–Ω–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è."* ‚Äî Li Wei
