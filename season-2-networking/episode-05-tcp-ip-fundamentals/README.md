# Episode 05: TCP/IP Fundamentals

```
–û–ü–ï–†–ê–¶–ò–Ø: KERNEL SHADOWS
–°–ï–ó–û–ù: 2 ‚Äî Networking
–≠–ü–ò–ó–û–î: 05 ‚Äî TCP/IP Fundamentals
–õ–û–ö–ê–¶–ò–Ø: üá∑üá∫ –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è (–¶–û–î "–ú–æ—Å–∫–≤–∞-1")
–î–ï–ù–¨ –û–ü–ï–†–ê–¶–ò–ò: 9 (–∏–∑ 60)
–°–õ–û–ñ–ù–û–°–¢–¨: ‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ
–í–†–ï–ú–Ø: 5-5.5 —á–∞—Å–æ–≤
```

---

## üìÖ –î–µ–Ω—å 8 (10 –æ–∫—Ç—è–±—Ä—è 2025, 21:37): –ó–≤–æ–Ω–æ–∫ –æ—Ç –ê–ª–µ–∫—Å–∞

### –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ ‚Üí –ú–æ—Å–∫–≤–∞

**–õ–æ–∫–∞—Ü–∏—è:** –ö–≤–∞—Ä—Ç–∏—Ä–∞ –ú–∞–∫—Å–∞, –ê–∫–∞–¥–µ–º–≥–æ—Ä–æ–¥–æ–∫. –ó–∞ –æ–∫–Ω–æ–º —Ç–µ–º–Ω–æ—Ç–∞ –∏ —Å–Ω–µ–≥. –í—Ä–µ–º—è: 21:37.

–ú–∞–∫—Å —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–∫–æ–Ω—á–∏–ª Episode 04 (package management). –í–∏–∫—Ç–æ—Ä –ø–µ—Ä–µ–≤—ë–ª $15K. 4 —ç–ø–∏–∑–æ–¥–∞ –ø—Ä–æ–π–¥–µ–Ω—ã.

–¢–µ–ª–µ—Ñ–æ–Ω. **–ê–ª–µ–∫—Å –°–æ–∫–æ–ª–æ–≤** (–¥–≤–æ—é—Ä–æ–¥–Ω—ã–π –±—Ä–∞—Ç).

> **–ê–ª–µ–∫—Å:**
> *"–ú–∞–∫—Å. –£ –Ω–∞—Å –ø—Ä–æ–±–ª–µ–º–∞. –ö—Ä—ã–ª–æ–≤ –∑–Ω–∞–µ—Ç –æ –Ω–∞—Å. –ù—É–∂–µ–Ω —Ç—ã. –õ–∏—á–Ω–æ. –ó–∞–≤—Ç—Ä–∞. –ú–æ—Å–∫–≤–∞."*

–ú–∞–∫—Å: *"–ö–∞–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞?"*

> **–ê–ª–µ–∫—Å:**
> *"–ü–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –Ω–µ –≥–æ–≤–æ—Ä—é. –í—ã–ª–µ—Ç–∞–µ—à—å —Ä–µ–π—Å–æ–º S7 –≤ 09:15. –ë–∏–ª–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –Ω–∞ email. –í—Å—Ç—Ä–µ—á—É –≤ –î–æ–º–æ–¥–µ–¥–æ–≤–æ."*

–ú–∞–∫—Å: *"–ê–ª–µ–∫—Å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?"*

> **–ê–ª–µ–∫—Å:**
> *"–ù–∞—Å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—é—Ç. –°–µ—Ç–∏ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã. –ü—Ä–∏–µ–∑–∂–∞–π."*

–ì—É–¥–∫–∏. –ê–ª–µ–∫—Å –æ—Ç–∫–ª—é—á–∏–ª—Å—è.

–ú–∞–∫—Å —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω. Email –æ—Ç –ê–ª–µ–∫—Å–∞:
```
From: a.sokolov@secured.net
Subject: –ë–∏–ª–µ—Ç S7-1203 (NVS ‚Üí DME)
Attachment: ticket.pdf

–ó–∞–≤—Ç—Ä–∞. 09:15. –ù–µ –æ–ø–∞–∑–¥—ã–≤–∞–π.
‚Äî A.
```

–ú–∞–∫—Å: *"–ß—ë—Ä—Ç. –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫."*

**–ü–∞—É–∑–∞.**

–ú–∞–∫—Å: *"–õ–∞–¥–Ω–æ. –ú–æ—Å–∫–≤–∞ —Ç–∞–∫ –ú–æ—Å–∫–≤–∞."*

---

## üìÖ –î–µ–Ω—å 9 (11 –æ–∫—Ç—è–±—Ä—è 2025, 12:40): –í—Å—Ç—Ä–µ—á–∞ —Å –∫–æ–º–∞–Ω–¥–æ–π

### –ê—ç—Ä–æ–ø–æ—Ä—Ç –î–æ–º–æ–¥–µ–¥–æ–≤–æ ‚Üí –¶–û–î "–ú–æ—Å–∫–≤–∞-1"

**12:40 ‚Äî –î–æ–º–æ–¥–µ–¥–æ–≤–æ, –∑–∞–ª –ø—Ä–∏–ª—ë—Ç–∞**

–ú–∞–∫—Å –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞. –¢–æ–ª–ø–∞, —Ç–∞–∫—Å–∏, —Ö–æ–ª–æ–¥–Ω—ã–π –≤–µ—Ç–µ—Ä. –ú–æ—Å–∫–≤–∞. –í–ø–µ—Ä–≤—ã–µ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã.

–ß–µ—Ä–Ω—ã–π BMW X5. –¢–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—ë–∫–ª–∞. –í–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –¥–≤–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è.

**–ê–ª–µ–∫—Å –°–æ–∫–æ–ª–æ–≤.** 33 –≥–æ–¥–∞. –ö–æ—Ä–æ—Ç–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞, —Å–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –∫—É—Ä—Ç–∫–∞, –ø—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –≤–∑–≥–ª—è–¥. Ex-FSB. –¢–≤–æ–π –¥–≤–æ—é—Ä–æ–¥–Ω—ã–π –±—Ä–∞—Ç.

> **–ê–ª–µ–∫—Å:**
> *"–ú–∞–∫—Å. –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú–æ—Å–∫–≤—É. –°–∞–¥–∏—Å—å. –ü–æ–µ–¥–µ–º –≤ –¶–û–î."*

–ú–∞–∫—Å —Å–∞–¥–∏—Ç—Å—è. BMW —É–µ–∑–∂–∞–µ—Ç –æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.

> **–ê–ª–µ–∫—Å:**
> *"–ö–∞–∫ –ø—Ä–æ—à–ª–∏ –ø–µ—Ä–≤—ã–µ 4 —ç–ø–∏–∑–æ–¥–∞?"*

–ú–∞–∫—Å: *"–°–ø—Ä–∞–≤–∏–ª—Å—è. –í–∏–∫—Ç–æ—Ä –¥–æ–≤–æ–ª–µ–Ω. –ù–æ —Ç—ã –∂–µ –Ω–µ –ø–æ—ç—Ç–æ–º—É –º–µ–Ω—è –≤—ã–∑–≤–∞–ª?"*

> **–ê–ª–µ–∫—Å:**
> *"–ù–µ—Ç. –ö—Ä—ã–ª–æ–≤ –∞–∫—Ç–∏–≤–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è. DDoS –∞—Ç–∞–∫–∏. DNS spoofing. –í—á–µ—Ä–∞ –±—ã–ª–æ 50,000 –ø–∞–∫–µ—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã –í–∏–∫—Ç–æ—Ä–∞."*

–ú–∞–∫—Å: *"–ö—Ä—ã–ª–æ–≤? –ö—Ç–æ —ç—Ç–æ?"*

–ü–∞—É–∑–∞. –ê–ª–µ–∫—Å —Å–º–æ—Ç—Ä–∏—Ç –≤ –∑–µ—Ä–∫–∞–ª–æ –∑–∞–¥–Ω–µ–≥–æ –≤–∏–¥–∞. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ª–µ–∂–∫—É.

> **–ê–ª–µ–∫—Å:**
> *"–ü–æ–ª–∫–æ–≤–Ω–∏–∫ –ò–≥–æ—Ä—å –ö—Ä—ã–ª–æ–≤. –§–°–ë, –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ '–ö'. –ú–æ–π –±—ã–≤—à–∏–π –Ω–∞—á–∞–ª—å–Ω–∏–∫. –ö–æ–≥–¥–∞ —è —É—à—ë–ª –∏–∑ –§–°–ë... –æ–Ω –Ω–µ –ø—Ä–æ—Å—Ç–∏–ª."*

–ú–∞–∫—Å: *"–ò —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ?"*

> **–ê–ª–µ–∫—Å:**
> *"–ù–∞—Å. –ú–µ–Ω—è. –í–∏–∫—Ç–æ—Ä–∞. –û–ø–µ—Ä–∞—Ü–∏—é. –Ø –Ω–µ –∑–Ω–∞—é. –ù–æ –æ–Ω –∞—Ç–∞–∫—É–µ—Ç —Å–µ—Ç–∏. –ù–∞–º –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∫–∞–∫. –î–ª—è —ç—Ç–æ–≥–æ —Ç—ã –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å TCP/IP."*

**13:30 ‚Äî –¶–û–î "–ú–æ—Å–∫–≤–∞-1", –°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π –ê–û**

–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –∑–æ–Ω–∞. –ó–¥–∞–Ω–∏–µ –±–µ–∑ –≤—ã–≤–µ—Å–æ–∫. 5 —ç—Ç–∞–∂–µ–π. –ë–µ—Ç–æ–Ω–Ω—ã–µ —Å—Ç–µ–Ω—ã. –û—Ö—Ä–∞–Ω–∞. –¢—É—Ä–Ω–∏–∫–µ—Ç—ã. –ë–∏–æ–º–µ—Ç—Ä–∏—è.

–ê–ª–µ–∫—Å –ø—Ä–æ–≤–æ–¥–∏—Ç –ú–∞–∫—Å–∞ –≤–Ω—É—Ç—Ä—å. –•–æ–ª–æ–¥–Ω—ã–π –≤–æ–∑–¥—É—Ö –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤. –ì—É–¥–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤. –ú–∏–≥–∞—é—â–∏–µ –∑–µ–ª—ë–Ω—ã–µ –∏ –∫—Ä–∞—Å–Ω—ã–µ LED.

**–°–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞ A-12.**

–¢—Ä–∏ —á–µ–ª–æ–≤–µ–∫–∞ —É–∂–µ –∑–¥–µ—Å—å:

### **Viktor Petrov**
–°–µ–¥—ã–µ –≤–æ–ª–æ—Å—ã, —á—ë—Ä–Ω—ã–π –∫–æ—Å—Ç—é–º. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–∏.

> **–í–∏–∫—Ç–æ—Ä:**
> *"–ú–∞–∫—Å. –•–æ—Ä–æ—à–æ —á—Ç–æ –ø—Ä–∏–ª–µ—Ç–µ–ª. –°–∏—Ç—É–∞—Ü–∏—è —Å–µ—Ä—å—ë–∑–Ω–∞—è."*

### **Anna Kovaleva**
32 –≥–æ–¥–∞, –±–ª–æ–Ω–¥–∏–Ω–∫–∞, —Å—Ç—Ä–æ–≥–∏–π –∫–æ—Å—Ç—é–º, laptop —Å Wireshark. Ex-FSB, forensics expert.

> **–ê–Ω–Ω–∞:**
> *"–ú–∞–∫—Å –°–æ–∫–æ–ª–æ–≤. –ê–ª–µ–∫—Å –º–Ω–æ–≥–æ –æ —Ç–µ–±–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª. –Ø –ê–Ω–Ω–∞. Forensics. –ë—É–¥—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª–æ–≥–∞–º–∏ –∞—Ç–∞–∫. –ù–∞–º –Ω—É–∂–µ–Ω —Ç–≤–æ–π —Å–∏—Å–∞–¥–º–∏–Ω –æ–ø—ã—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã —Å–µ—Ç–µ–π."*

### **Dmitry Orlov**
29 –ª–µ—Ç, hoodie, –¥–∂–∏–Ω—Å—ã, 3 –º–æ–Ω–∏—Ç–æ—Ä–∞. DevOps engineer.

> **–î–º–∏—Ç—Ä–∏–π:**
> *"–ú–∞–∫—Å! –ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ –ª–∏—á–Ω–æ. –¢–≤–æ–∏ —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ Episode 02-04 ‚Äî –æ–≥–æ–Ω—å. –Ø –∏—Ö —É–∂–µ –∑–∞–¥–µ–ø–ª–æ–∏–ª –Ω–∞ 15 —Å–µ—Ä–≤–µ—Ä–æ–≤. –ù–æ —Å–µ—Ç—å ‚Äî —ç—Ç–æ –º–æ—è —Å–ª–∞–±–∞—è —Å—Ç–æ—Ä–æ–Ω–∞. –¢—ã —Å–∏–ª—å–Ω–µ–µ."*

Max: *"–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è. –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?"*

**–í–∏–∫—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä—ã.**

Grafana dashboard. –ö—Ä–∞—Å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏. Alerts.

> **–í–∏–∫—Ç–æ—Ä:**
> *"50,000 –ø–∞–∫–µ—Ç–æ–≤/—Å–µ–∫. DDoS. DNS –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–µ —Ç—É–¥–∞. –ö—Ç–æ-—Ç–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫. –ö—Ä—ã–ª–æ–≤?"*

> **–ê–ª–µ–∫—Å:**
> *"–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —è –ø—Ä–∏–º–µ–Ω—è–ª –≤ –§–°–ë."*

> **Anna:**
> *"–õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ —Å 185.220.101.47. Tor exit node. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Krylov –ø–æ—á–µ—Ä–∫."*

> **Viktor:**
> *"–ú–∞–∫—Å, –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Å–µ—Ç–∏. TCP/IP. –ú–æ–¥–µ–ª—å OSI. IP –∞–¥—Ä–µ—Å–∞. –ü–æ—Ä—Ç—ã. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∞—Ç–∞–∫–∏. –ö–∞–∫ –∑–∞—â–∏—â–∞—Ç—å—Å—è."*

> **Alex:**
> *"–Ø –Ω–∞—É—á—É —Ç–µ–±—è –¥—É–º–∞—Ç—å –∫–∞–∫ –∞—Ç–∞–∫—É—é—â–∏–π. Anna ‚Äî –∫–∞–∫ –∑–∞—â–∏—Ç–Ω–∏–∫. Dmitry –ø–æ–º–æ–∂–µ—Ç —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π."*

> **Viktor:**
> *"–ù–∞—á–∏–Ω–∞–µ–º —Å –æ—Å–Ω–æ–≤. TCP/IP. –°–µ–≥–æ–¥–Ω—è. –£ —Ç–µ–±—è 5-6 —á–∞—Å–æ–≤. –ü–æ–≥—Ä—É–∂–∞–π—Å—è."*

---

## üéÆ –ù–∞—á–∞–ª–æ –º–∏—Å—Å–∏–∏

### 14:00 ‚Äî LILITH –ø–æ—è–≤–ª—è–µ—Ç—Å—è

Max —Å–∞–¥–∏—Ç—Å—è –∑–∞ —Å–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª. Linux workstation. Ubuntu 24.04. –¢—Ä–∏ –º–æ–Ω–∏—Ç–æ—Ä–∞. –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è.

–≠–∫—Ä–∞–Ω –º–∏–≥–∞–µ—Ç. LILITH –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                               ‚îÇ
‚îÇ   LILITH v2.0 ‚Äî Networking Module                            ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ   –ü—Ä–∏–≤–µ—Ç —Å–Ω–æ–≤–∞, –ú–∞–∫—Å.                                          ‚îÇ
‚îÇ   –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –±—ã–ª —Ä–∞–∑–º–∏–Ω–∫–æ–π. –ú–æ—Å–∫–≤–∞ ‚Äî –Ω–∞—Å—Ç–æ—è—â–∞—è —Ä–∞–±–æ—Ç–∞.      ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ   Krylov –∞—Ç–∞–∫—É–µ—Ç —Å–µ—Ç–∏. –ß—Ç–æ–±—ã –∑–∞—â–∏—â–∞—Ç—å—Å—è, –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å      ‚îÇ
‚îÇ   –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–µ—Ç–∏. TCP/IP ‚Äî —ç—Ç–æ —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.            ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ   –ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é.                         ‚îÇ
‚îÇ   –ù–∞—É—á–∏—Å—å —Å–ª—É—à–∞—Ç—å.                                            ‚îÇ
‚îÇ                                                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> **LILITH:**
> *"–°–µ–π—á–∞—Å —Ç—ã –≤ –¶–û–î '–ú–æ—Å–∫–≤–∞-1'. –í–æ–∫—Ä—É–≥ —Ç–µ–±—è 200+ —Å–µ—Ä–≤–µ—Ä–æ–≤. 50 –∏–∑ –Ω–∏—Ö ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è Viktor. –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —á—É–∂–∏–µ. –ö–∞–∂–¥—ã–π –∏–º–µ–µ—Ç IP –∞–¥—Ä–µ—Å. –ö–∞–∂–¥—ã–π —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç—ã. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Ç–∞–∫—É—é—Ç. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ–Ω—è—Ç—å –∫—Ç–æ –µ—Å—Ç—å –∫—Ç–æ."*

Max: *"–° —á–µ–≥–æ –Ω–∞—á–∞—Ç—å?"*

> **LILITH:**
> *"–° –æ—Å–Ω–æ–≤. IP –∞–¥—Ä–µ—Å–∞. TCP vs UDP. –ü–æ—Ä—Ç—ã. –°–æ–∫–µ—Ç—ã. –ú–æ–¥–µ–ª—å TCP/IP. –ü–æ—Ç–æ–º ‚Äî –ø—Ä–∞–∫—Ç–∏–∫–∞. –û–ø—Ä–µ–¥–µ–ª–∏—à—å IP —Å–µ—Ä–≤–µ—Ä–∞ Viktor. –ü—Ä–æ–≤–µ—Ä–∏—à—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã. –ù–∞–π–¥—ë—à—å –º–∞—Ä—à—Ä—É—Ç –¥–æ —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–µ—Ö–∞–ª–∏."*

---

## üîÑ –¶–ò–ö–õ 1: IP –ê–¥—Ä–µ—Å–∞ ‚Äî "–¢–≤–æ–π –∞–¥—Ä–µ—Å –≤ —Å–µ—Ç–∏" (12-15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç (2-3 –º–∏–Ω)

Alex –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫ Max:

> **–ê–ª–µ–∫—Å:**
> *"–ü–µ—Ä–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ networking ‚Äî –∑–Ω–∞–π —Å–≤–æ–π –∞–¥—Ä–µ—Å. –ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç –≤ —Å–µ—Ç–∏? –ë–µ–∑ —ç—Ç–æ–≥–æ —Ç—ã ghost."*

–ê–Ω–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω —Å Wireshark:

> **–ê–Ω–Ω–∞:**
> *"–ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç –∏–º–µ–µ—Ç source IP (–æ—Ç–∫—É–¥–∞) –∏ destination IP (–∫—É–¥–∞). –ï—Å–ª–∏ —Ç—ã –Ω–µ –∑–Ω–∞–µ—à—å —Å–≤–æ–π IP ‚Äî —Ç—ã –Ω–µ –∑–Ω–∞–µ—à—å –∫—Ç–æ —Ç—ã –≤ —ç—Ç–æ–π –∏–≥—Ä–µ."*

> **LILITH:**
> *"IP –∞–¥—Ä–µ—Å ‚Äî —Ç–≤–æ—è —Ü–∏—Ñ—Ä–æ–≤–∞—è –ª–∏—á–Ω–æ—Å—Ç—å. –í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —Ç—ã –Ω–µ '–ú–∞–∫—Å –°–æ–∫–æ–ª–æ–≤'. –¢—ã 192.168.100.42. –ó–∞–ø–æ–º–Ω–∏ –µ–≥–æ."*

---

### üìö –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ IP –∞–¥—Ä–µ—Å? (5-7 –º–∏–Ω)

#### **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**
IP –∞–¥—Ä–µ—Å (Internet Protocol Address) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–µ—Ç–∏.

#### **–ú–µ—Ç–∞—Ñ–æ—Ä–∞: IP –∞–¥—Ä–µ—Å = –ü–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å** üì¨

–ü—Ä–µ–¥—Å—Ç–∞–≤—å:
- **IP –∞–¥—Ä–µ—Å** = –∞–¥—Ä–µ—Å —Ç–≤–æ–µ–≥–æ –¥–æ–º–∞ (—É–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞)
- **–ü–∞–∫–µ—Ç** = –ø–∏—Å—å–º–æ –∏–ª–∏ –ø–æ—Å—ã–ª–∫–∞
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç** = –ø–æ—á—Ç–æ–≤–∞—è —Å–ª—É–∂–±–∞

```
–ü–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å:                IP –∞–¥—Ä–µ—Å:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–†–æ—Å—Å–∏—è                     ‚Üí   192  (—Å—Ç—Ä–∞–Ω–∞)
–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫                ‚Üí   168  (–≥–æ—Ä–æ–¥)
—É–ª. –õ–µ–Ω–∏–Ω–∞                 ‚Üí   1    (—É–ª–∏—Ü–∞)
–¥–æ–º 42, –∫–≤. 15             ‚Üí   100  (–¥–æ–º.–∫–≤–∞—Ä—Ç–∏—Ä–∞)

–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å: 192.168.1.100
```

**–ë–µ–∑ –∞–¥—Ä–µ—Å–∞** = –ø–∏—Å—å–º–æ –Ω–µ –¥–æ–π–¥—ë—Ç. **–ë–µ–∑ IP** = –ø–∞–∫–µ—Ç –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è.

> **LILITH:**
> *"IP –∞–¥—Ä–µ—Å ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ. –≠—Ç–æ —Ç–≤–æ—è –ø–æ–∑–∏—Ü–∏—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ê—Ç–∞–∫—É—é—â–∏–π —É–∑–Ω–∞—ë—Ç —Ç–≤–æ–π IP ‚Äî –æ–Ω –∑–Ω–∞–µ—Ç –≥–¥–µ —Ç—ã."*

---

#### **–§–æ—Ä–º–∞—Ç IPv4:**

```
   192   .   168   .    1    .   100
   ‚îÅ‚îÅ‚îÅ       ‚îÅ‚îÅ‚îÅ        ‚îÅ         ‚îÅ‚îÅ‚îÅ
   –°–µ—Ç—å     –ü–æ–¥—Å–µ—Ç—å   –ü–æ–¥—Å–µ—Ç—å    –•–æ—Å—Ç
  (network) (subnet)  (subnet)  (host)
```

- **4 –æ–∫—Ç–µ—Ç–∞** (—á–∏—Å–ª–∞ 0-255)
- –†–∞–∑–¥–µ–ª–µ–Ω—ã —Ç–æ—á–∫–∞–º–∏
- –ü—Ä–∏–º–µ—Ä—ã: `10.0.0.42`, `192.168.1.1`, `8.8.8.8`

---

#### **Private vs Public IP:**

**–ê–Ω–∞–ª–æ–≥–∏—è:** Private = –¥–æ–º–∞—à–Ω–∏–π –∞–¥—Ä–µ—Å, Public = –∞–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞

| –¢–∏–ø | –î–∏–∞–ø–∞–∑–æ–Ω | –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | –í–∏–¥–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞? |
|-----|----------|------------------|---------------------|
| **Private (Class A)** | 10.0.0.0 ‚Äî 10.255.255.255 | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ç–∏ | ‚ùå –ù–µ—Ç |
| **Private (Class B)** | 172.16.0.0 ‚Äî 172.31.255.255 | –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–∏ | ‚ùå –ù–µ—Ç |
| **Private (Class C)** | 192.168.0.0 ‚Äî 192.168.255.255 | –î–æ–º–∞—à–Ω–∏–µ —Å–µ—Ç–∏ | ‚ùå –ù–µ—Ç |
| **Public** | –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ | –ò–Ω—Ç–µ—Ä–Ω–µ—Ç | ‚úÖ –î–∞ |

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
192.168.1.100   # Private (–¥–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å)
10.50.1.100     # Private (–¶–û–î "–ú–æ—Å–∫–≤–∞-1")
8.8.8.8         # Public (Google DNS)
142.250.185.46  # Public (Google —Å–µ—Ä–≤–µ—Ä)
```

> **LILITH:**
> *"Private IP = —Ç–≤–æ—è –∫–≤–∞—Ä—Ç–∏—Ä–∞. Public IP = –æ—Ñ–∏—Å–Ω–æ–µ –∑–¥–∞–Ω–∏–µ. Private ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ (—Å–∫—Ä—ã—Ç –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞). Public ‚Äî –≤–∏–¥–∏–º –≤—Å–µ–º."*

---

#### **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞:**

**Loopback (localhost):**
```
127.0.0.1 = "—Ä–∞–∑–≥–æ–≤–æ—Ä —Å —Å–∞–º–∏–º —Å–æ–±–æ–π"
```

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:** Loopback = —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∑–µ—Ä–∫–∞–ª–æ
- –ö–æ–º–ø—å—é—Ç–µ—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–∞–º–æ–º—É —Å–µ–±–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `ping 127.0.0.1` –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å–ª–∏ —Å–µ—Ç—å –∂–∏–≤–∞)

**Broadcast:**
```
255.255.255.255 = "–∫—Ä–∏–∫ –Ω–∞ –≤—Å—é —É–ª–∏—Ü—É"
```
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç –í–°–ï–ú –≤ —Å–µ—Ç–∏

---

#### **IPv4 vs IPv6:**

| IPv4 | IPv6 |
|------|------|
| 32 –±–∏—Ç–∞ | 128 –±–∏—Ç |
| `192.168.1.100` | `2001:0db8:85a3::8a2e:0370:7334` |
| 4.3 –º–ª—Ä–¥ –∞–¥—Ä–µ—Å–æ–≤ | 340 —É–Ω–¥–µ—Ü–∏–ª–ª–∏–æ–Ω–æ–≤ –∞–¥—Ä–µ—Å–æ–≤ |
| –ü–æ—á—Ç–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å | –ë—É–¥—É—â–µ–µ |

**–ü–æ—á–µ–º—É IPv6?**
- IPv4 –∞–¥—Ä–µ—Å–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å (~2011)
- IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –º–∏–ª–ª–∏–∞—Ä–¥—ã (—Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∏, –ª–∞–º–ø–æ—á–∫–∏, –º–∞—à–∏–Ω—ã)
- IPv6 = –ø–æ—á—Ç–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–¥—Ä–µ—Å–æ–≤

> **LILITH:**
> *"IPv4 = —Å—Ç–∞—Ä–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ (–∞–¥—Ä–µ—Å–æ–≤ –º–∞–ª–æ, –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥–µ–ª–∏—Ç—å). IPv6 = –Ω–æ–≤—ã–π —Ä–∞–π–æ–Ω (–∞–¥—Ä–µ—Å–æ–≤ –Ω–∞ –≤—Å–µ—Ö —Ö–≤–∞—Ç–∏—Ç)."*

---

#### **ASCII Diagram: IP Address Structure**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   IP ADDRESS                        ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ    Quad 1   .   Quad 2   .   Quad 3   .   Quad 4   ‚îÇ
‚îÇ      192    .     168    .      1     .    100      ‚îÇ
‚îÇ       ‚îÇ            ‚îÇ            ‚îÇ            ‚îÇ       ‚îÇ
‚îÇ     Network      Subnet      Subnet       Host      ‚îÇ
‚îÇ   (0-255)      (0-255)      (0-255)     (0-255)     ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  "–ö—Ç–æ —Ç—ã –≤ —Å–µ—Ç–∏?"                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü—Ä–∏–º–µ—Ä —Ä–∞–∑–±–æ—Ä–∞:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
10.50.1.100

10.*.*.*     ‚Üí –°–µ—Ç—å –∫–ª–∞—Å—Å–∞ A (private)
10.50.*.*    ‚Üí –ü–æ–¥—Å–µ—Ç—å (–¶–û–î "–ú–æ—Å–∫–≤–∞-1")
10.50.1.*    ‚Üí –ü–æ–¥—Å–µ—Ç—å rack 1
10.50.1.100  ‚Üí –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (shadow-server-02)
```

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –£–∑–Ω–∞–π —Å–≤–æ–π IP –∞–¥—Ä–µ—Å (3-5 –º–∏–Ω)

#### **–ó–∞–¥–∞—á–∞:**
–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ IP –∞–¥—Ä–µ—Å —Ä–∞–±–æ—á–µ–π —Å—Ç–∞–Ω—Ü–∏–∏ Max –≤ –¶–û–î "–ú–æ—Å–∫–≤–∞-1".

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏** (2-3 –º–∏–Ω—É—Ç—ã) –ø–µ—Ä–µ–¥ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏:

```bash
# –í–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–¥–µ—Å—å
```

---

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1 (–µ—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª–∏ > 3 –º–∏–Ω—É—Ç—ã)</summary>

**LILITH:**
> *"–ö–æ–º–∞–Ω–¥–∞ `ip` ‚Äî —Ç–≤–æ–π –¥—Ä—É–≥. `ip address` –∏–ª–∏ –∫–æ—Ä–æ—á–µ `ip a`. –°–º–æ—Ç—Ä–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ ‚Äî —Ç–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤: `lo` (loopback), `eth0` (ethernet), `wlan0` (wifi). –¢–µ–±–µ –Ω—É–∂–µ–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ä–µ–∞–ª—å–Ω—ã–º IP."*

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:
```bash
ip a
```

–ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å `inet` (–Ω–µ `inet6`), –∏ –Ω–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ `lo` (localhost).

</details>

---

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2 (–µ—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª–∏ > 5 –º–∏–Ω—É—Ç)</summary>

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ IP –∞–¥—Ä–µ—Å–∞
ip a

# –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ IPv4 –∞–¥—Ä–µ—Å–∞
ip -4 a

# –í–∞—Ä–∏–∞–Ω—Ç 3: –¢–æ–ª—å–∫–æ IP –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π
hostname -I

# –í–∞—Ä–∏–∞–Ω—Ç 4: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
ip a show eth0
```

**–ö–∞–∫ –ø–∞—Ä—Å–∏—Ç—å –≤—ã–≤–æ–¥:**
```bash
# –ò–∑–≤–ª–µ—á—å –ø–µ—Ä–≤—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π IP (–Ω–µ localhost)
ip -4 a | grep -v "127.0.0.1" | grep "inet " | awk '{print $2}' | cut -d/ -f1 | head -n1
```

</details>

---

<details>
<summary>‚úÖ –†–µ—à–µ–Ω–∏–µ</summary>

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è IP:**

```bash
# –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö)
hostname -I

# –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±
ip a

# –¢–æ–ª—å–∫–æ IPv4
ip -4 a

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–µ—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
ip a show eth0

# –î–ª—è —Å–∫—Ä–∏–ø—Ç–∞ (–ø–∞—Ä—Å–∏–Ω–≥)
WORKSTATION_IP=$(hostname -I | awk '{print $1}')
echo "–ú–æ–π IP: $WORKSTATION_IP"

# –ò–ª–∏ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
WORKSTATION_IP=$(ip -4 a | grep -v "127.0.0.1" | grep "inet " | awk '{print $2}' | cut -d/ -f1 | head -n1)
echo "–ú–æ–π IP: $WORKSTATION_IP"
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ `ip a`:**
```
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500
    link/ether 00:0c:29:5a:3d:1f brd ff:ff:ff:ff:ff:ff
    inet 192.168.100.42/24 brd 192.168.100.255 scope global eth0
         ^^^^^^^^^^^^^^^^
         –í–ê–® IP –ê–î–†–ï–°
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- `inet 192.168.100.42/24` ‚Äî –≤–∞—à IP —Å –º–∞—Å–∫–æ–π —Å–µ—Ç–∏
- `192.168.100.42` ‚Äî —Å–∞–º IP –∞–¥—Ä–µ—Å
- `/24` ‚Äî –º–∞—Å–∫–∞ —Å–µ—Ç–∏ (255.255.255.0)
- `eth0` ‚Äî —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Ethernet)

> **LILITH:**
> *"–ü–æ–∑–¥—Ä–∞–≤–ª—è—é. –¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å —Å–≤–æ–π –∞–¥—Ä–µ—Å. –í —ç—Ç–æ–π —Å–µ—Ç–∏ —Ç—ã ‚Äî 192.168.100.42. –ó–∞–ø–æ–º–Ω–∏ –µ–≥–æ. –ö—Ä—ã–ª–æ–≤ —É–∂–µ –∑–∞–ø–æ–º–Ω–∏–ª."*

</details>

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è (1 –º–∏–Ω)

**LILITH —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:**

> *"–¢–≤–æ–π IP: 192.168.1.100. IP Google: 8.8.8.8. –ß–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è? –ü–æ—á–µ–º—É —Ç–≤–æ–π –∞–¥—Ä–µ—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 192.168?"*

**–î—É–º–∞–π 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π:**

<details>
<summary>üí° –û—Ç–≤–µ—Ç</summary>

**–†–∞–∑–Ω–∏—Ü–∞:**
- `192.168.1.100` ‚Äî **Private IP** (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –Ω–µ –≤–∏–¥–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)
- `8.8.8.8` ‚Äî **Public IP** (Google DNS, –¥–æ—Å—Ç—É–ø–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ)

**–ü–æ—á–µ–º—É 192.168?**
- –î–∏–∞–ø–∞–∑–æ–Ω `192.168.0.0 - 192.168.255.255` –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è private —Å–µ—Ç–µ–π (RFC 1918)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–æ–º–∞—à–Ω–∏—Ö/–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ç—è—Ö
- –ù–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:**
- Private IP = –¥–æ–º–∞—à–Ω–∏–π –∞–¥—Ä–µ—Å (—Ç–æ–ª—å–∫–æ —Å–æ—Å–µ–¥–∏ –∑–Ω–∞—é—Ç)
- Public IP = –∞–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞ (–≤—Å–µ –º–æ–≥—É—Ç –Ω–∞–π—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–µ)

> **LILITH:**
> *"Private IP = —Å–∫—Ä—ã—Ç –∑–∞ NAT (—Ä–æ—É—Ç–µ—Ä–æ–º). Public IP = –≤–∏–¥–µ–Ω –≤—Å–µ–º. –ö—Ä—ã–ª–æ–≤ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç public IP. –ó–∞ private ‚Äî —Å–ª–æ–∂–Ω–µ–µ –¥–æ–±—Ä–∞—Ç—å—Å—è. –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ."*

</details>

---

### üéØ –ß—Ç–æ —É–∑–Ω–∞–ª–∏ –≤ –¶–∏–∫–ª–µ 1:

- ‚úÖ IP –∞–¥—Ä–µ—Å = —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–µ—Ç–∏
- ‚úÖ Private IP (192.168.x.x) vs Public IP (8.8.8.8)
- ‚úÖ Loopback (127.0.0.1) = localhost
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã: `ip a`, `hostname -I`, `ip -4 a`
- ‚úÖ IPv4 (4.3 –º–ª—Ä–¥ –∞–¥—Ä–µ—Å–æ–≤) ‚Üí IPv6 (‚àû –∞–¥—Ä–µ—Å–æ–≤)

> **LILITH:**
> *"–¶–∏–∫–ª 1 –∑–∞–≤–µ—Ä—à—ë–Ω. –¢—ã –∑–Ω–∞–µ—à—å —Å–≤–æ–π –∞–¥—Ä–µ—Å. –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∏–º ‚Äî –∂–∏–≤ –ª–∏ —Å–µ—Ä–≤–µ—Ä Viktor. Ping. –°–ª–µ–¥—É—é—â–∏–π —Ü–∏–∫–ª."*

---

## üîÑ –¶–ò–ö–õ 2: Ping & ICMP + tcpdump ‚Äî "–≠—Ö–æ –≤ –ø–µ—â–µ—Ä–µ" (18 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç (2-3 –º–∏–Ω)

–í–∏–∫—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä Grafana. –ö—Ä–∞—Å–Ω—ã–µ –ª–∏–Ω–∏–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –≤–∑–ª–µ—Ç–∞—é—Ç –≤–≤–µ—Ä—Ö:

> **–í–∏–∫—Ç–æ—Ä:**
> *"50,000 –ø–∞–∫–µ—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É. DDoS –∞—Ç–∞–∫–∞. ICMP flood. –ö—Ç–æ-—Ç–æ –ø–∏–Ω–≥—É–µ—Ç –Ω–∞—à–∏ —Å–µ—Ä–≤–µ—Ä—ã –¥–æ –æ—Ç–∫–∞–∑–∞."*

–ê–ª–µ–∫—Å –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫ –ú–∞–∫—Å—É:

> **–ê–ª–µ–∫—Å:**
> *"Ping ‚Äî –ø–µ—Ä–≤–æ–µ —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ö–∞–∫–µ—Ä. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚Äî —Å–µ—Ä–≤–µ—Ä –∂–∏–≤? –ï—Å–ª–∏ –¥–∞ ‚Äî –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –ú–∞–∫—Å, –ø—Ä–æ–≤–µ—Ä—å shadow-server-02. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç?"*

–ê–Ω–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Wireshark, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –ø–∞–∫–µ—Ç–æ–≤:

> **–ê–Ω–Ω–∞:**
> *"–°–º–æ—Ç—Ä–∏. ICMP Echo Request ‚Üí ICMP Echo Reply. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π ping. –ù–æ –µ—Å–ª–∏ –∏—Ö 50,000/—Å–µ–∫ ‚Äî —ç—Ç–æ –∞—Ç–∞–∫–∞. –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Ä–∞–∑–Ω–∏—Ü—É."*

> **LILITH:**
> *"Ping ‚Äî —ç—Ç–æ —ç—Ö–æ –≤ –ø–µ—â–µ—Ä–µ. –ö—Ä–∏—á–∏—à—å 'HELLO!' ‚Äî —Å–ª—ã—à–∏—à—å 'HELLO!' –æ–±—Ä–∞—Ç–Ω–æ. –ï—Å–ª–∏ —Ç–∏—à–∏–Ω–∞ ‚Äî –ø–µ—â–µ—Ä–∞ –ø—É—Å—Ç–∞—è. –ò–ª–∏ —Ç—ã –≥–ª—É—Ö–æ–π. –ò–ª–∏ –∫—Ç–æ-—Ç–æ –∑–∞—Ç–∫–Ω—É–ª —Ç–µ–±–µ —Ä–æ—Ç."*

---

### üìö –¢–µ–æ—Ä–∏—è: Ping –∏ ICMP (7-9 –º–∏–Ω)

#### **–ß—Ç–æ —Ç–∞–∫–æ–µ ping?**

**ping** (Packet Internet Groper) ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ö–æ—Å—Ç–∞ –≤ —Å–µ—Ç–∏.

#### **–ú–µ—Ç–∞—Ñ–æ—Ä–∞: Ping = –≠—Ö–æ –≤ –ø–µ—â–µ—Ä–µ** üîä

–ü—Ä–µ–¥—Å—Ç–∞–≤—å:
- –¢—ã —Å—Ç–æ–∏—à—å –≤ **–ø–µ—â–µ—Ä–µ** (—Å–µ—Ç—å)
- –ö—Ä–∏—á–∏—à—å **"HELLO!"** (ICMP Echo Request)
- –°–ª—ã—à–∏—à—å **—ç—Ö–æ "HELLO!"** (ICMP Echo Reply)
- –°—á–∏—Ç–∞–µ—à—å **–≤—Ä–µ–º—è** –º–µ–∂–¥—É –∫—Ä–∏–∫–æ–º –∏ —ç—Ö–æ–º (latency)

```
–ü–µ—â–µ—Ä–∞ (—Å–µ—Ç—å):
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
      [–¢–´]                           [–°–¢–ï–ù–ê]
       ‚îÇ                                 ‚îÇ
       ‚îÇ  "HELLO!" ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
       ‚îÇ  (ICMP Echo Request)             ‚îÇ
       ‚îÇ                                 ‚îÇ
       ‚îÇ <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ "HELLO!" ‚îÇ
       ‚îÇ  (ICMP Echo Reply)               ‚îÇ
       ‚îÇ                                 ‚îÇ
       ‚îî‚îÄ –í—Ä–µ–º—è: 15ms (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Å—Ç–µ–Ω—ã)

–ß—Ç–æ —É–∑–Ω–∞–ª–∏:
‚úì –°—Ç–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (—Å–µ—Ä–≤–µ—Ä –∂–∏–≤)
‚úì –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 15ms (latency)
‚úì –≠—Ö–æ —á—ë—Ç–∫–æ–µ (–Ω–µ—Ç –ø–æ—Ç–µ—Ä—å –ø–∞–∫–µ—Ç–æ–≤)
```

**–ï—Å–ª–∏ —Ç–∏—à–∏–Ω–∞ (no reply):**
- –°—Ç–µ–Ω–∞ —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ? (—Å–µ—Ä–≤–µ—Ä down)
- –ü–µ—â–µ—Ä–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –≤–æ–¥–æ–π? (—Å–µ—Ç—å —Ä–∞–∑–æ—Ä–≤–∞–Ω–∞)
- –£—à–∏ –∑–∞—Ç–∫–Ω—É—Ç—ã? (firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç ICMP)

> **LILITH:**
> *"Ping ‚Äî —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏. –ï—Å–ª–∏ ping –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –ª–∏–±–æ —Å–µ—Ä–≤–µ—Ä –º—ë—Ä—Ç–≤, –ª–∏–±–æ –º–µ–∂–¥—É –≤–∞–º–∏ —Å—Ç–µ–Ω–∞. –ö—Ä—ã–ª–æ–≤ –ª—é–±–∏—Ç —Å—Ç–∞–≤–∏—Ç—å —Å—Ç–µ–Ω—ã."*

---

#### **ICMP (Internet Control Message Protocol)**

ICMP ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏.

**–¢–∏–ø—ã ICMP —Å–æ–æ–±—â–µ–Ω–∏–π:**

| Type | –ù–∞–∑–≤–∞–Ω–∏–µ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –ü—Ä–∏–º–µ—Ä |
|------|----------|------------|--------|
| **0** | Echo Reply | –û—Ç–≤–µ—Ç –Ω–∞ ping | `pong` |
| **3** | Destination Unreachable | –ü—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | "Server down" |
| **8** | Echo Request | –ó–∞–ø—Ä–æ—Å ping | `ping` |
| **11** | Time Exceeded | TTL –∏—Å—Ç—ë–∫ | `traceroute` |

**ICMP = "—Å–ª—É–∂–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏" –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:**
- –ù–µ –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ (–∫–∞–∫ TCP/UDP)
- –°–æ–æ–±—â–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –¥–æ—Å—Ç–∞–≤–∫–∏
- –ü–æ–º–æ–≥–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç—å

---

#### **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ping:**

```bash
$ ping google.com

PING google.com (142.250.185.46) 56(84) bytes of data.
64 bytes from lga34s34-in-f14.1e100.net (142.250.185.46): icmp_seq=1 ttl=117 time=15.2 ms
64 bytes from lga34s34-in-f14.1e100.net (142.250.185.46): icmp_seq=2 ttl=117 time=14.8 ms
64 bytes from lga34s34-in-f14.1e100.net (142.250.185.46): icmp_seq=3 ttl=117 time=15.0 ms
64 bytes from lga34s34-in-f14.1e100.net (142.250.185.46): icmp_seq=4 ttl=117 time=15.1 ms

--- google.com ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3005ms
rtt min/avg/max/mdev = 14.8/15.0/15.2/0.2 ms
```

**–†–∞–∑–±–æ—Ä –≤—ã–≤–æ–¥–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç |
|----------|----------|--------------|
| `142.250.185.46` | IP Google | –ö—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è ping |
| `icmp_seq=1` | –ù–æ–º–µ—Ä –ø–∞–∫–µ—Ç–∞ | –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä (–¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—Ç–µ—Ä—å) |
| `ttl=117` | Time To Live | –°–∫–æ–ª—å–∫–æ —Ä–æ—É—Ç–µ—Ä–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ –ø–∞–∫–µ—Ç (–Ω–∞—á–∞–ª —Å 128, –ø—Ä–æ—à—ë–ª 11) |
| `time=15.2 ms` | Latency | –í—Ä–µ–º—è —Ç—É–¥–∞-–æ–±—Ä–∞—Ç–Ω–æ (round-trip time) |
| `0% packet loss` | –ü–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤ | –í—Å–µ –ø–∞–∫–µ—Ç—ã –¥–æ—à–ª–∏ (–æ—Ç–ª–∏—á–Ω–æ!) |

---

#### **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è latency:**

```
< 1ms      ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  Localhost (127.0.0.1)
1-10ms     ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å (–æ—Ñ–∏—Å, –¥–æ–º)
10-50ms    ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  –ì–æ—Ä–æ–¥, —Ä–µ–≥–∏–æ–Ω (–æ—Ç–ª–∏—á–Ω–æ)
50-100ms   ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  –î—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥/—Å—Ç—Ä–∞–Ω–∞ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
100-200ms  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  –î—Ä—É–≥–æ–π –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç (–ø—Ä–∏–µ–º–ª–µ–º–æ)
> 200ms    ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  –ú–µ–¥–ª–µ–Ω–Ω–æ (—Å–ø—É—Ç–Ω–∏–∫, –ø–ª–æ—Ö–æ–π –∫–∞–Ω–∞–ª)
> 500ms    ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ (–ø—Ä–æ–±–ª–µ–º—ã)
```

> **LILITH:**
> *"Latency ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ—Ä–æ—Å—Ç—å. –≠—Ç–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ–±–æ–π –∏ —Ü–µ–ª—å—é. 15ms = –±–ª–∏–∑–∫–æ. 200ms = –¥–∞–ª–µ–∫–æ. 500ms = —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–Ω–æ."*

---

#### **"Aha!" –ú–æ–º–µ–Ω—Ç: –ü–æ—á–µ–º—É ping –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å?** üí°

**–ü—Ä–æ–±–ª–µ–º–∞:** `ping 10.50.1.100` ‚Üí **100% packet loss**

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–°–µ—Ä–≤–µ—Ä –≤—ã–∫–ª—é—á–µ–Ω (down)**
   ```
   –°—Ç–µ–Ω–∞ —Ä—É—Ö–Ω—É–ª–∞ ‚Üí —ç—Ö–æ –Ω–µ –≤–µ—Ä–Ω—ë—Ç—Å—è
   ```

2. **Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç ICMP**
   ```
   –°–µ—Ä–≤–µ—Ä –∂–∏–≤, –Ω–æ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ ping (–ø–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
   –°—Ç–µ–Ω–∞ —Å—Ç–æ–∏—Ç, –Ω–æ –ø–æ–∫—Ä—ã—Ç–∞ –∑–≤—É–∫–æ–∏–∑–æ–ª—è—Ü–∏–µ–π
   ```

3. **–°–µ—Ç—å —Ä–∞–∑–æ—Ä–≤–∞–Ω–∞**
   ```
   –ú–µ–∂–¥—É –≤–∞–º–∏ –æ–±—Ä—ã–≤ –∫–∞–±–µ–ª—è/—Ä–æ—É—Ç–µ—Ä–∞
   –ü–µ—â–µ—Ä–∞ –∑–∞—Ç–æ–ø–ª–µ–Ω–∞ ‚Äî –∑–≤—É–∫ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç
   ```

4. **Rate limiting**
   ```
   –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤—ã–µ 10 ping, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç
   –ó–∞—â–∏—Ç–∞ –æ—Ç ICMP flood (DDoS)
   ```

**–ö–ª—é—á–µ–≤–æ–π –≤—ã–≤–æ–¥:**
> **"Ping –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç" ‚â† "–°–µ—Ä–≤–µ—Ä –º—ë—Ä—Ç–≤"**
>
> –ú–æ–∂–µ—Ç –±—ã—Ç—å firewall. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –¥—Ä—É–≥–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ (TCP port, SSH).

> **LILITH:**
> *"–ö—Ä—ã–ª–æ–≤ –∑–Ω–∞–µ—Ç —ç—Ç–æ. –û–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç ICMP –Ω–∞ —Å–≤–æ–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. Ping –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 'down', –Ω–æ —Å–µ—Ä–≤–µ—Ä –∞—Ç–∞–∫—É–µ—Ç. –õ–æ–∂–Ω–∞—è —Å–º–µ—Ä—Ç—å."*

---

#### **ASCII Diagram: ICMP Flow**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    PING FLOW (ICMP)                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

    [–¢–≤–æ–π –ü–ö]                             [–°–µ—Ä–≤–µ—Ä Viktor]
   192.168.100.42                          10.50.1.100
        ‚îÇ                                       ‚îÇ
        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
        ‚îú‚îÄ‚îÄ‚îÇ ICMP Echo Request (Type 8)   ‚îÇ‚îÄ‚îÄ‚îÄ>‚îÇ
        ‚îÇ  ‚îÇ "–¢—ã –∂–∏–≤?"                     ‚îÇ    ‚îÇ
        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
        ‚îÇ                                       ‚îÇ
        ‚îÇ         ‚îå‚îÄ‚îÄ 15ms latency ‚îÄ‚îÄ‚îê         ‚îÇ
        ‚îÇ         ‚îÇ   (—Ç—É–¥–∞-–æ–±—Ä–∞—Ç–Ω–æ)  ‚îÇ         ‚îÇ
        ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
        ‚îÇ                                       ‚îÇ
        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
        ‚îÇ<‚îÄ‚îÇ ICMP Echo Reply (Type 0)     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
        ‚îÇ  ‚îÇ "–î–∞, —è –∂–∏–≤!"                 ‚îÇ    ‚îÇ
        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
        ‚îÇ                                       ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úì –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
‚úì Latency: 15ms (–æ—Ç–ª–∏—á–Ω–æ)
‚úì Packet loss: 0% (—Å—Ç–∞–±–∏–ª—å–Ω–æ)
```

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (5-7 –º–∏–Ω)

#### **–ó–∞–¥–∞–Ω–∏–µ 1: Ping localhost (–≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç)**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–∞—à–∞ —Å–µ—Ç–µ–≤–∞—è stack —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
ping -c 4 127.0.0.1
```

**–§–ª–∞–≥ `-c 4`** = –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ 4 –ø–∞–∫–µ—Ç–∞ (–∏–Ω–∞—á–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, –Ω—É–∂–Ω–æ Ctrl+C)

---

#### **–ó–∞–¥–∞–Ω–∏–µ 2: Ping Google DNS (–µ—Å–ª–∏ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)**

```bash
ping -c 4 8.8.8.8
```

–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –µ—Å—Ç—å, —Å–µ—Ç—å –∂–∏–≤–∞.

---

#### **–ó–∞–¥–∞–Ω–∏–µ 3: Ping —Å–µ—Ä–≤–µ—Ä–∞ Viktor (—Å–∏–º—É–ª—è—Ü–∏—è)**

```bash
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ)
ping -c 4 10.50.1.100

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏: ping –¥–æ–º–∞—à–Ω–µ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞
ip route | grep default  # –ù–∞–π—Ç–∏ gateway
ping -c 4 192.168.1.1     # –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –≤–∞—à gateway
```

---

<details>
<summary>‚úÖ –†–µ—à–µ–Ω–∏–µ: Ping –≤ —Å–∫—Ä–∏–ø—Ç–µ</summary>

```bash
#!/bin/bash

server_ip="10.50.1.100"

echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ $server_ip..."

# ping —Å timeout
if ping -c 4 -W 2 "$server_ip" &>/dev/null; then
    echo "‚úì –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω (ping successful)"

    # –ò–∑–≤–ª–µ—á—å average latency
    latency=$(ping -c 4 -W 2 "$server_ip" 2>/dev/null | tail -1 | awk -F '/' '{print $5}')
    if [ -n "$latency" ]; then
        echo "  Average latency: ${latency}ms"
    fi
else
    echo "‚úó –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (ping failed)"
    echo "  –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:"
    echo "    - –°–µ—Ä–≤–µ—Ä –≤—ã–∫–ª—é—á–µ–Ω"
    echo "    - Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç ICMP"
    echo "    - –°–µ—Ç–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (—Ä–æ—É—Ç–µ—Ä, –∫–∞–±–µ–ª—å)"
fi
```

**–§–ª–∞–≥–∏:**
- `-c 4` ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å 4 –ø–∞–∫–µ—Ç–∞
- `-W 2` ‚Äî timeout 2 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –ø–∞–∫–µ—Ç
- `&>/dev/null` ‚Äî —Å–∫—Ä—ã—Ç—å –≤—ã–≤–æ–¥ (–ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ exit code)

</details>

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: tcpdump ‚Äî "–ü—Ä–æ—Å–ª—É—à–∫–∞ —Å–µ—Ç–∏" (3-5 –º–∏–Ω)

#### **–ß—Ç–æ —Ç–∞–∫–æ–µ tcpdump?**

**tcpdump** ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:** tcpdump = –ø—Ä–æ—Å–ª—É—à–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–π –ª–∏–Ω–∏–∏
- –í–∏–¥–∏—à—å –∫–∞–∂–¥—ã–π –∑–≤–æ–Ω–æ–∫ (–ø–∞–∫–µ—Ç)
- –ö—Ç–æ –∑–≤–æ–Ω–∏—Ç (source IP)
- –ö–æ–º—É (destination IP)
- –ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç (–¥–∞–Ω–Ω—ã–µ)

> **LILITH:**
> *"tcpdump ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞—Ç–∞–∫—É—é—â–µ–≥–æ. –ò —Ç–≤–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –í–∏–¥–∏—à—å –í–°–Å —á—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –ø—Ä–æ–≤–æ–¥—É. –ü–∞—Ä–æ–ª–∏, —Å–µ—Å—Å–∏–∏, —Å–µ–∫—Ä–µ—Ç—ã. –í–æ—Ç –ø–æ—á–µ–º—É HTTPS –∫—Ä–∏—Ç–∏—á–µ–Ω. –í–æ—Ç –ø–æ—á–µ–º—É –ö—Ä—ã–ª–æ–≤ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫."*

---

#### **–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã tcpdump:**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –Ω–µ—Ç)
sudo apt install tcpdump

# –ó–∞—Ö–≤–∞—Ç ICMP –ø–∞–∫–µ—Ç–æ–≤ (ping)
sudo tcpdump -i any icmp -c 10

# –° –¥–µ—Ç–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
sudo tcpdump -i any icmp -v

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª (.pcap –¥–ª—è Wireshark)
sudo tcpdump -i any icmp -w ping_capture.pcap -c 10

# –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª
tcpdump -r ping_capture.pcap
```

**–§–ª–∞–≥–∏:**
- `-i any` ‚Äî —Å–ª—É—à–∞—Ç—å –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- `icmp` ‚Äî —Ñ–∏–ª—å—Ç—Ä (—Ç–æ–ª—å–∫–æ ICMP –ø–∞–∫–µ—Ç—ã)
- `-c 10` ‚Äî –∑–∞—Ö–≤–∞—Ç–∏—Ç—å 10 –ø–∞–∫–µ—Ç–æ–≤
- `-w file.pcap` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
- `-v` ‚Äî verbose (–¥–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥)

---

#### **–ü—Ä–∞–∫—Ç–∏–∫–∞: –ó–∞—Ö–≤–∞—Ç ping –ø–∞–∫–µ—Ç–æ–≤**

**–®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å tcpdump** (–≤ –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):

```bash
sudo tcpdump -i any icmp
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å ping** (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):

```bash
ping -c 4 8.8.8.8
```

**–®–∞–≥ 3: –°–º–æ—Ç—Ä–µ—Ç—å –≤—ã–≤–æ–¥ tcpdump:**

```
14:23:15.123456 IP 192.168.100.42 > 8.8.8.8: ICMP echo request, id 1234, seq 1, length 64
14:23:15.138912 IP 8.8.8.8 > 192.168.100.42: ICMP echo reply, id 1234, seq 1, length 64
14:23:16.124567 IP 192.168.100.42 > 8.8.8.8: ICMP echo request, id 1234, seq 2, length 64
14:23:16.139823 IP 8.8.8.8 > 192.168.100.42: ICMP echo reply, id 1234, seq 2, length 64
```

**–ß—Ç–æ –≤–∏–¥–∏–º:**
- `echo request` ‚Üí —Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å ping
- `echo reply` ‚Üí Google –æ—Ç–≤–µ—á–∞–µ—Ç
- `id 1234, seq 1` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏ –Ω–æ–º–µ—Ä –ø–∞–∫–µ—Ç–∞
- Latency = —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É request –∏ reply (~15ms)

---

#### **‚ö†Ô∏è Security Warning:**

> **LILITH:**
> *"tcpdump –≤–∏–¥–∏—Ç –í–°–Å. HTTP –ø–∞—Ä–æ–ª–∏, cookies, API keys. –í—Å—ë —á—Ç–æ –∏–¥—ë—Ç –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –í–æ—Ç –ø–æ—á–µ–º—É:*
> - *HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (—à–∏—Ñ—Ä—É–µ—Ç HTTP)*
> - *SSH –≤–º–µ—Å—Ç–æ telnet (—à–∏—Ñ—Ä—É–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª)*
> - *VPN –¥–ª—è –≤—Å–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ (Episode 08)*
>
> *–ö—Ä—ã–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç tcpdump –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞. –ó–∞—â–∏—â–∞–π—Å—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º."*

---

<details>
<summary>‚úÖ –†–µ—à–µ–Ω–∏–µ: tcpdump –≤ —Å–∫—Ä–∏–ø—Ç–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</summary>

```bash
#!/bin/bash

# Function: Capture ICMP packets (requires sudo)
capture_ping_packets() {
    local target_ip="$1"
    local output_file="artifacts/ping_capture.pcap"

    echo "–ó–∞—Ö–≤–∞—Ç ICMP –ø–∞–∫–µ—Ç–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç sudo)..."

    if ! command -v tcpdump &>/dev/null; then
        echo "  ‚ö† tcpdump –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
        echo "  –£—Å—Ç–∞–Ω–æ–≤–∫–∞: sudo apt install tcpdump"
        return
    fi

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ sudo
    if ! sudo -n true 2>/dev/null; then
        echo "  ‚ö† –ù–µ—Ç sudo –¥–æ—Å—Ç—É–ø–∞ (skip tcpdump)"
        return
    fi

    # –ó–∞—Ö–≤–∞—Ç –≤ —Ñ–æ–Ω–µ (10 –ø–∞–∫–µ—Ç–æ–≤ –∏–ª–∏ 5 —Å–µ–∫—É–Ω–¥)
    echo "  –ó–∞–ø—É—Å–∫: sudo tcpdump -i any icmp -c 10 -w $output_file"
    timeout 5 sudo tcpdump -i any icmp -c 10 -w "$output_file" 2>/dev/null &
    local tcpdump_pid=$!

    # –û—Ç–ø—Ä–∞–≤–∏—Ç—å ping –≤–æ –≤—Ä–µ–º—è –∑–∞—Ö–≤–∞—Ç–∞
    sleep 0.5
    ping -c 4 "$target_ip" &>/dev/null || true

    # –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è tcpdump
    wait $tcpdump_pid 2>/dev/null || true

    if [ -f "$output_file" ]; then
        echo "  ‚úì –ü–∞–∫–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: $output_file"
        echo "  –ê–Ω–∞–ª–∏–∑: tcpdump -r $output_file"
    else
        echo "  ‚ö† –ó–∞—Ö–≤–∞—Ç –Ω–µ —É–¥–∞–ª—Å—è (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –µ—Å–ª–∏ –Ω–µ—Ç sudo)"
    fi
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
capture_ping_packets "8.8.8.8"
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** tcpdump —Ç—Ä–µ–±—É–µ—Ç sudo. –ï—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ ‚Äî —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —ç—Ç—É —á–∞—Å—Ç—å (graceful failure).

</details>

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è (1 –º–∏–Ω)

**LILITH —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:**

> *"Ping —Ä–∞–±–æ—Ç–∞–µ—Ç (latency 15ms, 0% loss), –Ω–æ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç. –ß—Ç–æ —Å–ª–æ–º–∞–Ω–æ?"*

**–î—É–º–∞–π 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π:**

<details>
<summary>üí° –û—Ç–≤–µ—Ç</summary>

**–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Å–µ—Ç–∏ (Layer 3), –∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (Layer 7):**

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **DNS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - Ping –ø–æ IP —Ä–∞–±–æ—Ç–∞–µ—Ç (8.8.8.8 ‚úì)
   - –ù–æ ping –ø–æ –∏–º–µ–Ω–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (google.com ‚úó)
   - –†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä—å /etc/resolv.conf, –Ω–∞—Å—Ç—Ä–æ–π DNS

2. **Web-—Å–µ—Ä–≤–µ—Ä down**
   - –°–µ—Ä–≤–µ—Ä –∂–∏–≤ (ping OK)
   - –ù–æ HTTP –ø–æ—Ä—Ç (80/443) –∑–∞–∫—Ä—ã—Ç
   - –†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä—å `curl -I http://site.com`, –ø–æ—Ä—Ç—ã (nmap)

3. **Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç HTTP/HTTPS**
   - ICMP —Ä–∞–∑—Ä–µ—à—ë–Ω (ping OK)
   - –ù–æ TCP ports 80/443 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
   - –†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä—å firewall rules (Episode 07)

4. **–ë—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–±–ª–µ–º–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)**
   - Cache, cookies, proxy settings
   - –†–µ—à–µ–Ω–∏–µ: –ø–æ–ø—Ä–æ–±—É–π curl –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

**–ö–ª—é—á–µ–≤–æ–π –≤—ã–≤–æ–¥:**
> **"Ping —Ä–∞–±–æ—Ç–∞–µ—Ç" ‚â† "–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç"**
>
> Ping –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ Layer 3 (—Å–µ—Ç—å). –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ Layer 7.

> **LILITH:**
> *"Ping ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —à–∞–≥ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏. –°–µ—Ç—å –∂–∏–≤–∞? ‚úì –û—Ç–ª–∏—á–Ω–æ. –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–π DNS, –ø–æ—Ä—Ç—ã, —Å–µ—Ä–≤–∏—Å—ã. –ü–æ—Å–ª–æ–π–Ω–æ."*

**TCP/IP –º–æ–¥–µ–ª—å:**
```
Layer 7: Application  ‚Üê –ë—Ä–∞—É–∑–µ—Ä, HTTP    (–ø—Ä–æ–±–ª–µ–º–∞ —Ç—É—Ç!)
Layer 4: Transport    ‚Üê TCP, UDP         (–≤–æ–∑–º–æ–∂–Ω–æ —Ç—É—Ç)
Layer 3: Internet     ‚Üê IP, ICMP         (ping –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —ç—Ç–æ ‚úì)
Layer 2: Link         ‚Üê Ethernet         (–µ—Å–ª–∏ ping OK ‚Äî —ç—Ç–æ OK)
```

</details>

---

### üéØ –ß—Ç–æ —É–∑–Ω–∞–ª–∏ –≤ –¶–∏–∫–ª–µ 2:

- ‚úÖ ping = –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ö–æ—Å—Ç–∞ (ICMP Echo)
- ‚úÖ Latency = –≤—Ä–µ–º—è —Ç—É–¥–∞-–æ–±—Ä–∞—Ç–Ω–æ (< 10ms –æ—Ç–ª–∏—á–Ω–æ, > 200ms –º–µ–¥–ª–µ–Ω–Ω–æ)
- ‚úÖ "Ping –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç" –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å firewall, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ "—Å–µ—Ä–≤–µ—Ä down"
- ‚úÖ tcpdump = –∑–∞—Ö–≤–∞—Ç –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ (–≤–∏–¥–∏—Ç –ø–∞—Ä–æ–ª–∏ –±–µ–∑ HTTPS!)
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã: `ping -c 4`, `sudo tcpdump -i any icmp`

> **LILITH:**
> *"–¶–∏–∫–ª 2 –∑–∞–≤–µ—Ä—à—ë–Ω. Ping ‚Äî —Ç–≤–æ–π —Ä–∞–¥–∞—Ä. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ç–æ –∂–∏–≤, –∫—Ç–æ –º—ë—Ä—Ç–≤. –ù–æ —Ä–∞–¥–∞—Ä –º–æ–∂–Ω–æ –æ–±–º–∞–Ω—É—Ç—å. –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Äî DNS. –ò–º–µ–Ω–∞ –≤–º–µ—Å—Ç–æ —á–∏—Å–µ–ª. –¢–∞–º –ö—Ä—ã–ª–æ–≤ –ø–æ–¥–º–µ–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç—ã. –ü–æ–µ—Ö–∞–ª–∏."*

---

## üîÑ –¶–ò–ö–õ 3: DNS & Configuration Files ‚Äî "–¢–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞" (18 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç (2-3 –º–∏–Ω)

–í–∏–∫—Ç–æ—Ä —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ whiteboard —Å –¥–∏–∞–≥—Ä–∞–º–º–æ–π –∞—Ç–∞–∫–∏:

> **–í–∏–∫—Ç–æ—Ä:**
> *"shadow-server-02.ops.internal ‚Äî –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä. –ú–∞–∫—Å, —É–∑–Ω–∞–π –µ–≥–æ IP. –ü–æ hostname."*

–ê–Ω–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Wireshark, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç DNS –∑–∞–ø—Ä–æ—Å—ã:

> **–ê–Ω–Ω–∞:**
> *"–°–º–æ—Ç—Ä–∏. –ú—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º 'shadow-server-02.ops.internal' ‚Üí DNS –æ—Ç–≤–µ—á–∞–µ—Ç '10.50.1.100'. –ù–æ –≤—á–µ—Ä–∞ DNS –æ—Ç–≤–µ—Ç–∏–ª '185.220.101.47' ‚Äî IP –ö—Ä—ã–ª–æ–≤–∞. DNS spoofing."*

–ê–ª–µ–∫—Å –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ –ú–∞–∫—Å—É:

> **–ê–ª–µ–∫—Å:**
> *"DNS ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ù–æ —á—Ç–æ –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–¥–º–µ–Ω–∏–ª –Ω–æ–º–µ—Ä–∞? –¢—ã –∑–≤–æ–Ω–∏—à—å –≤ –±–∞–Ω–∫, –∞ –ø–æ–ø–∞–¥–∞–µ—à—å –∫ –º–æ—à–µ–Ω–Ω–∏–∫—É. DNS spoofing ‚Äî –ª—é–±–∏–º—ã–π —Ç—Ä—é–∫ –ö—Ä—ã–ª–æ–≤–∞."*

> **LILITH:**
> *"–ò–º–µ–Ω–∞ –ª–µ–≥—á–µ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å —á–µ–º —á–∏—Å–ª–∞. 'google.com' vs '142.250.185.46'. –ù–æ –∏–º–µ–Ω–∞ –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å. –ö—Ä—ã–ª–æ–≤ —ç—Ç–æ –∑–Ω–∞–µ—Ç. –£—á–∏—Å—å –∑–∞—â–∏—â–∞—Ç—å—Å—è."*

---

### üìö –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ DNS? (7-9 –º–∏–Ω)

#### **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**

**DNS** (Domain Name System) ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω –≤ IP –∞–¥—Ä–µ—Å–∞.

#### **–ú–µ—Ç–∞—Ñ–æ—Ä–∞: DNS = –¢–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞** üìû

–ü—Ä–µ–¥—Å—Ç–∞–≤—å:
- **–ò–º—è** (domain) = "–ú–∞–∫—Å –°–æ–∫–æ–ª–æ–≤"
- **IP –∞–¥—Ä–µ—Å** = +7-913-555-1234
- **DNS —Å–µ—Ä–≤–µ—Ä** = —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è —Å–ª—É–∂–±–∞
- **DNS –∑–∞–ø—Ä–æ—Å** = "–ö–∞–∫–æ–π –Ω–æ–º–µ—Ä —É –ú–∞–∫—Å–∞ –°–æ–∫–æ–ª–æ–≤–∞?"
- **DNS –æ—Ç–≤–µ—Ç** = "+7-913-555-1234"

```
–¢–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞:                    DNS:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
"–ú–∞–∫—Å –°–æ–∫–æ–ª–æ–≤"        ‚Üí    "google.com"
    ‚Üì                          ‚Üì
+7-913-555-1234       ‚Üí    142.250.185.46

–ó–∞—á–µ–º?
‚úì –õ–µ–≥—á–µ –∑–∞–ø–æ–º–Ω–∏—Ç—å –∏–º—è
‚úì –ù–æ–º–µ—Ä –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è, –∏–º—è –æ—Å—Ç–∞—ë—Ç—Å—è
‚úì –û–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ = –æ–¥–∏–Ω –Ω–æ–º–µ—Ä (–æ–¥–∏–Ω –¥–æ–º–µ–Ω = –æ–¥–∏–Ω IP)
```

> **LILITH:**
> *"DNS —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ –ª—é–¥–∏ –Ω–µ –∑–∞–ø–æ–º–∏–Ω–∞—é—Ç —á–∏—Å–ª–∞. 142.250.185.46 –∑–∞–±—É–¥–µ—à—å. google.com ‚Äî –Ω–µ—Ç."*

---

#### **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç DNS:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     DNS LOOKUP PROCESS                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

1. [–ë—Ä–∞—É–∑–µ—Ä]  "–ö–∞–∫–æ–π IP —É google.com?"
      ‚îÇ
      ‚Üì
2. [DNS Resolver] "–ù–µ –∑–Ω–∞—é, —Å–ø—Ä–æ—à—É —É DNS —Å–µ—Ä–≤–µ—Ä–∞..."
      ‚îÇ
      ‚Üì
3. [DNS Server]  "google.com = 142.250.185.46"
      ‚îÇ
      ‚Üì
4. [–ë—Ä–∞—É–∑–µ—Ä]  "–°–ø–∞—Å–∏–±–æ!" ‚Üí –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ 142.250.185.46

–í—Ä–µ–º—è: 10-50ms (–æ–±—ã—á–Ω–æ)
```

**DNS = –ø–æ—Å—Ä–µ–¥–Ω–∏–∫** –º–µ–∂–¥—É —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º–∏ –∏–º–µ–Ω–∞–º–∏ –∏ –º–∞—à–∏–Ω–Ω—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏.

---

#### **–¢–∏–ø—ã DNS –∑–∞–ø–∏—Å–µ–π:**

| –¢–∏–ø | –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç | –ü—Ä–∏–º–µ—Ä |
|-----|------------|--------|
| **A** | –ò–º—è ‚Üí IPv4 | `google.com` ‚Üí `142.250.185.46` |
| **AAAA** | –ò–º—è ‚Üí IPv6 | `google.com` ‚Üí `2001:4860:4860::8888` |
| **CNAME** | Alias (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ) | `www.google.com` ‚Üí `google.com` |
| **MX** | Mail server | `gmail.com` ‚Üí `mail.google.com` |
| **TXT** | –¢–µ–∫—Å—Ç (SPF, DKIM) | –ó–∞—â–∏—Ç–∞ email –æ—Ç —Å–ø—É—Ñ–∏–Ω–≥–∞ |

**–î–ª—è Episode 05 —Ñ–æ–∫—É—Å –Ω–∞ A –∑–∞–ø–∏—Å—è—Ö** (–∏–º—è ‚Üí IP).

---

#### **"Aha!" –ú–æ–º–µ–Ω—Ç: DNS Spoofing ‚Äî –ø–æ–¥–º–µ–Ω–∞ –Ω–æ–º–µ—Ä–∞ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–π –∫–Ω–∏–≥–µ** üí°

**–ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
```
–¢—ã: "–ö–∞–∫–æ–π IP —É bank.com?"
DNS: "bank.com = 1.2.3.4"  ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π IP –±–∞–Ω–∫–∞
–¢—ã: (–ø–æ–¥–∫–ª—é—á–∞–µ—à—å—Å—è –∫ 1.2.3.4, –≤—Å—ë –æ–∫)
```

**DNS Spoofing (–∞—Ç–∞–∫–∞ –ö—Ä—ã–ª–æ–≤–∞):**
```
–¢—ã: "–ö–∞–∫–æ–π IP —É bank.com?"
–ö—Ä—ã–ª–æ–≤ (–ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª): "bank.com = 6.6.6.6"  ‚úó IP –ö—Ä—ã–ª–æ–≤–∞!
–¢—ã: (–ø–æ–¥–∫–ª—é—á–∞–µ—à—å—Å—è –∫ 6.6.6.6 ‚Äî —Å–∞–π—Ç –ö—Ä—ã–ª–æ–≤–∞, –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –±–∞–Ω–∫)
–¢—ã: (–≤–≤–æ–¥–∏—à—å –ø–∞—Ä–æ–ª—å...)
–ö—Ä—ã–ª–æ–≤: (–ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–æ–ª—å) üòà
```

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:**
- –¢–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞ –ø–æ–¥–º–µ–Ω–µ–Ω–∞
- –¢—ã –∑–≤–æ–Ω–∏—à—å –≤ –±–∞–Ω–∫
- –ù–æ –ø–æ–ø–∞–¥–∞–µ—à—å –∫ –º–æ—à–µ–Ω–Ω–∏–∫—É (–∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—Ç–≤–æ—Ä—è–µ—Ç—Å—è –±–∞–Ω–∫–æ–º)

> **LILITH:**
> *"DNS spoofing ‚Äî –∫–∞–∫ –ø–æ–¥–º–µ–Ω–∞ –Ω–æ–º–µ—Ä–∞ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–π –∫–Ω–∏–≥–µ. –¢—ã –¥—É–º–∞–µ—à—å –∑–≤–æ–Ω–∏—à—å –≤ –±–∞–Ω–∫, –∞ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ ‚Äî –º–æ—à–µ–Ω–Ω–∏–∫—É. –ó–∞—â–∏—Ç–∞: DNSSEC (Episode 06), HTTPS (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞)."*

---

#### **–§–∞–π–ª—ã DNS –≤ Linux:**

Linux –∏–º–µ–µ—Ç **2 –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–∞** –¥–ª—è DNS:

---

### **1. `/etc/hosts` ‚Äî –õ–æ–∫–∞–ª—å–Ω–∞—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞** üìñ

**–ß—Ç–æ —ç—Ç–æ:**
- –§–∞–π–ª –Ω–∞ —Ç–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫: –∏–º—è ‚Üí IP
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ DNS —Å–µ—Ä–≤–µ—Ä–∞–º–∏!**

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:** `/etc/hosts` = –∑–∞–ø–∏—Å–Ω–∞—è –∫–Ω–∏–∂–∫–∞ –≤ –∫–∞—Ä–º–∞–Ω–µ
- –ë—ã—Å—Ç—Ä–æ (–Ω–µ –Ω—É–∂–Ω–æ –∑–≤–æ–Ω–∏—Ç—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω—É—é)
- –õ–æ–∫–∞–ª—å–Ω–æ (—Ç–æ–ª—å–∫–æ —Ç—ã –≤–∏–¥–∏—à—å)
- –ò–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–º–æ—Ç—Ä–∏—à—å —Å–Ω–∞—á–∞–ª–∞ –≤ –∫–Ω–∏–∂–∫—É, –ø–æ—Ç–æ–º –≤ —Å–ø—Ä–∞–≤–æ—á–Ω—É—é)

**–§–æ—Ä–º–∞—Ç:**
```bash
# /etc/hosts

127.0.0.1       localhost
192.168.1.100   mycomputer.local
10.50.1.100     shadow-server-02.ops.internal
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
IP_ADDRESS    HOSTNAME    [ALIASES]
```

**–ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- **Development:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã (`192.168.1.10 dev.mysite.com`)
- **Security:** –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–ª–æ—Ö–∏–µ –¥–æ–º–µ–Ω—ã (`0.0.0.0 malware.com`)
- **Fast lookup:** –ù–µ –∂–¥–∞—Ç—å DNS –æ—Ç–≤–µ—Ç

> **LILITH:**
> *"/etc/hosts = —Ç–≤–æ—è –ª–∏—á–Ω–∞—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞. DNS —Å–µ—Ä–≤–µ—Ä –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –µ—ë. –ö—Ä—ã–ª–æ–≤ —Ç–æ–∂–µ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç (–µ—Å–ª–∏ —É –Ω–µ–≥–æ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–≤–æ–µ–º—É –∫–æ–º–ø—å—é—Ç–µ—Ä—É). –ù–æ –ø–æ–º–Ω–∏: /etc/hosts –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç. –ü–æ–¥–º–µ–Ω–∞ –∑–¥–µ—Å—å ‚Äî –∏ —Ç—ã –∑–≤–æ–Ω–∏—à—å –∫—É–¥–∞ –ö—Ä—ã–ª–æ–≤ —Ö–æ—á–µ—Ç."*

---

### **2. `/etc/resolv.conf` ‚Äî –ö–∞–∫—É—é —Å–ø—Ä–∞–≤–æ—á–Ω—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** üì°

**–ß—Ç–æ —ç—Ç–æ:**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DNS resolver
- –°–ø–∏—Å–æ–∫ DNS —Å–µ—Ä–≤–µ—Ä–æ–≤ (nameservers)

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:** `/etc/resolv.conf` = –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π
- –ö–æ–º—É –∑–≤–æ–Ω–∏—Ç—å –µ—Å–ª–∏ –Ω–µ—Ç –≤ `/etc/hosts`

**–§–æ—Ä–º–∞—Ç:**
```bash
# /etc/resolv.conf

nameserver 8.8.8.8       # Google DNS (–ø–µ—Ä–≤—ã–π)
nameserver 1.1.1.1       # Cloudflare DNS (fallback)
search ops.internal      # –î–æ–º–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `nameserver X.X.X.X` ‚Äî DNS —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- `search domain.com` ‚Äî –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–º–µ–Ω –∫ –∫–æ—Ä–æ—Ç–∫–∏–º –∏–º–µ–Ω–∞–º
  - –ü—Ä–∏–º–µ—Ä: `ping shadow-server-02` ‚Üí –∏—â–µ—Ç `shadow-server-02.ops.internal`

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ DNS:**
```
8.8.8.8, 8.8.4.4        # Google DNS
1.1.1.1, 1.0.0.1        # Cloudflare DNS
9.9.9.9                 # Quad9 (privacy-focused)
```

> **LILITH:**
> *"/etc/resolv.conf –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–º—É –¥–æ–≤–µ—Ä—è—Ç—å. 8.8.8.8 (Google) vs 1.1.1.1 (Cloudflare) vs —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π DNS. –ö—Ä—ã–ª–æ–≤ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –∫ DNS —Å–µ—Ä–≤–µ—Ä—É. –ó–∞—â–∏—Ç–∞: DNS over TLS (Episode 06)."*

---

#### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç DNS lookup:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         –ü–û–†–Ø–î–û–ö –†–ê–ó–†–ï–®–ï–ù–ò–Ø –ò–ú–Å–ù –í LINUX                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ó–∞–ø—Ä–æ—Å: "–ö–∞–∫–æ–π IP —É shadow-server-02.ops.internal?"

1. /etc/hosts ‚Üê –ü—Ä–æ–≤–µ—Ä—è–µ–º –°–ù–ê–ß–ê–õ–ê (–ª–æ–∫–∞–ª—å–Ω–∞—è –∫–Ω–∏–∂–∫–∞)
   ‚îú‚îÄ –ù–∞–π–¥–µ–Ω–æ? ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–æ—Ç IP ‚úì
   ‚îî‚îÄ –ù–µ –Ω–∞–π–¥–µ–Ω–æ? ‚Üí –ò–¥—ë–º –¥–∞–ª—å—à–µ ‚Üì

2. DNS Cache ‚Üê –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à (–Ω–µ–¥–∞–≤–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã)
   ‚îú‚îÄ –ù–∞–π–¥–µ–Ω–æ? ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à ‚úì
   ‚îî‚îÄ –ù–µ –Ω–∞–π–¥–µ–Ω–æ? ‚Üí –ò–¥—ë–º –¥–∞–ª—å—à–µ ‚Üì

3. DNS Server ‚Üê –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º nameserver –∏–∑ /etc/resolv.conf
   ‚îú‚îÄ –û—Ç–≤–µ—Ç–∏–ª? ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç–≤–µ—Ç ‚úì
   ‚îî‚îÄ –ù–µ –æ—Ç–≤–µ—Ç–∏–ª? ‚Üí ERROR ‚úó

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1st: /etc/hosts       (–ª–æ–∫–∞–ª—å–Ω–æ, –±—ã—Å—Ç—Ä–æ, –Ω–∞–¥—ë–∂–Ω–æ)
2nd: DNS cache        (–±—ã—Å—Ç—Ä–æ, –Ω–æ –º–æ–∂–µ—Ç —É—Å—Ç–∞—Ä–µ—Ç—å)
3rd: DNS server       (–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ)
```

> **LILITH:**
> *"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç = /etc/hosts > DNS. –ï—Å–ª–∏ –ø–æ–¥–º–µ–Ω–∏—Ç—å /etc/hosts ‚Äî –≤–µ—Å—å DNS –æ–±—Ö–æ–¥–∏—Ç—Å—è. –ó–∞—â–∏—â–∞–π /etc/hosts –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ (root only)."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –†–∞–±–æ—Ç–∞ —Å /etc/hosts (5-7 –º–∏–Ω)

#### **–ó–∞–¥–∞–Ω–∏–µ 1: –ü—Ä–æ—Å–º–æ—Ç—Ä /etc/hosts**

```bash
# –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª
cat /etc/hosts

# –ò–ª–∏
less /etc/hosts
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ (–ø—Ä–∏–º–µ—Ä–Ω–æ):**
```bash
127.0.0.1       localhost
127.0.1.1       mycomputer
::1             localhost ip6-localhost ip6-loopback
```

---

#### **–ó–∞–¥–∞–Ω–∏–µ 2: –î–æ–±–∞–≤–∏—Ç—å shadow-server-02 –≤ /etc/hosts**

**–î–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏** (—Å–µ—Ä–≤–µ—Ä –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ):

```bash
# –°–æ–∑–¥–∞—Ç—å backup
sudo cp /etc/hosts /etc/hosts.backup

# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
echo "10.50.1.100  shadow-server-02.ops.internal" | sudo tee -a /etc/hosts

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
grep "shadow-server-02" /etc/hosts
```

**–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º—è:**
```bash
ping shadow-server-02.ops.internal
# –ë—É–¥–µ—Ç –ø–∏–Ω–≥–æ–≤–∞—Ç—å 10.50.1.100 (–∏–∑ /etc/hosts)
```

---

#### **–ó–∞–¥–∞–Ω–∏–µ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç /etc/hosts**

**–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç:**
```bash
# –î–æ–±–∞–≤—å —Ñ–µ–π–∫–æ–≤—ã–π IP –¥–ª—è google.com
echo "127.0.0.1  google.com" | sudo tee -a /etc/hosts

# –ü–∏–Ω–≥—É–π google.com
ping -c 2 google.com
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –ø–∏–Ω–≥—É–µ—Ç 127.0.0.1 (–ª–æ–∫–∞–ª—å–Ω–æ!)

# /etc/hosts –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ DNS ‚úì

# –£–¥–∞–ª–∏ —Å—Ç—Ä–æ–∫—É –ø–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
sudo sed -i '/127.0.0.1.*google.com/d' /etc/hosts
```

**"Aha!" –º–æ–º–µ–Ω—Ç:** `/etc/hosts` **—Å–∏–ª—å–Ω–µ–µ** —á–µ–º DNS!

> **LILITH:**
> *"–í–∏–¥–∏—à—å? /etc/hosts –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç DNS. –ö—Ä—ã–ª–æ–≤ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å '10.50.1.100 security-update.com' ‚Üí —Ç—ã –ø–æ–¥–∫–ª—é—á–∞–µ—à—å—Å—è –∫ –µ–≥–æ —Å–µ—Ä–≤–µ—Ä—É –≤–º–µ—Å—Ç–æ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ update —Å–µ—Ä–≤–µ—Ä–∞. –ó–∞—â–∏—Ç–∞: sudo –ø—Ä–∞–≤–∞ + –ø—Ä–æ–≤–µ—Ä–∫–∞ /etc/hosts —Ä–µ–≥—É–ª—è—Ä–Ω–æ."*

---

#### **–ó–∞–¥–∞–Ω–∏–µ 4: –ü—Ä–æ—Å–º–æ—Ç—Ä /etc/resolv.conf**

```bash
cat /etc/resolv.conf
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
```bash
nameserver 192.168.1.1    # –î–æ–º–∞—à–Ω–∏–π —Ä–æ—É—Ç–µ—Ä
# –∏–ª–∏
nameserver 8.8.8.8        # Google DNS
nameserver 1.1.1.1        # Cloudflare DNS
```

**–î–ª—è –∫—É—Ä—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Google DNS:
```bash
# Backup
sudo cp /etc/resolv.conf /etc/resolv.conf.backup

# –ò–∑–º–µ–Ω–∏—Ç—å (–≤—Ä–µ–º–µ–Ω–Ω–æ)
echo "nameserver 8.8.8.8" | sudo tee /etc/resolv.conf
echo "nameserver 1.1.1.1" | sudo tee -a /etc/resolv.conf

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
nslookup google.com
```

**–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**
```bash
sudo mv /etc/resolv.conf.backup /etc/resolv.conf
```

---

<details>
<summary>‚úÖ –†–µ—à–µ–Ω–∏–µ: Backup /etc/hosts –≤ —Å–∫—Ä–∏–ø—Ç–µ</summary>

```bash
#!/bin/bash

# Function: Backup /etc/hosts before modifications
backup_hosts() {
    local backup_file="artifacts/hosts.backup"

    echo "–°–æ–∑–¥–∞–Ω–∏–µ backup /etc/hosts..."

    if [ ! -f /etc/hosts ]; then
        echo "  ‚ö† /etc/hosts –Ω–µ –Ω–∞–π–¥–µ–Ω (—Å—Ç—Ä–∞–Ω–Ω–æ)"
        return 1
    fi

    # –°–æ–∑–¥–∞—Ç—å artifacts –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
    mkdir -p artifacts

    # Backup (–º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ sudo)
    if cp /etc/hosts "$backup_file" 2>/dev/null; then
        echo "  ‚úì Backup —Å–æ–∑–¥–∞–Ω: $backup_file"
        echo "  –†–∞–∑–º–µ—Ä: $(du -h "$backup_file" | awk '{print $1}')"

        # –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        echo ""
        echo "  –°–æ–¥–µ—Ä–∂–∏–º–æ–µ /etc/hosts:"
        head -n 10 "$backup_file" | sed 's/^/    /'

        return 0
    else
        echo "  ‚ö† –ù–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è /etc/hosts (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)"
        echo "  –î–ª—è backup: sudo cp /etc/hosts artifacts/hosts.backup"
        return 1
    fi
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
backup_hosts
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `/etc/hosts` –æ–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ sudo (—á—Ç–µ–Ω–∏–µ), –Ω–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç sudo.

</details>

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: DNS Lookup –∫–æ–º–∞–Ω–¥—ã (3-5 –º–∏–Ω)

#### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è DNS –∑–∞–ø—Ä–æ—Å–æ–≤:**

```bash
# 1. host ‚Äî –ø—Ä–æ—Å—Ç–æ–π lookup
host google.com

# 2. nslookup ‚Äî —Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
nslookup google.com

# 3. dig ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
dig google.com

# 4. dig +short ‚Äî —Ç–æ–ª—å–∫–æ IP (–¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤)
dig google.com +short
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```bash
$ host google.com
google.com has address 142.250.185.46
google.com has IPv6 address 2001:4860:4860::8888

$ dig google.com +short
142.250.185.46
```

---

#### **–ó–∞–¥–∞–Ω–∏–µ: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å IP —Å–µ—Ä–≤–µ—Ä–∞ Viktor**

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑ network_map.txt (—Å–∏–º—É–ª—è—Ü–∏—è)**
```bash
grep "shadow-server-02" artifacts/network_map.txt | awk '{print $1}'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 10.50.1.100
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ /etc/hosts (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏–ª–∏)**
```bash
grep "shadow-server-02" /etc/hosts | awk '{print $1}'
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: DNS lookup (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)**
```bash
host shadow-server-02.ops.internal
# –ò–ª–∏
dig shadow-server-02.ops.internal +short
```

---

<details>
<summary>‚úÖ –†–µ—à–µ–Ω–∏–µ: Get IP –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</summary>

```bash
#!/bin/bash

# Function: Get Viktor server IP from multiple sources
get_viktor_server_ip() {
    local hostname="shadow-server-02.ops.internal"
    local ip=""

    echo "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ IP —Å–µ—Ä–≤–µ—Ä–∞ Viktor ($hostname)..."

    # –ü–æ–ø—ã—Ç–∫–∞ 1: artifacts/network_map.txt (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
    if [ -f "artifacts/network_map.txt" ]; then
        ip=$(grep "$hostname" artifacts/network_map.txt 2>/dev/null | awk '{print $1}')
        if [ -n "$ip" ]; then
            echo "  ‚úì –ù–∞–π–¥–µ–Ω –≤ network_map.txt: $ip"
            echo "$ip"
            return 0
        fi
    fi

    # –ü–æ–ø—ã—Ç–∫–∞ 2: /etc/hosts
    ip=$(grep "$hostname" /etc/hosts 2>/dev/null | grep -v "^#" | awk '{print $1}' | head -n1)
    if [ -n "$ip" ]; then
        echo "  ‚úì –ù–∞–π–¥–µ–Ω –≤ /etc/hosts: $ip"
        echo "$ip"
        return 0
    fi

    # –ü–æ–ø—ã—Ç–∫–∞ 3: DNS lookup (host)
    if command -v host &>/dev/null; then
        ip=$(host "$hostname" 2>/dev/null | grep "has address" | awk '{print $4}' | head -n1)
        if [ -n "$ip" ]; then
            echo "  ‚úì DNS lookup (host): $ip"
            echo "$ip"
            return 0
        fi
    fi

    # –ü–æ–ø—ã—Ç–∫–∞ 4: DNS lookup (dig)
    if command -v dig &>/dev/null; then
        ip=$(dig "$hostname" +short 2>/dev/null | head -n1)
        if [ -n "$ip" ]; then
            echo "  ‚úì DNS lookup (dig): $ip"
            echo "$ip"
            return 0
        fi
    fi

    # Fallback: –∏–∑–≤–µ—Å—Ç–Ω—ã–π IP (–¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏)
    echo "  ‚ö† IP –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ network_map.txt, /etc/hosts, DNS"
    echo "  –ò—Å–ø–æ–ª—å–∑—É–µ–º fallback: 10.50.1.100"
    echo "10.50.1.100"
    return 0
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
VIKTOR_IP=$(get_viktor_server_ip)
echo "Viktor Server IP: $VIKTOR_IP"
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. `artifacts/network_map.txt` (—Å–∏–º—É–ª—è—Ü–∏—è, –¥–ª—è –∫—É—Ä—Å–∞)
2. `/etc/hosts` (–ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
3. DNS (`host`, `dig`)
4. Fallback (10.50.1.100)

</details>

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è (1 –º–∏–Ω)

**LILITH —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:**

> *"–¢—ã –¥–æ–±–∞–≤–∏–ª –≤ /etc/hosts: '127.0.0.1 google.com'. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –∫–æ–≥–¥–∞ —Ç—ã –∑–∞–ø—É—Å—Ç–∏—à—å 'ping google.com'?"*

**–î—É–º–∞–π 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π:**

<details>
<summary>üí° –û—Ç–≤–µ—Ç</summary>

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
$ ping google.com
PING google.com (127.0.0.1) 56(84) bytes of data.
64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.031 ms
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **ping** –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç IP –¥–ª—è `google.com`
2. **Linux** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `/etc/hosts` –ü–ï–†–í–´–ú (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
3. **–ù–∞—Ö–æ–¥–∏—Ç:** `127.0.0.1  google.com`
4. **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `127.0.0.1` (localhost)
5. **–ü–∏–Ω–≥—É–µ—Ç localhost**, –ù–ï –Ω–∞—Å—Ç–æ—è—â–∏–π Google!

**"Aha!" –º–æ–º–µ–Ω—Ç:**
- `/etc/hosts` **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç DNS**
- DNS –¥–∞–∂–µ –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è
- –≠—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç... –∏ –æ–ø–∞—Å–Ω—ã–π

**Security implications:**

**–ê—Ç–∞–∫–∞ —á–µ—Ä–µ–∑ /etc/hosts:**
```bash
# –ö—Ä—ã–ª–æ–≤ –ø–æ–ª—É—á–∞–µ—Ç root –Ω–∞ —Ç–≤–æ–µ–π –º–∞—à–∏–Ω–µ
# –î–æ–±–∞–≤–ª—è–µ—Ç –≤ /etc/hosts:
185.220.101.47  security-update.ubuntu.com
185.220.101.47  api.mybank.com
185.220.101.47  gmail.com

# –¢–µ–ø–µ—Ä—å:
# - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–¥—É—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ö—Ä—ã–ª–æ–≤–∞
# - –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π API –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ö—Ä—ã–ª–æ–≤—É
# - Gmail –ª–æ–≥–∏–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ö—Ä—ã–ª–æ–≤—É
```

**–ó–∞—â–∏—Ç–∞:**
```bash
# 1. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ root –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
ls -l /etc/hosts
# -rw-r--r-- root root /etc/hosts

# 2. –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
cat /etc/hosts | grep -v "^#" | grep -v "^$"

# 3. File integrity monitoring (advanced)
# tripwire, AIDE, etc.
```

> **LILITH:**
> *"/etc/hosts = —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ —Å–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–¥–º–µ–Ω—ã DNS. –ö—Ä—ã–ª–æ–≤ –ª—é–±–∏—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª. –ó–∞—â–∏—â–∞–π –µ–≥–æ. –ü—Ä–æ–≤–µ—Ä—è–π —Ä–µ–≥—É–ª—è—Ä–Ω–æ. –ò –ø–æ–º–Ω–∏: –µ—Å–ª–∏ —Ç—ã root ‚Äî —Ç—ã –º–æ–∂–µ—à—å –ø–æ–¥–º–µ–Ω–∏—Ç—å –ª—é–±–æ–π –¥–æ–º–µ–Ω."*

</details>

---

### üéØ –ß—Ç–æ —É–∑–Ω–∞–ª–∏ –≤ –¶–∏–∫–ª–µ 3:

- ‚úÖ DNS = —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞ (–∏–º—è ‚Üí IP)
- ‚úÖ DNS spoofing = –ø–æ–¥–º–µ–Ω–∞ –Ω–æ–º–µ—Ä–∞ –≤ –∫–Ω–∏–∂–∫–µ (–∞—Ç–∞–∫–∞ –ö—Ä—ã–ª–æ–≤–∞)
- ‚úÖ `/etc/hosts` = –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–Ω–∏–∂–∫–∞ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ DNS!)
- ‚úÖ `/etc/resolv.conf` = –∫–∞–∫–∏–µ DNS —Å–µ—Ä–≤–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: /etc/hosts ‚Üí DNS cache ‚Üí DNS server
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã: `host`, `dig`, `nslookup`
- ‚úÖ Artifacts: `hosts.backup` (–ø–µ—Ä–µ–¥ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–µ–π)

> **LILITH:**
> *"–¶–∏–∫–ª 3 –∑–∞–≤–µ—Ä—à—ë–Ω. DNS ‚Äî –º–æ—Å—Ç –º–µ–∂–¥—É –∏–º–µ–Ω–∞–º–∏ –∏ –∞–¥—Ä–µ—Å–∞–º–∏. –ù–æ –º–æ—Å—Ç—ã –º–æ–∂–Ω–æ –≤–∑–æ—Ä–≤–∞—Ç—å. –ò–ª–∏ –ø–æ–¥–º–µ–Ω–∏—Ç—å. –ö—Ä—ã–ª–æ–≤ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç. –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Äî traceroute. –£–∑–Ω–∞–µ–º —á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ –º–æ—Å—Ç—ã –∏–¥—ë—Ç —Ç—Ä–∞—Ñ–∏–∫. –ü–æ–µ—Ö–∞–ª–∏."*

---

## üîÑ –¶–ò–ö–õ 4: Traceroute & Routing ‚Äî "–ü–æ—á—Ç–æ–≤—ã–µ —Å—Ç–∞–Ω—Ü–∏–∏" (15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç (2 –º–∏–Ω)

–ê–Ω–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫–∞—Ä—Ç—É —Å –ª–∏–Ω–∏—è–º–∏ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏:

> **–ê–Ω–Ω–∞:**
> *"–ú–∞–∫—Å, –Ω—É–∂–µ–Ω –º–∞—Ä—à—Ä—É—Ç –¥–æ shadow-server-02. –ß–µ—Ä–µ–∑ –∫–∞–∫–∏–µ —É–∑–ª—ã –∏–¥—ë—Ç —Ç—Ä–∞—Ñ–∏–∫? –°–∫–æ–ª—å–∫–æ —Ä–æ—É—Ç–µ—Ä–æ–≤ –º–µ–∂–¥—É –Ω–∞–º–∏ –∏ –∏–º?"*

–ê–ª–µ–∫—Å –ø–æ–¥—Ö–æ–¥–∏—Ç:

> **–ê–ª–µ–∫—Å:**
> *"Traceroute ‚Äî –∫–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–∞–∫–µ—Ç–∞. –ö–∞–∂–¥—ã–π —Ä–æ—É—Ç–µ—Ä –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥. –û–¥–∏–Ω –∏–∑ —Ä–æ—É—Ç–µ—Ä–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω –ö—Ä—ã–ª–æ–≤—ã–º. Man-in-the-middle."*

> **LILITH:**
> *"Traceroute = —Ü–µ–ø—å –ø–æ—á—Ç–æ–≤—ã—Ö —Å—Ç–∞–Ω—Ü–∏–π. –ü–∏—Å—å–º–æ –∏–¥—ë—Ç –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ ‚Üí –ú–æ—Å–∫–≤–∞ ‚Üí –°—Ç–æ–∫–≥–æ–ª—å–º. –ö–∞–∂–¥–∞—è —Å—Ç–∞–Ω—Ü–∏—è = hop. –ö—Ä—ã–ª–æ–≤ –º–æ–∂–µ—Ç —Å–∏–¥–µ—Ç—å –Ω–∞ –ª—é–±–æ–π —Å—Ç–∞–Ω—Ü–∏–∏ –∏ —á–∏—Ç–∞—Ç—å –ø–∏—Å—å–º–∞."*

---

### üìö –¢–µ–æ—Ä–∏—è: Traceroute & Routing (6-7 –º–∏–Ω)

#### **–ú–µ—Ç–∞—Ñ–æ—Ä–∞: Traceroute = –ü–æ—á—Ç–æ–≤—ã–µ —Å—Ç–∞–Ω—Ü–∏–∏** üìÆ

–ü—Ä–µ–¥—Å—Ç–∞–≤—å –æ—Ç–ø—Ä–∞–≤–∫—É –ø–∏—Å—å–º–∞ —á–µ—Ä–µ–∑ –ø–æ—á—Ç—É:

```
–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ (—Ç—ã)
      ‚Üì  Station 1 (–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –ü–æ—á—Ç–∞) ‚Äî 1ms
      ‚Üì  Station 2 (–ú–æ—Å–∫–≤–∞ –ü–æ—á—Ç–∞) ‚Äî 50ms
      ‚Üì  Station 3 (–°—Ç–æ–∫–≥–æ–ª—å–º –ü–æ—á—Ç–∞) ‚Äî 100ms
      ‚Üì  Station 4 (–ü–æ–ª—É—á–∞—Ç–µ–ª—å) ‚Äî 105ms

–ö–∞–∂–¥–∞—è —Å—Ç–∞–Ω—Ü–∏—è = hop (—Ä–æ—É—Ç–µ—Ä –≤ —Å–µ—Ç–∏)
–í—Ä–µ–º—è = latency –¥–æ —ç—Ç–æ–π —Å—Ç–∞–Ω—Ü–∏–∏
```

**traceroute –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç–∞–Ω—Ü–∏—é –Ω–∞ –ø—É—Ç–∏ –∫ —Ü–µ–ª–∏.**

> **LILITH:**
> *"–ö–∞–∂–¥—ã–π hop –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –ø–∞–∫–µ—Ç—ã (–µ—Å–ª–∏ –Ω–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ). –ö—Ä—ã–ª–æ–≤ –º–æ–∂–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å hop #3 ‚Üí —á–∏—Ç–∞–µ—Ç –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ. HTTPS –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —ç—Ç–æ–≥–æ."*

---

#### **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç traceroute:**

**–¢—Ä—é–∫ —Å TTL (Time To Live):**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç —Å TTL=1
   - –ü–µ—Ä–≤—ã–π —Ä–æ—É—Ç–µ—Ä: "TTL –∏—Å—Ç—ë–∫!" ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ICMP "Time Exceeded"
   - –ú—ã —É–∑–Ω–∞–ª–∏ IP –ø–µ—Ä–≤–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞

2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç —Å TTL=2
   - –ü–µ—Ä–≤—ã–π —Ä–æ—É—Ç–µ—Ä: –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç
   - –í—Ç–æ—Ä–æ–π —Ä–æ—É—Ç–µ—Ä: "TTL –∏—Å—Ç—ë–∫!" ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ICMP
   - –ú—ã —É–∑–Ω–∞–ª–∏ IP –≤—Ç–æ—Ä–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞

3. –ü–æ–≤—Ç–æ—Ä—è—Ç—å –ø–æ–∫–∞ –Ω–µ –¥–æ–π–¥—ë–º –¥–æ —Ü–µ–ª–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    TRACEROUTE MECHANISM                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

[–¢—ã] ‚îÄ‚îÄ(TTL=1)‚îÄ‚îÄ> [Router 1] "TTL expired!" ‚îÄ‚îÄICMP‚îÄ‚îÄ> [–¢—ã]
     –£–∑–Ω–∞–ª–∏ IP Router 1 ‚úì

[–¢—ã] ‚îÄ‚îÄ(TTL=2)‚îÄ‚îÄ> [Router 1] ‚îÄ‚îÄ> [Router 2] "TTL expired!" ‚îÄ‚îÄ> [–¢—ã]
     –£–∑–Ω–∞–ª–∏ IP Router 2 ‚úì

[–¢—ã] ‚îÄ‚îÄ(TTL=3)‚îÄ‚îÄ> [Router 1] ‚îÄ‚îÄ> [Router 2] ‚îÄ‚îÄ> [–¶–µ–ª—å] "Got it!" ‚îÄ‚îÄ> [–¢—ã]
     –î–æ—à–ª–∏ –¥–æ —Ü–µ–ª–∏ ‚úì
```

---

#### **–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ traceroute:**

```bash
$ traceroute google.com

traceroute to google.com (142.250.185.46), 30 hops max
 1  192.168.1.1 (192.168.1.1)  1.245 ms    # –î–æ–º–∞—à–Ω–∏–π —Ä–æ—É—Ç–µ—Ä
 2  10.0.0.1 (10.0.0.1)  5.123 ms          # ISP gateway
 3  72.14.213.1 (72.14.213.1)  12.456 ms   # ISP backbone
 4  * * *                                    # Firewall (–Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç)
 5  142.250.185.46 (142.250.185.46)  15.2 ms  # Google
```

**–ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç —Å–∏–º–≤–æ–ª—ã:**
- `*` ‚Äî —Ä–æ—É—Ç–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (firewall –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- `* * *` ‚Äî —Ç—Ä–∏ –ø–æ–ø—ã—Ç–∫–∏ failed
- –í—Ä–µ–º—è ‚Äî latency –¥–æ —ç—Ç–æ–≥–æ hop'–∞

> **LILITH:**
> *"`* * *` = —Å–ª–µ–ø–æ–µ –ø—è—Ç–Ω–æ. –õ–∏–±–æ firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç ICMP, –ª–∏–±–æ —Ä–æ—É—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–µ –æ—Ç–≤–µ—á–∞—Ç—å. –ö—Ä—ã–ª–æ–≤ –º–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–æ—É—Ç–µ—Ä—ã —Ç–∞–∫."*

---

#### **Routing Table ‚Äî "–ö–∞—Ä—Ç–∞ –¥–æ—Ä–æ–≥"**

**Routing table** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–∫–µ—Ç—ã.

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:** Routing table = GPS –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä —Å –∫–∞—Ä—Ç–æ–π –¥–æ—Ä–æ–≥
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ = –º–∞—Ä—à—Ä—É—Ç –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–µ—Ç–∏
- Default gateway = "–µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å –∫—É–¥–∞ ‚Äî –∏–¥–∏ —Ç—É–¥–∞"

**–ü—Ä–∏–º–µ—Ä `/ip route show`:**
```bash
default via 192.168.1.1 dev eth0         # Default = –¥–æ–º–∞—à–Ω–∏–π —Ä–æ—É—Ç–µ—Ä
10.50.0.0/16 dev eth1                   # –°–µ—Ç—å 10.50.x.x –Ω–∞–ø—Ä—è–º—É—é
192.168.1.0/24 dev eth0                 # –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- –ü–∞–∫–µ—Ç –¥–ª—è `10.50.5.10` ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ `eth1` (–Ω–∞–ø—Ä—è–º—É—é)
- –ü–∞–∫–µ—Ç –¥–ª—è `8.8.8.8` ‚Üí –Ω–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ default gateway

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: Traceroute & Routing (5-6 –º–∏–Ω)

#### **–ó–∞–¥–∞–Ω–∏–µ 1: Traceroute –¥–æ Google (–µ—Å–ª–∏ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)**

```bash
# tracepath (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç sudo)
tracepath google.com

# –∏–ª–∏ traceroute (—Ç—Ä–µ–±—É–µ—Ç sudo)
sudo traceroute google.com
```

#### **–ó–∞–¥–∞–Ω–∏–µ 2: –ü—Ä–æ—Å–º–æ—Ç—Ä routing table**

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã
ip route show

# –ò–ª–∏ –∫–æ—Ä–æ—á–µ
ip r

# –ù–∞–π—Ç–∏ default gateway
ip route | grep default
```

#### **–ó–∞–¥–∞–Ω–∏–µ 3: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å default gateway**

```bash
# –ò–∑–≤–ª–µ—á—å IP gateway
ip route | grep default | awk '{print $3}'

# –ü–∏–Ω–≥–æ–≤–∞—Ç—å gateway
ping -c 2 $(ip route | grep default | awk '{print $3}')
```

<details>
<summary>‚úÖ –†–µ—à–µ–Ω–∏–µ: Traceroute –≤ —Å–∫—Ä–∏–ø—Ç–µ</summary>

```bash
#!/bin/bash

simulate_traceroute() {
    local server_ip="$1"

    echo "–ú–∞—Ä—à—Ä—É—Ç –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ Viktor ($server_ip):"

    if command -v tracepath &>/dev/null; then
        echo "  (–ò—Å–ø–æ–ª—å–∑—É—è tracepath)"
        tracepath -n "$server_ip" 2>/dev/null | head -n 10 || \
            echo "  (traceroute –Ω–µ —É–¥–∞–ª—Å—è ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è)"
    else
        # –°–∏–º—É–ª—è—Ü–∏—è
        echo "  (–°–∏–º—É–ª—è—Ü–∏—è traceroute)"
        echo "  1  192.168.100.1    1.2ms   (Gateway)"
        echo "  2  10.50.0.1        2.5ms   (–¶–û–î Switch)"
        echo "  3  $server_ip       3.1ms   (shadow-server-02)"
        echo ""
        echo "‚úì 3 hops, –ø–æ—Å–ª–µ–¥–Ω–∏–π —É–∑–µ–ª –≤ –¶–û–î–µ –ú–æ—Å–∫–≤–∞-1"
    fi
}

show_routing_table() {
    echo "–¢–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:"
    ip route show | sed 's/^/  /'

    echo ""
    local gateway=$(ip route | grep default | awk '{print $3}' | head -n1)
    if [ -n "$gateway" ]; then
        echo "‚úì Default gateway: $gateway"
    fi
}

simulate_traceroute "10.50.1.100"
show_routing_table
```

</details>

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è

**LILITH —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:**
> *"Traceroute –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 20 hops –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ Viktor –≤ –ú–æ—Å–∫–≤–µ. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ?"*

<details>
<summary>üí° –û—Ç–≤–µ—Ç</summary>

**–ù–µ—Ç, —ç—Ç–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ.**

**–ù–æ—Ä–º–∞–ª—å–Ω–æ:**
- –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å (–¶–û–î): 1-3 hops
- –¢–æ—Ç –∂–µ –≥–æ—Ä–æ–¥: 3-5 hops
- –î—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥ (–†–æ—Å—Å–∏—è): 5-10 hops

**20 hops = –ø—Ä–æ–±–ª–µ–º–∞:**
- –ü–ª–æ—Ö–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (–ø–∞–∫–µ—Ç –∏–¥—ë—Ç –∫—Ä—É–∂–Ω—ã–º –ø—É—Ç—ë–º)
- –í–æ–∑–º–æ–∂–Ω–æ Man-in-the-Middle (–ö—Ä—ã–ª–æ–≤ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ —Å–≤–æ–∏ —Ä–æ—É—Ç–µ—Ä—ã)
- VPN –∏–ª–∏ Tor (–º–Ω–æ–≥–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —É–∑–ª–æ–≤)

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç: `traceroute 10.50.1.100`
- –°—Ä–∞–≤–Ω–∏—Ç—å —Å –æ–∂–∏–¥–∞–µ–º—ã–º –º–∞—Ä—à—Ä—É—Ç–æ–º
- –ï—Å–ª–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VPN (Episode 08)

> **LILITH:**
> *"20 hops –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –¶–û–î? –ö—Ä—ã–ª–æ–≤ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏–ª —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ —Å–≤–æ–∏ —Å–µ—Ä–≤–µ—Ä—ã. Man-in-the-middle. –ü—Ä—è–º–æ–π –º–∞—Ä—à—Ä—É—Ç = 2-3 hops. 20 hops = –∫—Ç–æ-—Ç–æ –≤–º–µ—à–∞–ª—Å—è."*

</details>

---

### üéØ –ß—Ç–æ —É–∑–Ω–∞–ª–∏ –≤ –¶–∏–∫–ª–µ 4:

- ‚úÖ traceroute = –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —Ä–æ—É—Ç–µ—Ä –Ω–∞ –ø—É—Ç–∏
- ‚úÖ TTL trick = –∫–∞–∫ traceroute —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Default gateway = –∫—É–¥–∞ –∏–¥—Ç–∏ –µ—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
- ‚úÖ Routing table = –∫–∞—Ä—Ç–∞ –¥–æ—Ä–æ–≥ –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã: `tracepath`, `traceroute`, `ip route`

> **LILITH:**
> *"–¶–∏–∫–ª 4 –∑–∞–≤–µ—Ä—à—ë–Ω. –¢—ã –∑–Ω–∞–µ—à—å –º–∞—Ä—à—Ä—É—Ç. –ö–∞–∂–¥—ã–π hop ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –ö—Ä—ã–ª–æ–≤–∞. –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Äî –ø–æ—Ä—Ç—ã. –î–≤–µ—Ä–∏ –≤ –∑–¥–∞–Ω–∏–∏. –ö–∞–∫–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã? –ö–∞–∫–∏–µ –∑–∞–∫—Ä—ã—Ç—ã? –ü–æ–µ—Ö–∞–ª–∏."*

---

## üîÑ –¶–ò–ö–õ 5: –ü–æ—Ä—Ç—ã & –°–æ–∫–µ—Ç—ã ‚Äî "–ö–≤–∞—Ä—Ç–∏—Ä—ã –≤ –∑–¥–∞–Ω–∏–∏" (15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç (2 –º–∏–Ω)

–î–º–∏—Ç—Ä–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä —Å –≤—ã–≤–æ–¥–æ–º `ss -tuln`:

> **–î–º–∏—Ç—Ä–∏–π:**
> *"–ú–∞–∫—Å, –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã –Ω–∞ shadow-server-02? SSH? HTTP? –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö? –ö–∞–∂–¥—ã–π –ø–æ—Ä—Ç = –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å."*

–ê–ª–µ–∫—Å:

> **–ê–ª–µ–∫—Å:**
> *"–û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç = –æ—Ç–∫—Ä—ã—Ç–∞—è –¥–≤–µ—Ä—å. –ï—Å–ª–∏ –ø–æ—Ä—Ç –Ω–µ –Ω—É–∂–µ–Ω ‚Äî –∑–∞–∫—Ä–æ–π –µ–≥–æ. Firewall (Episode 07). –ö—Ä—ã–ª–æ–≤ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã –∏ –∞—Ç–∞–∫—É–µ—Ç —É—è–∑–≤–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã."*

> **LILITH:**
> *"IP –∞–¥—Ä–µ—Å = –∑–¥–∞–Ω–∏–µ. –ü–æ—Ä—Ç = –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –∑–¥–∞–Ω–∏–∏. 192.168.1.100:22 = –¥–æ–º 192.168.1.100, –∫–≤–∞—Ä—Ç–∏—Ä–∞ 22 (SSH). –ö—Ä—ã–ª–æ–≤ —Å—Ç—É—á–∏—Ç—Å—è –≤ –∫–∞–∂–¥—É—é –¥–≤–µ—Ä—å. –û—Ç–∫—Ä–æ–π —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ."*

---

### üìö –¢–µ–æ—Ä–∏—è: –ü–æ—Ä—Ç—ã –∏ –°–æ–∫–µ—Ç—ã (6-7 –º–∏–Ω)

#### **–ú–µ—Ç–∞—Ñ–æ—Ä–∞: –ü–æ—Ä—Ç = –ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –∑–¥–∞–Ω–∏–∏** üè¢

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ó–î–ê–ù–ò–ï 192.168.1.100           ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ   –ö–≤–∞—Ä—Ç–∏—Ä–∞ 22   ‚Üí SSH           ‚îÇ
‚îÇ   –ö–≤–∞—Ä—Ç–∏—Ä–∞ 80   ‚Üí HTTP          ‚îÇ
‚îÇ   –ö–≤–∞—Ä—Ç–∏—Ä–∞ 443  ‚Üí HTTPS         ‚îÇ
‚îÇ   –ö–≤–∞—Ä—Ç–∏—Ä–∞ 3306 ‚Üí MySQL         ‚îÇ
‚îÇ   –ö–≤–∞—Ä—Ç–∏—Ä–∞ 8080 ‚Üí Debug App     ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ   –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã: –ø—É—Å—Ç—ã–µ    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–§–æ—Ä–º–∞—Ç: IP:PORT
–ü—Ä–∏–º–µ—Ä: 192.168.1.100:22 (SSH —Å–µ—Ä–≤–µ—Ä)
```

**–ó–∞—á–µ–º –ø–æ—Ä—Ç—ã?**
- –û–¥–∏–Ω IP –∞–¥—Ä–µ—Å = –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä
- –ù–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤ (web, ssh, database, mail...)
- –ü–æ—Ä—Ç—ã —Ä–∞–∑–¥–µ–ª—è—é—Ç —Å–µ—Ä–≤–∏—Å—ã

> **LILITH:**
> *"–ü–æ—Ä—Ç = —Å–ø–æ—Å–æ–± —Ä–∞–∑–ª–∏—á–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ –æ–¥–Ω–æ–º IP. –ë–µ–∑ –ø–æ—Ä—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä –º–æ–≥ –±—ã –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –≤–µ—â—å. –° –ø–æ—Ä—Ç–∞–º–∏ ‚Äî 65,535 –≤–µ—â–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ."*

---

#### **–î–∏–∞–ø–∞–∑–æ–Ω—ã –ø–æ—Ä—Ç–æ–≤:**

| –î–∏–∞–ø–∞–∑–æ–Ω | –ù–∞–∑–≤–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|----------|----------|---------------|
| 0-1023 | Well-known | –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (—Ç—Ä–µ–±—É—é—Ç root) |
| 1024-49151 | Registered | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| 49152-65535 | Dynamic | –í—Ä–µ–º–µ–Ω–Ω—ã–µ (–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è) |

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–æ—Ä—Ç—ã:**
```
22   ‚Üí SSH (—É–¥–∞–ª—ë–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª)
80   ‚Üí HTTP (–≤–µ–± –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è)
443  ‚Üí HTTPS (–≤–µ–± —Å SSL/TLS)
25   ‚Üí SMTP (–æ—Ç–ø—Ä–∞–≤–∫–∞ email)
110  ‚Üí POP3 (–ø–æ–ª—É—á–µ–Ω–∏–µ email)
143  ‚Üí IMAP (email)
3306 ‚Üí MySQL
5432 ‚Üí PostgreSQL
6379 ‚Üí Redis
```

---

#### **–°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Ä—Ç–æ–≤:**

```bash
$ ss -tuln
State    Local Address:Port
LISTEN   0.0.0.0:22         # SSH —Å–ª—É—à–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
LISTEN   127.0.0.1:3306     # MySQL —Ç–æ–ª—å–∫–æ –Ω–∞ localhost
ESTAB    192.168.1.100:45678 ‚Üí 142.250.185.46:443  # –ê–∫—Ç–∏–≤–Ω–æ–µ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
```

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- **LISTEN** ‚Äî –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç, –∂–¥—ë—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- **ESTABLISHED** ‚Äî –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **TIME_WAIT** ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**Security:**
- `0.0.0.0:22` = SSH –¥–æ—Å—Ç—É–ø–µ–Ω **–∏–∑–≤–Ω–µ** (–æ–ø–∞—Å–Ω–æ!)
- `127.0.0.1:3306` = MySQL —Ç–æ–ª—å–∫–æ **localhost** (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)

> **LILITH:**
> *"0.0.0.0 = –¥–≤–µ—Ä—å –æ—Ç–∫—Ä—ã—Ç–∞ –¥–ª—è –≤—Å–µ—Ö. 127.0.0.1 = –¥–≤–µ—Ä—å –æ—Ç–∫—Ä—ã—Ç–∞ —Ç–æ–ª—å–∫–æ –∏–∑–Ω—É—Ç—Ä–∏. –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 0.0.0.0? –ö—Ä—ã–ª–æ–≤ –≥–æ–≤–æ—Ä–∏—Ç —Å–ø–∞—Å–∏–±–æ."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ (5-6 –º–∏–Ω)

#### **–ó–∞–¥–∞–Ω–∏–µ 1: –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ**

```bash
# ss (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π)
ss -tuln

# netstat (—Å—Ç–∞—Ä—ã–π, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
netstat -tuln

# –° –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ (—Ç—Ä–µ–±—É–µ—Ç sudo)
sudo ss -tulnp
```

#### **–ó–∞–¥–∞–Ω–∏–µ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ—Ä—Ç**

```bash
# –°–ª—É—à–∞–µ—Ç –ª–∏ –ø–æ—Ä—Ç 22 (SSH)?
ss -tuln | grep :22

# –ö—Ç–æ —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 80?
sudo ss -tulnp | grep :80
```

<details>
<summary>‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ –≤ —Å–∫—Ä–∏–ø—Ç–µ</summary>

```bash
#!/bin/bash

check_local_ports() {
    echo "–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã –Ω–∞ —Ä–∞–±–æ—á–µ–π —Å—Ç–∞–Ω—Ü–∏–∏ Max:"

    if command -v ss &>/dev/null; then
        echo "  (–ò—Å–ø–æ–ª—å–∑—É—è ss -tuln)"
        ss -tuln | grep LISTEN | awk '{print "  " $1 "\t" $5}' | head -n 10
    elif command -v netstat &>/dev/null; then
        echo "  (–ò—Å–ø–æ–ª—å–∑—É—è netstat -tuln)"
        netstat -tuln | grep LISTEN | awk '{print "  " $1 "\t" $4}' | head -n 10
    fi

    echo ""
    echo "‚ö† –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: –Ω—É–∂–Ω—ã –ª–∏ –≤—Å–µ —ç—Ç–∏ –ø–æ—Ä—Ç—ã?"
    echo "  –ö–∞–∂–¥—ã–π –æ—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç = –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å"
}

check_local_ports
```

</details>

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è

**LILITH —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:**
> *"–ü–æ—Ä—Ç 22 –æ—Ç–∫—Ä—ã—Ç –Ω–∞ 0.0.0.0:22. –ü–æ—Ä—Ç 3306 –æ—Ç–∫—Ä—ã—Ç –Ω–∞ 127.0.0.1:3306. –ö–∞–∫–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ?"*

<details>
<summary>üí° –û—Ç–≤–µ—Ç</summary>

**127.0.0.1:3306 (MySQL) –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ!**

**–†–∞–∑–Ω–∏—Ü–∞:**
```
0.0.0.0:22 (SSH)
  ‚Üí –°–ª—É—à–∞–µ—Ç –Ω–∞ –í–°–ï–• –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
  ‚Üí –î–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (–∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –µ—Å–ª–∏ –Ω–µ—Ç firewall)
  ‚Üí –ö—Ä—ã–ª–æ–≤ –º–æ–∂–µ—Ç –∞—Ç–∞–∫–æ–≤–∞—Ç—å SSH

127.0.0.1:3306 (MySQL)
  ‚Üí –°–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost
  ‚Üí –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ (—Å —Å–∞–º–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
  ‚Üí –ö—Ä—ã–ª–æ–≤ –ù–ï –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏–∑–≤–Ω–µ
```

**Best practice:**
- SSH (22): –µ—Å–ª–∏ –Ω—É–∂–µ–Ω —É–¥–∞–ª—ë–Ω–Ω–æ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π, –Ω–æ —Å firewall + –∫–ª—é—á–∞–º–∏
- MySQL (3306): **–Ω–∏–∫–æ–≥–¥–∞** 0.0.0.0 ‚Üí —Ç–æ–ª—å–∫–æ 127.0.0.1
- HTTP/HTTPS (80/443): 0.0.0.0 OK (–¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞)

> **LILITH:**
> *"–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 0.0.0.0 = –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ö—Ä—ã–ª–æ–≤—É. SSH –Ω–∞ 0.0.0.0 = —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–æ (firewall –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω). –ü—Ä–∞–≤–∏–ª–æ: –æ—Ç–∫—Ä—ã–≤–∞–π –º–∏–Ω–∏–º—É–º, –∑–∞—â–∏—â–∞–π –º–∞–∫—Å–∏–º—É–º."*

</details>

---

### üéØ –ß—Ç–æ —É–∑–Ω–∞–ª–∏ –≤ –¶–∏–∫–ª–µ 5:

- ‚úÖ –ü–æ—Ä—Ç = –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –∑–¥–∞–Ω–∏–∏ (IP = –∑–¥–∞–Ω–∏–µ)
- ‚úÖ Well-known ports: 0-1023 (SSH=22, HTTP=80, HTTPS=443)
- ‚úÖ 0.0.0.0 = –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ, 127.0.0.1 = —Ç–æ–ª—å–∫–æ localhost
- ‚úÖ LISTEN = –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç –∏ –∂–¥—ë—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã: `ss -tuln`, `netstat -tuln`

> **LILITH:**
> *"–¶–∏–∫–ª 5 –∑–∞–≤–µ—Ä—à—ë–Ω. –¢—ã –∑–Ω–∞–µ—à—å –∫–∞–∫–∏–µ –¥–≤–µ—Ä–∏ –æ—Ç–∫—Ä—ã—Ç—ã. –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –£–∑–Ω–∞–µ–º –∫–∞–∫–∏–µ –¥–≤–µ—Ä–∏ –æ—Ç–∫—Ä—ã—Ç—ã —É shadow-server-02. nmap ‚Äî —à–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π –Ω–æ–∂ —Ö–∞–∫–µ—Ä–∞. –ü–æ–µ—Ö–∞–ª–∏."*

---

## üîÑ –¶–ò–ö–õ 6: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ (nmap) ‚Äî "–î–µ—Ç–µ–∫—Ç–∏–≤ —Å –ª—É–ø–æ–π" (15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç (2 –º–∏–Ω)

–ê–ª–µ–∫—Å –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫ –ú–∞–∫—Å—É:

> **–ê–ª–µ–∫—Å:**
> *"–ú–∞–∫—Å, —Ç–µ–ø–µ—Ä—å –¥—É–º–∞–π –∫–∞–∫ –∞—Ç–∞–∫—É—é—â–∏–π. –ü—Ä–æ—Å–∫–∞–Ω–∏—Ä—É–π shadow-server-02. –£–∑–Ω–∞–π –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã. –≠—Ç–æ —Ç–æ, —á—Ç–æ –≤–∏–¥–∏—Ç –ö—Ä—ã–ª–æ–≤ –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ–π."*

> **‚ö†Ô∏è –í–ê–ñ–ù–û –æ—Ç –í–∏–∫—Ç–æ—Ä–∞:**
> *"–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á—É–∂–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ‚Äî –Ω–µ–∑–∞–∫–æ–Ω–Ω–æ (—Å—Ç–∞—Ç—å—è –£–ö –†–§). –ú—ã —Å–∫–∞–Ω–∏—Ä—É–µ–º –¢–û–õ–¨–ö–û –Ω–∞—à–∏ —Å–µ—Ä–≤–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ Viktor."*

> **LILITH:**
> *"nmap ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞—Ç–∞–∫—É—é—â–µ–≥–æ. –ò —Ç–≤–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –†–∞–∑–Ω–∏—Ü–∞ ‚Äî —Ç—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º. –ö—Ä—ã–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç nmap —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏. –¢—ã ‚Äî —á—Ç–æ–±—ã –∏—Ö –∑–∞–∫—Ä—ã—Ç—å."*

---

### üìö –¢–µ–æ—Ä–∏—è: nmap (Network Mapper) (6-7 –º–∏–Ω)

**nmap** ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ç–µ–π –∏ –ø–æ—Ä—Ç–æ–≤.

#### **–ú–µ—Ç–∞—Ñ–æ—Ä–∞: nmap = –î–µ—Ç–µ–∫—Ç–∏–≤ —Å –ª—É–ø–æ–π** üîç

–î–µ—Ç–µ–∫—Ç–∏–≤ —Ö–æ–¥–∏—Ç –ø–æ –∑–¥–∞–Ω–∏—é (—Å–µ—Ä–≤–µ—Ä):
- –°—Ç—É—á–∏—Ç—Å—è –≤ –∫–∞–∂–¥—É—é –¥–≤–µ—Ä—å (–ø–æ—Ä—Ç)
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç: –æ—Ç–∫—Ä—ã—Ç–∞, –∑–∞–∫—Ä—ã—Ç–∞, –∑–∞–∫–æ–ª–æ—á–µ–Ω–∞
- –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫—Ç–æ –∂–∏–≤—ë—Ç (–≤–µ—Ä—Å–∏—è —Å–µ—Ä–≤–∏—Å–∞)
- –î–µ–ª–∞–µ—Ç –∑–∞–∫–ª—é—á–µ–Ω–∏–µ (OS fingerprinting)

```
Detective nmap:
  üö™ Port 22?   ‚Üí Open (SSH, OpenSSH 8.2)
  üö™ Port 80?   ‚Üí Open (Apache 2.4.41)
  üö™ Port 443?  ‚Üí Open (nginx 1.18)
  üö™ Port 3306? ‚Üí Closed (–Ω–∏–∫—Ç–æ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç)

Report: 3 open ports, Apache+nginx, likely Ubuntu 20.04
```

---

#### **–¢–∏–ø—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**

```bash
# 1. –ü—Ä–æ—Å—Ç–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (TCP Connect)
nmap 10.50.1.100

# 2. TOP-100 –ø–æ—Ä—Ç–æ–≤ (–±—ã—Å—Ç—Ä–µ–µ)
nmap --top-ports 100 10.50.1.100

# 3. –í–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
nmap -sV 10.50.1.100

# 4. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ (OS + –≤–µ—Ä—Å–∏–∏ + —Å–∫—Ä–∏–ø—Ç—ã)
sudo nmap -A 10.50.1.100

# 5. –ë–µ–∑ ping (–µ—Å–ª–∏ firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç ICMP)
nmap -Pn 10.50.1.100
```

**–í—ã–≤–æ–¥:**
```
PORT     STATE  SERVICE  VERSION
22/tcp   open   ssh      OpenSSH 8.2
80/tcp   open   http     Apache 2.4.41
443/tcp  open   https    nginx 1.18
3306/tcp closed mysql
```

> **LILITH:**
> *"nmap –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –≤–∏–¥–∏—Ç –ö—Ä—ã–ª–æ–≤ –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ–π. –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã = attack surface. –ß–µ–º –º–µ–Ω—å—à–µ –æ—Ç–∫—Ä—ã—Ç–æ ‚Äî —Ç–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: nmap —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (5-6 –º–∏–Ω)

#### **–ó–∞–¥–∞–Ω–∏–µ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nmap (–µ—Å–ª–∏ –Ω–µ—Ç)**

```bash
sudo apt install nmap
```

#### **–ó–∞–¥–∞–Ω–∏–µ 2: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ localhost (–±–µ–∑–æ–ø–∞—Å–Ω–æ)**

```bash
# –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–µ–±—è
nmap 127.0.0.1

# TOP-100 –ø–æ—Ä—Ç–æ–≤
nmap --top-ports 100 127.0.0.1
```

#### **–ó–∞–¥–∞–Ω–∏–µ 3: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ shadow-server-02 (—Å–∏–º—É–ª—è—Ü–∏—è)**

```bash
# –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
nmap --top-ports 100 10.50.1.100

# –ò–Ω–∞—á–µ ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è –≤ —Å–∫—Ä–∏–ø—Ç–µ
```

<details>
<summary>‚úÖ –†–µ—à–µ–Ω–∏–µ: nmap –≤ —Å–∫—Ä–∏–ø—Ç–µ</summary>

```bash
#!/bin/bash

scan_viktor_server() {
    local server_ip="$1"

    echo "–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ shadow-server-02 ($server_ip):"

    if command -v nmap &>/dev/null; then
        echo "  (–ò—Å–ø–æ–ª—å–∑—É—è nmap --top-ports 100)"
        timeout 30 nmap --top-ports 100 -T4 "$server_ip" 2>/dev/null | grep -E "^[0-9]+" || \
            echo "  (nmap –Ω–µ —É–¥–∞–ª–æ—Å—å ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è)"
    else
        # –°–∏–º—É–ª—è—Ü–∏—è
        echo "  (–°–∏–º—É–ª—è—Ü–∏—è nmap)"
        echo ""
        echo "  PORT     STATE  SERVICE"
        echo "  22/tcp   open   ssh"
        echo "  80/tcp   open   http"
        echo "  443/tcp  open   https"
        echo ""
        echo "‚úì –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ 3 –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–∞"
    fi

    echo ""
    echo "Analysis:"
    echo "  ‚úì SSH (22) ‚Äî OK (–Ω—É–∂–µ–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)"
    echo "  ‚ö† HTTP (80) ‚Äî –∑–∞—á–µ–º? –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ HTTPS"
    echo "  ‚úì HTTPS (443) ‚Äî OK (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)"
}

scan_viktor_server "10.50.1.100"
```

</details>

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è

**LILITH —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:**
> *"nmap –ø–æ–∫–∞–∑–∞–ª –ø–æ—Ä—Ç 8080 open (debug interface). –≠—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞?"*

<details>
<summary>üí° –û—Ç–≤–µ—Ç</summary>

**–î–∞, —Å–µ—Ä—å—ë–∑–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞!**

**–ü–æ—á–µ–º—É –æ–ø–∞—Å–Ω–æ:**
- –ü–æ—Ä—Ç 8080 —á–∞—Å—Ç–æ = debug/admin interface
- –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
  - –õ–æ–≥–∏ —Å –ø–∞—Ä–æ–ª—è–º–∏
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
  - API –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥

**–ï—Å–ª–∏ 8080 –æ—Ç–∫—Ä—ã—Ç:**
```bash
# –ö—Ä—ã–ª–æ–≤:
curl http://10.50.1.100:8080/admin
# –í–∏–¥–∏—Ç admin –ø–∞–Ω–µ–ª—å –±–µ–∑ –ø–∞—Ä–æ–ª—è
# –ü–æ–ª—É—á–∞–µ—Ç root –¥–æ—Å—Ç—É–ø
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ó–∞–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç** (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω)
2. **Firewall:** –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö IP
3. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å
4. **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å:** –¢–æ–ª—å–∫–æ 127.0.0.1:8080 (localhost)

> **LILITH:**
> *"–ü–æ—Ä—Ç 8080 = –ø–æ–¥–∞—Ä–æ–∫ –ö—Ä—ã–ª–æ–≤—É. Debug interfaces –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ. Firewall –∏—Ö. –ò–ª–∏ —É–¥–∞–ª–∏. Episode 07 –ø–æ–∫–∞–∂–µ—Ç –∫–∞–∫."*

</details>

---

### üéØ –ß—Ç–æ —É–∑–Ω–∞–ª–∏ –≤ –¶–∏–∫–ª–µ 6:

- ‚úÖ nmap = —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–≥–ª–∞–∑–∞–º–∏ –∞—Ç–∞–∫—É—é—â–µ–≥–æ"
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã: `nmap IP`, `nmap --top-ports 100 IP`
- ‚úÖ ‚ö†Ô∏è –ù–µ —Å–∫–∞–Ω–∏—Ä—É–π —á—É–∂–∏–µ —Å–µ—Ä–≤–µ—Ä—ã –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è!
- ‚úÖ –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã = attack surface (–º–∏–Ω–∏–º–∏–∑–∏—Ä—É–π!)

> **LILITH:**
> *"–¶–∏–∫–ª 6 –∑–∞–≤–µ—Ä—à—ë–Ω. –¢—ã –≤–∏–¥–∏—à—å —á—Ç–æ –≤–∏–¥–∏—Ç –ö—Ä—ã–ª–æ–≤. –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Äî —Ç–µ–æ—Ä–∏—è. TCP/IP –º–æ–¥–µ–ª—å. 4 —Å–ª–æ—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ = –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ç–∞–∫. –ü–æ–µ—Ö–∞–ª–∏."*

---

## üîÑ –¶–ò–ö–õ 7: TCP/IP Model ‚Äî "–ü–æ—á—Ç–æ–≤—ã–π –∫–æ–Ω–≤–µ—Ä—Ç –≤ –∫–æ–Ω–≤–µ—Ä—Ç–µ" (15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç (2 –º–∏–Ω)

–í–∏–∫—Ç–æ—Ä —Ä–∏—Å—É–µ—Ç –Ω–∞ whiteboard 4 —Å–ª–æ—è:

> **–í–∏–∫—Ç–æ—Ä:**
> *"–ú–∞–∫—Å, —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ç–µ–æ—Ä–∏—è. TCP/IP ‚Äî –æ—Å–Ω–æ–≤–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. 4 —Å–ª–æ—è. –ö–∞–∂–¥—ã–π —Å–ª–æ–π —Ä–µ—à–∞–µ—Ç —Å–≤–æ—é –∑–∞–¥–∞—á—É."*

–ê–Ω–Ω–∞:

> **–ê–Ω–Ω–∞:**
> *"–ü–æ–Ω–∏–º–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è forensics. –ö—Ä—ã–ª–æ–≤ –∞—Ç–∞–∫—É–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—è—Ö. DDoS (Layer 3). DNS spoofing (Layer 7). –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å –≥–¥–µ –∏—Å–∫–∞—Ç—å."*

> **LILITH:**
> *"TCP/IP = –ø–æ—á—Ç–æ–≤—ã–π –∫–æ–Ω–≤–µ—Ä—Ç –≤ –∫–æ–Ω–≤–µ—Ä—Ç–µ. –ü–∏—Å—å–º–æ ‚Üí –∫–æ–Ω–≤–µ—Ä—Ç ‚Üí –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ –∞–¥—Ä–µ—Å ‚Üí –ø–æ—á—Ç–∞–ª—å–æ–Ω –Ω–µ—Å—ë—Ç. 4 —Å–ª–æ—è. –ö–∞–∂–¥—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –≠—Ç–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞."*

---

### üìö –¢–µ–æ—Ä–∏—è: TCP/IP 4 –°–ª–æ—è (7-9 –º–∏–Ω)

#### **–ú–µ—Ç–∞—Ñ–æ—Ä–∞: TCP/IP = –ü–æ—á—Ç–æ–≤—ã–π –∫–æ–Ω–≤–µ—Ä—Ç** ‚úâÔ∏è

```
4. Application Layer
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  [–ü–∏—Å—å–º–æ]            ‚îÇ  ‚Üê HTTP data, —Ç–≤–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

3. Transport Layer
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  [–ü–∏—Å—å–º–æ –≤ –∫–æ–Ω–≤–µ—Ä—Ç–µ]       ‚îÇ  ‚Üê TCP header (–∫–∞–∫ –¥–æ—Å—Ç–∞–≤–∏—Ç—å)
   ‚îÇ  TCP: –Ω–∞–¥—ë–∂–Ω–æ, —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
   ‚îÇ  UDP: –±—ã—Å—Ç—Ä–æ, –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

2. Internet Layer
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  [–ù–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ –∞–¥—Ä–µ—Å]                ‚îÇ  ‚Üê IP header (–∫—É–¥–∞)
   ‚îÇ  From: 192.168.1.100                ‚îÇ
   ‚îÇ  To:   142.250.185.46               ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

1. Link Layer
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  [–ü–æ—á—Ç–∞–ª—å–æ–Ω –Ω–µ—Å—ë—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏]         ‚îÇ  ‚Üê Ethernet, Wi-Fi
   ‚îÇ  MAC –∞–¥—Ä–µ—Å–∞, –∫–∞–±–µ–ª–∏, —Ä–∞–¥–∏–æ –≤–æ–ª–Ω—ã     ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ö–∞–∂–¥—ã–π —Å–ª–æ–π –¥–æ–±–∞–≤–ª—è–µ—Ç header = –∫–æ–Ω–≤–µ—Ä—Ç –≤ –∫–æ–Ω–≤–µ—Ä—Ç–µ!**

---

#### **ASCII Diagram: 4 Layers**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    TCP/IP MODEL (4 LAYERS)                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

LAYER 4: APPLICATION        –ß–¢–û?
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
HTTP, HTTPS, SSH, FTP, DNS, SMTP
–¢–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ, —Å–æ–æ–±—â–µ–Ω–∏—è, —Ñ–∞–π–ª—ã
–ü—Ä–∏–º–µ—Ä: GET /index.html HTTP/1.1

                ‚Üì –î–æ–±–∞–≤–ª—è–µ—Ç TCP header ‚Üì

LAYER 3: TRANSPORT          –ö–ê–ö?
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
TCP (–Ω–∞–¥—ë–∂–Ω—ã–π), UDP (–±—ã—Å—Ç—Ä—ã–π)
–ü–æ—Ä—Ç—ã (22, 80, 443)
–ö–æ–Ω—Ç—Ä–æ–ª—å –æ—à–∏–±–æ–∫, –ø–æ—Ä—è–¥–æ–∫ –ø–∞–∫–µ—Ç–æ–≤

                ‚Üì –î–æ–±–∞–≤–ª—è–µ—Ç IP header ‚Üì

LAYER 2: INTERNET           –ö–£–î–ê?
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
IP (–∞–¥—Ä–µ—Å–∞—Ü–∏—è), ICMP (–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
Source IP ‚Üí Destination IP
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ä–æ—É—Ç–µ—Ä—ã

                ‚Üì –î–æ–±–∞–≤–ª—è–µ—Ç Ethernet header ‚Üì

LAYER 1: LINK               –ì–î–ï?
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Ethernet, Wi-Fi, –∫–∞–±–µ–ª–∏
MAC –∞–¥—Ä–µ—Å–∞ (—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ)
–ü–µ—Ä–µ–¥–∞—á–∞ –±–∏—Ç–æ–≤ –ø–æ –ø—Ä–æ–≤–æ–¥—É/—Ä–∞–¥–∏–æ
```

> **LILITH:**
> *"4 —Å–ª–æ—è = separation of concerns. –ö–∞–∂–¥—ã–π —Å–ª–æ–π –¥–µ–ª–∞–µ—Ç —Å–≤–æ—ë –¥–µ–ª–æ. Application –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ Ethernet. Ethernet –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ HTTP. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å = –≥–∏–±–∫–æ—Å—Ç—å."*

---

#### **TCP vs UDP:**

| | TCP | UDP |
|---|-----|-----|
| **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** | –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É | –ú–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å –ø–∞–∫–µ—Ç—ã |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ | –ë—ã—Å—Ç—Ä–µ–µ |
| **Handshake** | 3-way (SYN‚ÜíSYN-ACK‚ÜíACK) | –ù–µ—Ç |
| **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** | HTTP, SSH, FTP | DNS, –≤–∏–¥–µ–æ, –∏–≥—Ä—ã |
| **–ú–µ—Ç–∞—Ñ–æ—Ä–∞** | –ó–∞–∫–∞–∑–Ω–æ–µ –ø–∏—Å—å–º–æ (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º) | –û—Ç–∫—Ä—ã—Ç–∫–∞ (–±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π) |

**–ö–æ–≥–¥–∞ —á—Ç–æ:**
- **TCP:** –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å (—Ñ–∞–π–ª—ã, email, SSH)
- **UDP:** –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å (–≤–∏–¥–µ–æ —Å—Ç—Ä–∏–º, –æ–Ω–ª–∞–π–Ω –∏–≥—Ä—ã, DNS)

> **LILITH:**
> *"TCP = –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –¥–æ—Å—Ç–∞–≤–∏—Ç. UDP = –±—ã—Å—Ç—Ä–æ, –Ω–æ –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å. DNS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UDP (–ø–æ—Ç–µ—Ä—è–ª –æ—Ç–≤–µ—Ç? –∑–∞–ø—Ä–æ—Å–∏ —Å–Ω–æ–≤–∞ ‚Äî –±—ã—Å—Ç—Ä–æ). SSH –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TCP (–ø–æ—Ç–µ—Ä—è–ª –ø–∞–∫–µ—Ç? –≤—Å—è —Å–µ—Å—Å–∏—è —Å–ª–æ–º–∞–µ—Ç—Å—è)."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ—è (3-4 –º–∏–Ω)

#### **–ó–∞–¥–∞–Ω–∏–µ: –ö–∞–∫–æ–π —Å–ª–æ–π?**

–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –Ω–∞ –∫–∞–∫–æ–º —Å–ª–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

```
ping      ‚Üí Layer ?
ssh       ‚Üí Layer ?
ip a      ‚Üí Layer ?
nmap      ‚Üí Layer ?
traceroute ‚Üí Layer ?
```

<details>
<summary>üí° –û—Ç–≤–µ—Ç</summary>

```
ping       ‚Üí Layer 3 (ICMP = Internet Layer)
ssh        ‚Üí Layer 4 (SSH = Application Layer)
ip a       ‚Üí Layer 2 (IP addresses = Internet Layer)
nmap       ‚Üí Layers 3-4 (—Å–∫–∞–Ω–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç—ã TCP/UDP)
traceroute ‚Üí Layer 3 (ICMP Time Exceeded)
```

**–ö–ª—é—á–µ–≤–æ–π –≤—ã–≤–æ–¥:**
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—è—Ö
- –ê—Ç–∞–∫–∏ —Ç–æ–∂–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—è—Ö:
  - DDoS ‚Üí Layer 3 (IP flood)
  - Port scan ‚Üí Layer 4 (TCP SYN flood)
  - DNS spoofing ‚Üí Layer 7 (Application)

> **LILITH:**
> *"–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–ª–æ—ë–≤ = –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≥–¥–µ –∏—Å–∫–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É. Ping –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç? Layer 3 (—Å–µ—Ç—å). SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ ping OK? Layer 7 (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ). –ü–æ—Å–ª–æ–π–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞."*

</details>

---

### üéØ –ß—Ç–æ —É–∑–Ω–∞–ª–∏ –≤ –¶–∏–∫–ª–µ 7:

- ‚úÖ TCP/IP = 4 —Å–ª–æ—è (Application, Transport, Internet, Link)
- ‚úÖ –ö–∞–∂–¥—ã–π —Å–ª–æ–π –¥–æ–±–∞–≤–ª—è–µ—Ç header (–∫–æ–Ω–≤–µ—Ä—Ç –≤ –∫–æ–Ω–≤–µ—Ä—Ç–µ)
- ‚úÖ TCP = –Ω–∞–¥—ë–∂–Ω—ã–π, UDP = –±—ã—Å—Ç—Ä—ã–π
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ = –ø–æ—Å–ª–æ–π–Ω–∞—è (ping‚ÜíLayer3, ssh‚ÜíLayer7)

> **LILITH:**
> *"–¶–∏–∫–ª 7 –∑–∞–≤–µ—Ä—à—ë–Ω. –¢–µ–æ—Ä–∏—è –æ—Å–≤–æ–µ–Ω–∞. –ü—Ä–∞–∫—Ç–∏–∫–∞ –≤–ø–µ—Ä–µ–¥–∏. –°–ª–µ–¥—É—é—â–∏–π —Ü–∏–∫–ª ‚Äî —Ñ–∏–Ω–∞–ª. –°–æ–±–µ—Ä–∏ –≤—Å—ë –≤ –æ–¥–∏–Ω bash —Å–∫—Ä–∏–ø—Ç. Network Audit. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚Äî —Å–∏–ª–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ü–æ–µ—Ö–∞–ª–∏."*

---

## üîÑ –¶–ò–ö–õ 8: Network Audit Script ‚Äî "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è workflow" (30-40 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç (3 –º–∏–Ω)

–í–∏–∫—Ç–æ—Ä —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —á–∞—Å—ã ‚Äî 17:00. –ü—Ä–æ—à–ª–æ 3 —á–∞—Å–∞ —Å –Ω–∞—á–∞–ª–∞ –º–∏—Å—Å–∏–∏.

> **–í–∏–∫—Ç–æ—Ä:**
> *"–ú–∞–∫—Å, —Å–æ–±–µ—Ä–∏ –≤—Å—ë –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç. Network audit —Å–∫—Ä–∏–ø—Ç. IP, ping, DNS, traceroute, –ø–æ—Ä—Ç—ã, nmap, routing. –í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ."*

–ê–ª–µ–∫—Å:

> **–ê–ª–µ–∫—Å:**
> *"–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—à—å –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö 50 —Å–µ—Ä–≤–µ—Ä–∞—Ö. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è = –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å. –í—Ä—É—á–Ω—É—é 50 —Ä–∞–∑ ‚Äî –Ω–µ—Ä–µ–∞–ª—å–Ω–æ."*

–ê–Ω–Ω–∞:

> **–ê–Ω–Ω–∞:**
> *"–ò –ª–æ–≥–∏—Ä—É–π –≤—Å—ë. –ï—Å–ª–∏ –ö—Ä—ã–ª–æ–≤ –∞—Ç–∞–∫—É–µ—Ç –∑–∞–≤—Ç—Ä–∞ ‚Äî —É –Ω–∞—Å –±—É–¥–µ—Ç baseline –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è. Forensics 101."*

> **LILITH:**
> *"Bash –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –ù–ï –∑–∞–º–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –ü–æ–º–Ω–∏—à—å Episode 04? apt exists ‚Äî use it. –ó–¥–µ—Å—å —Ç–æ –∂–µ: –∏—Å–ø–æ–ª—å–∑—É–π ip, ping, nmap. Bash –∏—Ö –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç. –≠—Ç–æ Type A –ø–æ–¥—Ö–æ–¥ ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–ª—è network audit."*

---

### üìö –¢–µ–æ—Ä–∏—è: Bash Automation Philosophy (5 –º–∏–Ω)

#### **Type A vs Type B ‚Äî Why Episode 05 is Type A**

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É Episode 04 = Type B (no bash wrapper), –Ω–æ Episode 05 = Type A (bash script OK)?

**–û—Ç–≤–µ—Ç:**

| Episode | –¢–∏–ø | –ü–æ—á–µ–º—É |
|---------|-----|--------|
| **Episode 04** | Type B | apt —É–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–∞–∫–µ—Ç–æ–≤. Bash wrapper = –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ apt (–ø–ª–æ—Ö–æ) |
| **Episode 05** | Type A | Network audit —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ (ip, ping, ss, nmap). Bash —Å–∫—Ä–∏–ø—Ç = workflow automation (—Ö–æ—Ä–æ—à–æ) |

> **LILITH:**
> *"Bash = –∫–ª–µ–π –º–µ–∂–¥—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏. –ù–ï –∑–∞–º–µ–Ω—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. Episode 05: bash –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç ip, ping, nmap ‚Üí audit report. Episode 04: apt —É–∂–µ –¥–µ–ª–∞–µ—Ç –≤—Å—ë ‚Üí bash wrapper –Ω–µ –Ω—É–∂–µ–Ω. –†–∞–∑–Ω–∏—Ü–∞."*

---

#### **–ß—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –Ω–∞—à —Å–∫—Ä–∏–ø—Ç:**

```bash
#!/bin/bash
# network_audit.sh

# 1. get_workstation_ip()      ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 1
# 2. get_viktor_server_ip()    ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 3
# 3. backup_hosts()            ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 3 (NEW!)
# 4. check_availability()      ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 2
# 5. capture_ping_packets()    ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 2 (tcpdump, NEW!)
# 6. simulate_traceroute()     ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 4
# 7. check_local_ports()       ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 5
# 8. scan_viktor_server()      ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 6
# 9. show_routing_table()      ‚Üê –∏–∑ –¶–∏–∫–ª–∞ 4
# 10. generate_report()        ‚Üê —Ñ–∏–Ω–∞–ª, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –≤—Å—ë
```

**10 —Ñ—É–Ω–∫—Ü–∏–π** = –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è 7 —Ü–∏–∫–ª–æ–≤ –æ–±—É—á–µ–Ω–∏—è.

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: –°–æ–∑–¥–∞–Ω–∏–µ network_audit.sh (25-35 –º–∏–Ω)

#### **–®–∞–≥ 1: –ù–∞—á–∞—Ç—å —Å starter.sh**

```bash
cd ~/kernel-shadows/season-2-networking/episode-05-tcp-ip-fundamentals

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω
cp starter.sh network_audit.sh
chmod +x network_audit.sh

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
nano network_audit.sh
```

#### **–®–∞–≥ 2: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫—Ä–∏–ø—Ç–∞**

```bash
#!/bin/bash
set -e  # Exit on error

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

###############################################################################
# 10 –§–£–ù–ö–¶–ò–ô (–∏–∑ 7 —Ü–∏–∫–ª–æ–≤)
###############################################################################

# ... (–≤–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–¥–µ—Å—å)

###############################################################################
# MAIN FUNCTION
###############################################################################

main() {
    echo "Network Audit –Ω–∞—á–∞—Ç..."

    # 1. Workstation IP
    WORKSTATION_IP=$(get_workstation_ip)

    # 2. Viktor Server IP
    VIKTOR_IP=$(get_viktor_server_ip)

    # 3. Backup /etc/hosts
    backup_hosts

    # 4-9. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    # ...

    # 10. Generate report
    generate_report "$WORKSTATION_IP" "$VIKTOR_IP"

    echo "‚úì –ê—É–¥–∏—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!"
}

main "$@"
```

---

#### **–®–∞–≥ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π**

**–í–æ–∑—å–º–∏—Ç–µ –∫–æ–¥ –∏–∑ —Ä–µ—à–µ–Ω–∏–π –¶–∏–∫–ª–æ–≤ 1-7 –∏ —Å–æ–µ–¥–∏–Ω–∏—Ç–µ –≤ –æ–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç.**

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ</summary>

**–°–º–æ—Ç—Ä–∏—Ç–µ:**
```bash
cat solution/network_audit.sh
```

**–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
./solution/network_audit.sh
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- 10 —Ñ—É–Ω–∫—Ü–∏–π (–∫–∞–∂–¥–∞—è –∏–∑ —Å–≤–æ–µ–≥–æ —Ü–∏–∫–ª–∞)
- Graceful failure (–µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Äî fallback)
- –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ (—Ü–≤–µ—Ç–∞, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç (`artifacts/network_report.txt`)

</details>

---

### üéØ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∫—Ä–∏–ø—Ç—É:

- ‚úÖ **Shebang:** `#!/bin/bash`
- ‚úÖ **Error handling:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∞–Ω–¥, fallback'—ã
- ‚úÖ **–§—É–Ω–∫—Ü–∏–∏:** 10 —Ñ—É–Ω–∫—Ü–∏–π (–º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å)
- ‚úÖ **–ö–∞–≤—ã—á–∫–∏:** `"$variable"` –≤—Å–µ–≥–¥–∞
- ‚úÖ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:** –û–±—ä—è—Å–Ω—è—é—Ç –ª–æ–≥–∏–∫—É
- ‚úÖ **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:** `hosts.backup`, `ping_capture.pcap`, `network_report.txt`
- ‚úÖ **Permissions:** `chmod +x network_audit.sh`

---

### ü§î –§–∏–Ω–∞–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å (–ø—Ä–æ–≤–µ—Ä–∫–∞ Type A –ø–æ–Ω–∏–º–∞–Ω–∏—è)

**LILITH —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:**

> *"–ü–æ—á–µ–º—É Episode 05 = Type A (bash script OK), –∞ Episode 04 = Type B (no bash wrapper)? –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏?"*

<details>
<summary>üí° –û—Ç–≤–µ—Ç</summary>

**–ö–ª—é—á–µ–≤–∞—è —Ä–∞–∑–Ω–∏—Ü–∞: –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ vs –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**

**Episode 04 (Type B):**
```bash
# ‚ùå –ü–ª–æ—Ö–æ (–±—ã–ª–æ "–¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞"):
# Bash wrapper –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç apt:
./install_toolkit.sh
  ‚îú‚îÄ check_dependencies() # apt —É–∂–µ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ!
  ‚îú‚îÄ install_package()    # apt install —É–∂–µ –µ—Å—Ç—å!
  ‚îî‚îÄ verify_install()     # dpkg -l —É–∂–µ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ!

# ‚úÖ –•–æ—Ä–æ—à–æ (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞):
# –ò—Å–ø–æ–ª—å–∑—É–π apt –Ω–∞–ø—Ä—è–º—É—é:
apt install nmap tcpdump wireshark
```

**Episode 05 (Type A):**
```bash
# ‚úÖ –•–æ—Ä–æ—à–æ:
# Bash –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
./network_audit.sh
  ‚îú‚îÄ ip a              # –ù–µ—Ç –æ–¥–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è network audit
  ‚îú‚îÄ ping              # –ù—É–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã
  ‚îú‚îÄ ss -tuln          # Bash = –∫–ª–µ–π –º–µ–∂–¥—É –Ω–∏–º–∏
  ‚îú‚îÄ nmap              # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç unified –æ—Ç—á—ë—Ç
  ‚îî‚îÄ generate_report   # Bash automation appropriate
```

**–§–∏–ª–æ—Å–æ—Ñ–∏—è:**

| –°–∏—Ç—É–∞—Ü–∏—è | –ü–æ–¥—Ö–æ–¥ | –ü—Ä–∏–º–µ—Ä |
|----------|--------|--------|
| **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** | Type B: –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ | apt, systemd, cron |
| **–ù—É–∂–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è** | Type A: bash automation | network audit, log parsing, monitoring |

**–ü—Ä–∞–≤–∏–ª–æ:**
> **"–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π workflow, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"**

> **LILITH:**
> *"Episode 04: apt exists –¥–ª—è package management ‚Üí bash wrapper = –ø–ª–æ—Ö–æ. Episode 05: –Ω–µ—Ç –æ–¥–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è network audit ‚Üí bash –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç tools = —Ö–æ—Ä–æ—à–æ. Type A vs Type B = –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–µ –¥–æ–≥–º–∞."*

</details>

---

### üéØ –ß—Ç–æ —É–∑–Ω–∞–ª–∏ –≤ –¶–∏–∫–ª–µ 8:

- ‚úÖ Bash automation –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ Type A (automation) vs Type B (use tools) = –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ‚úÖ 10 —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ 7 —Ü–∏–∫–ª–æ–≤ ‚Üí unified script
- ‚úÖ Artifacts: hosts.backup, ping_capture.pcap, network_report.txt
- ‚úÖ Graceful failure, error handling, –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å

---

## üìÖ –î–µ–Ω—å 9 (18:00): –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏—Å—Å–∏–∏

### –¶–û–î "–ú–æ—Å–∫–≤–∞-1" ‚Äî –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ

–ú–∞–∫—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç. –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞. `./network_audit.sh` ‚Üí Enter.

–≠–∫—Ä–∞–Ω –≤—ã–≤–æ–¥–∏—Ç –æ—Ç—á—ë—Ç. –ö–æ–º–∞–Ω–¥–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤–æ–∫—Ä—É–≥ –º–æ–Ω–∏—Ç–æ—Ä–æ–≤.

> **–í–∏–∫—Ç–æ—Ä:**
> *"–û—Ç–ª–∏—á–Ω–æ, –ú–∞–∫—Å. –¢—ã –ø–æ–Ω—è–ª –æ—Å–Ω–æ–≤—ã. –¢–µ–ø–µ—Ä—å –º—ã –∑–Ω–∞–µ–º –Ω–∞—à—É —Å–µ—Ç—å."*

> **–ê–Ω–Ω–∞:**
> *"Baseline —Å–æ–∑–¥–∞–Ω. –ï—Å–ª–∏ –ö—Ä—ã–ª–æ–≤ –∞—Ç–∞–∫—É–µ—Ç –∑–∞–≤—Ç—Ä–∞ ‚Äî —É–≤–∏–¥–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è. Forensics –≥–æ—Ç–æ–≤–∞."*

> **–î–º–∏—Ç—Ä–∏–π:**
> *"–°–∫—Ä–∏–ø—Ç —É–∂–µ –∑–∞–¥–µ–ø–ª–æ–∏–ª –Ω–∞ 15 —Å–µ—Ä–≤–µ—Ä–æ–≤. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π audit –∫–∞–∂–¥—ã–π —á–∞—Å. –ö—Ä–∞—Å–æ—Ç–∞!"*

–ê–ª–µ–∫—Å –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ –ú–∞–∫—Å—É:

> **–ê–ª–µ–∫—Å:**
> *"–ù–µ–ø–ª–æ—Ö–æ, –ú–∞–∫—Å. TCP/IP –æ—Å–≤–æ–∏–ª. –ù–æ —ç—Ç–æ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ. –ö—Ä—ã–ª–æ–≤ –∞—Ç–∞–∫—É–µ—Ç —á–µ—Ä–µ–∑ DNS. –°–ª–µ–¥—É—é—â–∏–π —ç–ø–∏–∑–æ–¥ ‚Äî DNS & Name Resolution. –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∫–∞–∫ –æ–Ω –ø–æ–¥–º–µ–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç—ã."*

Max: *"DNS spoofing... Cycle 3 —É–ø–æ–º–∏–Ω–∞–ª. –ì–æ—Ç–æ–≤."*

> **–í–∏–∫—Ç–æ—Ä:**
> *"–ó–∞–≤—Ç—Ä–∞ –ª–µ—Ç–∏—à—å –≤ –°—Ç–æ–∫–≥–æ–ª—å–º. Erik Johansson –≤—Å—Ç—Ä–µ—Ç–∏—Ç. Bahnhof Pionen datacenter ‚Äî —è–¥–µ—Ä–Ω—ã–π –±—É–Ω–∫–µ—Ä. –¢–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ —á–µ–º –∑–¥–µ—Å—å."*

Max: *"–°—Ç–æ–∫–≥–æ–ª—å–º? –Ø –Ω–∏ —Ä–∞–∑—É –Ω–µ –±—ã–ª –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π..."*

> **–í–∏–∫—Ç–æ—Ä:**
> *"–ë—É–¥–µ—à—å. –ë–∏–ª–µ—Ç –Ω–∞ —É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–µ–π—Å. –û–ø–µ—Ä–∞—Ü–∏—è global, Max. –ü—Ä–∏–≤—ã–∫–∞–π."*

> **LILITH (—ç–∫—Ä–∞–Ω –º–∏–≥–∞–µ—Ç):**
> ```
> ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
> ‚îÇ  –ú–ò–°–°–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê ‚úì                                          ‚îÇ
> ‚îÇ                                                               ‚îÇ
> ‚îÇ  TCP/IP Fundamentals ‚Äî –æ—Å–≤–æ–µ–Ω–æ                               ‚îÇ
> ‚îÇ  Network Audit ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω                             ‚îÇ
> ‚îÇ                                                               ‚îÇ
> ‚îÇ  –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –±—ã–ª —Ä–∞–∑–º–∏–Ω–∫–æ–π.                                   ‚îÇ
> ‚îÇ  –ú–æ—Å–∫–≤–∞ ‚Äî –ø–µ—Ä–≤—ã–π –±–æ–π.                                         ‚îÇ
> ‚îÇ  –°—Ç–æ–∫–≥–æ–ª—å–º ‚Äî —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å.                               ‚îÇ
> ‚îÇ                                                               ‚îÇ
> ‚îÇ  –ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é.                          ‚îÇ
> ‚îÇ  –¢—ã –Ω–∞—É—á–∏–ª—Å—è —Å–ª—É—à–∞—Ç—å.                                         ‚îÇ
> ‚îÇ                                                               ‚îÇ
> ‚îÇ  Next: Episode 06 ‚Äî DNS & Name Resolution                    ‚îÇ
> ‚îÇ  Location: Stockholm, Sweden üá∏üá™                             ‚îÇ
> ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
> ```

---

## üìö –ß—Ç–æ –≤—ã –∏–∑—É—á–∏–ª–∏

### –ö–æ–º–∞–Ω–¥—ã (–ø—Ä–∞–∫—Ç–∏–∫–∞):
- ‚úÖ `ip a` ‚Äî IP –∞–¥—Ä–µ—Å
- ‚úÖ `ping -c 4` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- ‚úÖ `tcpdump -i any icmp` ‚Äî –∑–∞—Ö–≤–∞—Ç –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ `host`, `dig`, `nslookup` ‚Äî DNS lookup
- ‚úÖ `tracepath`, `traceroute` ‚Äî –º–∞—Ä—à—Ä—É—Ç
- ‚úÖ `ss -tuln`, `netstat -tuln` ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã
- ‚úÖ `nmap --top-ports 100` ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `ip route` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `/etc/hosts` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–π DNS (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç!)
- ‚úÖ `/etc/resolv.conf` ‚Äî DNS —Å–µ—Ä–≤–µ—Ä—ã

### –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ (—Ç–µ–æ—Ä–∏—è):
- ‚úÖ TCP/IP –º–æ–¥–µ–ª—å (4 —Å–ª–æ—è)
- ‚úÖ IP –∞–¥—Ä–µ—Å–∞ (IPv4, private vs public, loopback)
- ‚úÖ DNS (—Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)
- ‚úÖ DNS spoofing (–∞—Ç–∞–∫–∞ –ö—Ä—ã–ª–æ–≤–∞)
- ‚úÖ ICMP (ping, traceroute)
- ‚úÖ –ü–æ—Ä—Ç—ã (22=SSH, 80=HTTP, 443=HTTPS)
- ‚úÖ TCP vs UDP (–Ω–∞–¥—ë–∂–Ω—ã–π vs –±—ã—Å—Ç—Ä—ã–π)
- ‚úÖ Routing (default gateway, routing table)
- ‚úÖ nmap (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤)
- ‚úÖ Type A vs Type B automation philosophy

### –ù–∞–≤—ã–∫–∏ (—É–º–µ–Ω–∏—è):
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏ (ping, traceroute)
- ‚úÖ –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã, nmap)
- ‚úÖ DNS configuration (/etc/hosts, resolv.conf)
- ‚úÖ Network mapping (IP, routes, services)
- ‚úÖ Bash automation (network_audit.sh)
- ‚úÖ Packet capture (tcpdump basics)

### Security (–≤–∞–∂–Ω–æ):
- ‚úÖ DNS spoofing –∑–∞—â–∏—Ç–∞ (DNSSEC, Episode 06)
- ‚úÖ HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (–∑–∞—â–∏—Ç–∞ –æ—Ç MITM)
- ‚úÖ tcpdump –≤–∏–¥–∏—Ç –≤—Å—ë –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ
- ‚úÖ 0.0.0.0 vs 127.0.0.1 (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤)
- ‚úÖ –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è attack surface (–∑–∞–∫—Ä—ã—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–æ—Ä—Ç—ã)

---

## üìä –°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–≤–µ—Ç—å –Ω–∞ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –ø–æ–¥–≥–ª—è–¥—ã–≤–∞–Ω–∏—è:

1. **–ß—Ç–æ —Ç–∞–∫–æ–µ IP –∞–¥—Ä–µ—Å –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?**
2. **–í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É TCP –∏ UDP?**
3. **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ `ss -tuln`?**
4. **–ó–∞—á–µ–º –Ω—É–∂–µ–Ω traceroute?**
5. **–ß—Ç–æ —Ç–∞–∫–æ–µ default gateway?**
6. **–ö–∞–∫–∏–µ –ø–æ—Ä—Ç—ã —Å—á–∏—Ç–∞—é—Ç—Å—è well-known?**
7. **–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 127.0.0.1?**
8. **–ü–æ—á–µ–º—É `/etc/hosts` –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ DNS?**
9. **–í —á—ë–º –æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤?**
10. **–ü–æ—á–µ–º—É Episode 05 = Type A, –∞ Episode 04 = Type B?**

<details>
<summary>‚úÖ –û—Ç–≤–µ—Ç—ã</summary>

1. IP –∞–¥—Ä–µ—Å ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–µ—Ç–∏ (–∫–∞–∫ –∞–¥—Ä–µ—Å –¥–æ–º–∞)
2. TCP ‚Äî –Ω–∞–¥—ë–∂–Ω—ã–π, connection-oriented; UDP ‚Äî –±—ã—Å—Ç—Ä—ã–π, connectionless
3. –í—Å–µ TCP/UDP —Å–ª—É—à–∞—é—â–∏–µ –ø–æ—Ä—Ç—ã –≤ —á–∏—Å–ª–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç (—á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ —Ä–æ—É—Ç–µ—Ä—ã) –¥–æ —Ü–µ–ª–µ–≤–æ–≥–æ —Ö–æ—Å—Ç–∞
5. –†–æ—É—Ç–µ—Ä, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –∏–¥—ë—Ç –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
6. –ü–æ—Ä—Ç—ã 0-1023 (SSH=22, HTTP=80, HTTPS=443)
7. Loopback –∞–¥—Ä–µ—Å (localhost) ‚Äî –∫–æ–º–ø—å—é—Ç–µ—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–∞–º–æ–º—É —Å–µ–±–µ
8. Linux –ø—Ä–æ–≤–µ—Ä—è–µ—Ç /etc/hosts –ü–ï–†–í–´–ú –ø–µ—Ä–µ–¥ DNS –∑–∞–ø—Ä–æ—Å–æ–º (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ)
9. –ö–∞–∂–¥—ã–π –æ—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç = –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∞—Ç–∞–∫–∏
10. Episode 04: apt exists (Type B = use tool). Episode 05: network audit –Ω—É–∂–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ (Type A = bash automation OK)

</details>

---

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ó–∞–ø—É—Å—Ç–∏ –∞–≤—Ç–æ—Ç–µ—Å—Ç:

```bash
cd ~/kernel-shadows/season-2-networking/episode-05-tcp-ip-fundamentals
./tests/test.sh
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—Ç:
- ‚úì –°–æ–∑–¥–∞–Ω –ª–∏ —Å–∫—Ä–∏–ø—Ç `network_audit.sh`
- ‚úì –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π –ª–∏ –æ–Ω (`chmod +x`)
- ‚úì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ –∫–æ–º–∞–Ω–¥—ã `ip`, `ping`, `ss`/`netstat`
- ‚úì –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ª–∏ –æ—Ç—á—ë—Ç `artifacts/network_report.txt`
- ‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç—á—ë—Ç–∞

---

## üéØ –°–ª–µ–¥—É—é—â–∏–π —ç–ø–∏–∑–æ–¥

**Episode 06: DNS & Name Resolution**

**–õ–æ–∫–∞—Ü–∏—è:** üá∏üá™ –°—Ç–æ–∫–≥–æ–ª—å–º, –®–≤–µ—Ü–∏—è (Bahnhof Pionen Datacenter ‚Äî —è–¥–µ—Ä–Ω—ã–π –±—É–Ω–∫–µ—Ä 30–º –ø–æ–¥ –∑–µ–º–ª—ë–π)

**–ü–µ—Ä—Å–æ–Ω–∞–∂–∏:** Erik Johansson (network engineer), Katarina Lindstr√∂m (cryptography expert)

**–ú–∏—Å—Å–∏—è:** –ü–æ–Ω—è—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç DNS. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –û–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å DNS spoofing –∞—Ç–∞–∫—É –æ—Ç –ö—Ä—ã–ª–æ–≤–∞.

**–ß—Ç–æ –∏–∑—É—á–∏–º:**
- –î–µ—Ç–∞–ª—å–Ω—ã–π DNS (A, AAAA, CNAME, MX, TXT –∑–∞–ø–∏—Å–∏)
- dig, nslookup –¥–µ—Ç–∞–ª—å–Ω–æ
- DNS cache poisoning (–∞—Ç–∞–∫–∞ –ö—Ä—ã–ª–æ–≤–∞)
- DNSSEC (–∑–∞—â–∏—Ç–∞ –æ—Ç spoofing)
- DNS over TLS (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ DNS)

> **LILITH:**
> *"TCP/IP —Ç—ã –æ—Å–≤–æ–∏–ª. –ù–æ –ø–∞–∫–µ—Ç—ã –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã –µ—Å–ª–∏ —Ç—ã –Ω–µ –∑–Ω–∞–µ—à—å –∫—É–¥–∞ –∏—Ö –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å. DNS ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ö—Ä—ã–ª–æ–≤ —ç—Ç–æ –∑–Ω–∞–µ—Ç. –ò —ç–∫—Å–ø–ª—É–∞—Ç–∏—Ä—É–µ—Ç. –°–ª–µ–¥—É—é—â–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ ‚Äî –°—Ç–æ–∫–≥–æ–ª—å–º. –•–æ–ª–æ–¥–Ω—ã–π, —Å–µ–≤–µ—Ä–Ω—ã–π, –ø–∞—Ä–∞–Ω–æ–∏–¥–∞–ª—å–Ω—ã–π. –ö–∞–∫ —Ä–∞–∑ –¥–ª—è –Ω–∞—Å."*

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### Man Pages
```bash
man ip
man ping
man traceroute
man netstat
man ss
man nmap
man tcpdump
```

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- [IPvFoo](https://github.com/pmarks-net/ipvfoo) ‚Äî IPv4/IPv6 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
- [IPInfo.io](https://ipinfo.io/) ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± IP –∞–¥—Ä–µ—Å–∞—Ö
- [Wireshark](https://www.wireshark.org/) ‚Äî –∞–Ω–∞–ª–∏–∑ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ (GUI)
- [TCP/IP Illustrated](https://en.wikipedia.org/wiki/TCP/IP_Illustrated) ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–Ω–∏–≥–∞

### –ü—Ä–∞–∫—Ç–∏–∫–∞
- –ü—Ä–æ—Å–∫–∞–Ω–∏—Ä—É–π —Å–≤–æ—é –¥–æ–º–∞—à–Ω—é—é —Å–µ—Ç—å: `nmap 192.168.1.0/24` (—Ç–æ–ª—å–∫–æ —Å–≤–æ—é!)
- –ù–∞–π–¥–∏ —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π IP: `curl ifconfig.me`
- –ü—Ä–æ–≤–µ—Ä—å traceroute –¥–æ –ª—é–±–∏–º–æ–≥–æ —Å–∞–π—Ç–∞
- –ò–∑—É—á–∏ Wireshark (GUI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∞–∫–µ—Ç–æ–≤)
- –ü—Ä–æ–≤–µ—Ä—å /etc/hosts —Ä–µ–≥—É–ª—è—Ä–Ω–æ (security!)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ lab —Å—Ä–µ–¥—ã
–î–ª—è –≥–ª—É–±–æ–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ –º–æ–∂–µ—à—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å–µ—Ç—å:
```bash
# VirtualBox + –Ω–µ—Å–∫–æ–ª—å–∫–æ Ubuntu VM
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å internal network
# –ü—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –≤ routing, firewall, DNS
```

---

<div align="center">

**OPERATION KERNEL SHADOWS**
*Episode 05 ‚Äî TCP/IP Fundamentals*

*"–ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é. –ù–∞—É—á–∏—Å—å —Å–ª—É—à–∞—Ç—å."* ‚Äî LILITH

**[‚Üê Season 2](../README.md) | [Episode 06 ‚Üí](../episode-06-dns-name-resolution/README.md)**

</div>

