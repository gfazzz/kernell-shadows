# KERNEL SHADOWS: Episode 06 — DNS Configuration
# /etc/resolv.conf — DNS resolver configuration
# Stockholm, Sweden (Bahnhof Pionen)
#
# ⚠️ На Ubuntu 22.04+ этот файл может управляться systemd-resolved
# Проверь: ls -la /etc/resolv.conf
# Если это симлинк → используй systemd-resolved (см. systemd-resolved.conf)

# Primary DNS server (Cloudflare DNS)
nameserver 1.1.1.1

# Secondary DNS server (Google DNS)
nameserver 8.8.8.8

# Tertiary DNS server (Quad9 DNS)
nameserver 9.9.9.9

# Search domain (optional, для коротких имён)
# search operation-shadow.net

# Options
options timeout:2
options attempts:3
options rotate
options edns0

# ============================================================================
# DNS Configuration Notes (Erik's wisdom):
#
# nameserver:
#   - Maximum 3 nameservers
#   - Tried in order (unless 'rotate' option)
#   - IP addresses only, not hostnames
#
# search:
#   - Append to unqualified hostnames
#   - Example: "ping server" → "ping server.operation-shadow.net"
#   - Max 6 domains, 256 chars total
#
# options:
#   - timeout: seconds before trying next nameserver (default 5)
#   - attempts: how many times to query (default 2)
#   - rotate: round-robin nameservers
#   - edns0: enable EDNS0 (required for DNSSEC)
#
# Privacy-focused DNS providers:
#   1.1.1.1      Cloudflare (fast, privacy-first)
#   8.8.8.8      Google (fast, но логирует)
#   9.9.9.9      Quad9 (блокирует malware)
#   208.67.222.222  OpenDNS (filtering)
#
# ============================================================================
# Testing DNS configuration:
#
# dig @1.1.1.1 google.com     # Test specific nameserver
# nslookup google.com         # Alternative tool
# resolvectl status           # systemd-resolved status
# resolvectl query google.com # Query через systemd-resolved
#
# ============================================================================
# Erik: "DNS is internet's phonebook. Choose your provider carefully.
#        Privacy matters. Cloudflare doesn't log. Google does."
# ============================================================================

