<?php
// УЯЗВИМОЕ ПРИЛОЖЕНИЕ - ТОЛЬКО ДЛЯ ОБУЧЕНИЯ!
// НЕ ИСПОЛЬЗУЙТЕ В PRODUCTION!

session_start();
?>
<!DOCTYPE html>
<html>
<head>
    <title>Vulnerable Web App - Episode 18</title>
    <style>
        body { font-family: Arial; max-width: 800px; margin: 50px auto; padding: 20px; }
        .warning { background: #ff0000; color: white; padding: 15px; margin-bottom: 20px; }
        .panel { background: #f0f0f0; padding: 20px; margin: 20px 0; }
        input, textarea { width: 100%; padding: 8px; margin: 5px 0; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <div class="warning">
        <h2>⚠️ УЯЗВИМОЕ ПРИЛОЖЕНИЕ</h2>
        <p>Это приложение НАМЕРЕННО уязвимо для обучения pentesting. НЕ используйте на реальных серверах!</p>
    </div>

    <h1>Welcome to Vulnerable App</h1>
    <p>Цели: найти и эксплуатировать 5 уязвимостей</p>

    <!-- SQL Injection vulnerability -->
    <div class="panel">
        <h2>1. Login (SQL Injection)</h2>
        <form method="POST" action="login.php">
            <input type="text" name="username" placeholder="Username" required>
            <input type="password" name="password" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
        <p><small>Hint: Try SQL injection payloads</small></p>
    </div>

    <!-- Command Injection vulnerability -->
    <div class="panel">
        <h2>2. Ping Tool (Command Injection)</h2>
        <form method="POST" action="ping.php">
            <input type="text" name="ip" placeholder="IP address" required>
            <button type="submit">Ping</button>
        </form>
        <p><small>Hint: What if IP contains shell commands?</small></p>
    </div>

    <!-- File Upload vulnerability -->
    <div class="panel">
        <h2>3. File Upload (RCE)</h2>
        <form method="POST" action="upload.php" enctype="multipart/form-data">
            <input type="file" name="file" required>
            <button type="submit">Upload</button>
        </form>
        <p><small>Hint: Try uploading PHP files</small></p>
    </div>

    <!-- XSS vulnerability -->
    <div class="panel">
        <h2>4. Comments (XSS)</h2>
        <form method="POST" action="comment.php">
            <textarea name="comment" placeholder="Your comment" required></textarea>
            <button type="submit">Post Comment</button>
        </form>
        <p><small>Hint: HTML/JavaScript injection possible</small></p>
    </div>

    <div class="panel">
        <h2>5. Weak Credentials</h2>
        <p>Default admin credentials: admin:admin123</p>
        <p><small>Hint: Use hydra or manual brute-force</small></p>
    </div>

    <hr>
    <p><strong>Алекс Соколов:</strong> <em>"Каждая форма — потенциальная уязвимость. Тестируй всё."</em></p>
</body>
</html>
