# Starter Files â€” Episode 20: Security Hardening

## ğŸ“ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ

Ğ­Ñ‚Ğ° Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ **ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¹** Ğ´Ğ»Ñ hardening.

**Ğ¤Ğ°Ğ¹Ğ»Ñ‹:**
- `apparmor/` â€” AppArmor profile templates
- `sysctl-hardening.conf.example` â€” kernel Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
- `service-configs/` â€” hardened service configs (SSH, Apache)
- `ansible/` â€” Ansible playbook skeleton Ğ´Ğ»Ñ automation

## ğŸš€ ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ

### 1. AppArmor Profiles

```bash
# Copy template
sudo cp apparmor/usr.sbin.apache2 /etc/apparmor.d/

# Load profile
sudo apparmor_parser -r /etc/apparmor.d/usr.sbin.apache2

# Verify
sudo aa-status
```

### 2. Kernel Hardening (sysctl)

```bash
# Copy and edit
sudo cp sysctl-hardening.conf.example /etc/sysctl.d/99-hardening.conf

# Apply
sudo sysctl -p /etc/sysctl.d/99-hardening.conf

# Verify
sysctl -a | grep -E "ipv4.ip_forward|kernel.randomize"
```

### 3. Service Configs

```bash
# SSH hardening
sudo cp service-configs/sshd_config.hardened /etc/ssh/sshd_config
sudo systemctl restart sshd

# Apache hardening (if applicable)
sudo cp service-configs/apache2.conf /etc/apache2/apache2.conf
```

### 4. Ansible Automation

```bash
cd ansible/

# Edit playbook
nano hardening-playbook.yml

# Run (after configuration)
ansible-playbook -i inventory.ini hardening-playbook.yml
```

---

## ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ

**Ğ­Ñ‚Ğ¾ ĞĞ• bash scripting episode!**

Episode 20 â€” configuration Ğ¸ hardening Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹. Ğ’Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚Ğµ Ñ configs, ĞĞ• Ñ bash.

**Deliverables:**
- Hardened configs
- AppArmor profiles
- Ansible playbook
- Hardening report

---

> **Dr. Bauer:** *"Hardening â€” ÑÑ‚Ğ¾ process, Ğ½Ğµ one-time task. Every parameter matters."*
