# ELK Stack Configuration ‚Äî Episode 19

## üì¶ ELK Stack (Elasticsearch, Logstash, Kibana)

**Centralized logging** –¥–ª—è incident response –∏ SIEM.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Elasticsearch

```bash
# Add Elastic repo
wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo gpg --dearmor -o /usr/share/keyrings/elasticsearch-keyring.gpg
echo "deb [signed-by=/usr/share/keyrings/elasticsearch-keyring.gpg] https://artifacts.elastic.co/packages/8.x/apt stable main" | sudo tee /etc/apt/sources.list.d/elastic-8.x.list

# Install
sudo apt update
sudo apt install elasticsearch

# Configure
sudo cp elasticsearch.yml /etc/elasticsearch/elasticsearch.yml

# Start
sudo systemctl enable elasticsearch
sudo systemctl start elasticsearch

# Test
curl http://localhost:9200
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Logstash

```bash
sudo apt install logstash

# Configure pipeline
sudo cp logstash-syslog.conf /etc/logstash/conf.d/

# Start
sudo systemctl enable logstash
sudo systemctl start logstash
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Kibana

```bash
sudo apt install kibana

# Configure
sudo cp kibana.yml /etc/kibana/kibana.yml

# Start
sudo systemctl enable kibana
sudo systemctl start kibana

# Access
firefox http://localhost:5601
```

---

## üìÅ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**elasticsearch.yml** ‚Äî Elasticsearch settings  
**logstash-syslog.conf** ‚Äî Logstash pipeline –¥–ª—è syslog  
**kibana.yml** ‚Äî Kibana dashboard settings

---

## üîç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤ –≤ ELK

```bash
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ rsyslog –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Logstash
echo "*.* @@localhost:5000" | sudo tee -a /etc/rsyslog.conf
sudo systemctl restart rsyslog
```

### –ü–æ–∏—Å–∫ –≤ Kibana

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5601
2. **Discover** ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
3. **Dashboard** ‚Üí –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
4. **Query:** –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

**–ü—Ä–∏–º–µ—Ä—ã queries:**
```
source.ip: "185.220.101.47"
message: "failed" OR message: "error"
@timestamp: [now-24h TO now]
```

---

## üéØ –î–ª—è Episode 19

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ELK –¥–ª—è:
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∞—Ç–∞–∫–∏
- Timeline visualization
- Pattern detection
- Correlation –º–µ–∂–¥—É events
