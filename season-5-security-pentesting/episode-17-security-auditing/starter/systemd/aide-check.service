[Unit]
Description=AIDE File Integrity Check
Documentation=man:aide(1)
After=local-fs.target

[Service]
Type=oneshot
ExecStart=/usr/bin/aide --check
StandardOutput=journal
StandardError=journal

# Nice level (lower priority)
Nice=10

# IO scheduling (idle priority — не мешает основной работе)
IOSchedulingClass=idle

# Timeout (если проверка зависла)
TimeoutStartSec=3600

[Install]
WantedBy=multi-user.target

# ========================================
# ИСПОЛЬЗОВАНИЕ
# ========================================
# 1. Скопируйте в /etc/systemd/system/aide-check.service
# 2. Перезагрузите systemd: sudo systemctl daemon-reload
# 3. Запустите вручную: sudo systemctl start aide-check
# 4. Проверьте статус: sudo systemctl status aide-check
# 5. Просмотрите логи: sudo journalctl -u aide-check

# LILITH: "systemd service для AIDE — это правильный Linux way.
#          Забудь про cron скрипты. systemd умеет больше: logging, dependencies, timeouts."



