# Episode 04: Package Management

```
–û–ü–ï–†–ê–¶–ò–Ø: KERNEL SHADOWS
–°–ï–ó–û–ù: 1 ‚Äî Shell & Foundations
–≠–ü–ò–ó–û–î: 04 ‚Äî Package Management
–õ–û–ö–ê–¶–ò–Ø: üá∑üá∫ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, –†–æ—Å—Å–∏—è (–ê–∫–∞–¥–µ–º–≥–æ—Ä–æ–¥–æ–∫)
–î–ù–ò –û–ü–ï–†–ê–¶–ò–ò: 7-8 (–∏–∑ 60)
–°–õ–û–ñ–ù–û–°–¢–¨: ‚≠ê‚òÜ‚òÜ‚òÜ‚òÜ
–í–†–ï–ú–Ø: 2-3 —á–∞—Å–∞
```

---

## üé¨ BRIEFING: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤–æ–π–Ω—ã

### üìÖ –î–µ–Ω—å 7 (07 –æ–∫—Ç—è–±—Ä—è 2025): –ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ

**–í—Ä–µ–º—è:** 10:00
**–õ–æ–∫–∞—Ü–∏—è:** –ö–≤–∞—Ä—Ç–∏—Ä–∞ –ú–∞–∫—Å–∞, –ê–∫–∞–¥–µ–º–≥–æ—Ä–æ–¥–æ–∫
**–£—á–∞—Å—Ç–Ω–∏–∫–∏:** –ú–∞–∫—Å –°–æ–∫–æ–ª–æ–≤ (–≤—ã), –í–∏–∫—Ç–æ—Ä –ü–µ—Ç—Ä–æ–≤ (–≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫), LILITH

–£—Ç—Ä–æ. –ö–æ—Ñ–µ. –°–Ω–µ–≥ –∑–∞ –æ–∫–Ω–æ–º. –î–æ–º–∞—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –≥—É–¥–∏—Ç –≤ —É–≥–ª—É.

–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫ –æ—Ç –í–∏–∫—Ç–æ—Ä–∞:

**–í–∏–∫—Ç–æ—Ä –ü–µ—Ç—Ä–æ–≤ (–≤–∏–¥–µ–æ):**
> *"–ú–∞–∫—Å, —Ö–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ª–æ–≥–∞–º–∏. –¢—ã –Ω–∞—à—ë–ª Tor exit node –∑–∞ 4 —á–∞—Å–∞. –ê–Ω–Ω–∞ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∞."*

–ù–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç.

> *"–¢–µ–ø–µ—Ä—å –Ω–∞—Å—Ç–æ—è—â–∞—è —Ä–∞–±–æ—Ç–∞. –í–æ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏. Nmap, tcpdump, fail2ban, Docker... 15+ –ø–∞–∫–µ—Ç–æ–≤. –ù–∞–º –Ω—É–∂–Ω–æ –≤—Å—ë —ç—Ç–æ –Ω–∞ 50 —Å–µ—Ä–≤–µ—Ä–∞—Ö. –ó–∞–≤—Ç—Ä–∞."*

**–ú–∞–∫—Å:**
> *"50 —Å–µ—Ä–≤–µ—Ä–æ–≤? –í—Ä—É—á–Ω—É—é —ç—Ç–æ –∑–∞–π–º—ë—Ç –Ω–µ–¥–µ–ª–∏."*

**–í–∏–∫—Ç–æ—Ä:**
> *"–ü–æ—ç—Ç–æ–º—É —Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—à—å. –°–∫—Ä–∏–ø—Ç. –û–¥–∏–Ω –∑–∞–ø—É—Å–∫ ‚Äî –≤—Å—ë —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ. –ë–µ–∑ –æ—à–∏–±–æ–∫. –ë–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤. –û—Ç–ø—Ä–∞–≤–ª—é —Å–ø–∏—Å–æ–∫ –Ω–∞ email."*

**LILITH (—Ç–µ—Ä–º–∏–Ω–∞–ª –º–∏–≥–∞–µ—Ç):**
> *"Ah, package management. –ì–¥–µ 'dependency hell' –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Å 'it worked on my machine'. –ì–æ—Ç–æ–≤—å—Å—è –∫ –±–æ–ª–∏, –ú–∞–∫—Å."*

**–í–∏–∫—Ç–æ—Ä:**
> *"–£ —Ç–µ–±—è –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è. –ù–∞—á–Ω–∏ —Å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –ö–æ–≥–¥–∞ —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ ‚Äî —è –¥–∞–º –¥–æ—Å—Ç—É–ø –∫ –æ—Å—Ç–∞–ª—å–Ω—ã–º. –ù–µ –ø–æ–¥–≤–µ–¥–∏."*

–ó–≤–æ–Ω–æ–∫ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è.

---

### 10:30 ‚Äî Email –æ—Ç –í–∏–∫—Ç–æ—Ä–∞

–ú–∞–∫—Å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—á—Ç—É. –í–ª–æ–∂–µ–Ω–∏–µ: `required_tools.txt`

```
# OPERATION KERNEL SHADOWS
# Required Tools for Infrastructure
# Viktor Petrov, 07 Oct 2025

# Security & Networking
nmap
tcpdump
wireshark
fail2ban
ufw

# Docker
docker.io
docker-compose

# Monitoring
htop
iotop
nethogs

... (15+ tools total)
```

**LILITH:**
> *"Package managers. –¢–≤–æ–∏ –Ω–æ–≤—ã–µ –ª—É—á—à–∏–µ –¥—Ä—É–∑—å—è –∏ —Ö—É–¥—à–∏–µ –≤—Ä–∞–≥–∏. APT –¥–ª—è Ubuntu, DPKG –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º, Snap –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤. –ö–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–∏–º–∏ –ø—Ä–∏—á—É–¥–∞–º–∏."*

> *"Dependencies –∫–∞–∫ —Å–µ–º—å—è. –ù–µ –≤—ã–±–∏—Ä–∞–µ—à—å –∏—Ö, –Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Å –Ω–∏–º–∏ –∂–∏—Ç—å."*

> *"–£ —Ç–µ–±—è –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è. –ù–∞—á–∏–Ω–∞–π. –Ø –±—É–¥—É –Ω–∞–±–ª—é–¥–∞—Ç—å."*

**–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞:** –¢–∏—à–∏–Ω–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã. –ì—É–¥–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞. –°–Ω–µ–≥ –∑–∞ –æ–∫–Ω–æ–º —Ç—è–∂–µ–ª–µ–µ—Ç. –ú–∞–∫—Å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª.

---

## üéØ –ú–ò–°–°–ò–Ø

### –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞:
–°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `install_toolkit.sh` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ security & networking –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ Ubuntu —Å–µ—Ä–≤–µ—Ä–∞—Ö.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. ‚úÖ –ß–∏—Ç–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ `required_tools.txt`
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã —á–µ—Ä–µ–∑ APT
3. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏
4. ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å backup `/etc/apt/sources.list` –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
5. ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ (—É—Å–ø–µ—à–Ω—ã–µ, –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ, failed)
6. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞ root (sudo)
7. ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ (dependency conflicts, missing packages)
8. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (non-interactive)
- –°–æ–∑–¥–∞—ë—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–∏—Ç–∞–µ–º—ã–π –æ—Ç—á—ë—Ç –¥–ª—è Viktor
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ gracefully (–Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –ø—Ä–æ–±–ª–µ–º–µ)

---

## üìö –ó–ê–î–ê–ù–ò–Ø (Learn by Doing)

### –ó–ê–î–ê–ù–ò–ï 1: –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å APT

**LILITH:**
> *"–ù–∞—á–Ω—ë–º —Å –æ—Å–Ω–æ–≤. APT (Advanced Package Tool) ‚Äî —Ç–≤–æ–π –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –≠—Ç–æ high-level –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–¥ dpkg."*

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:**

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ (–≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–π —à–∞–≥!)
sudo apt update

# 2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
apt list --upgradable

# 3. –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–∞
apt search nmap

# 4. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–µ
apt show nmap

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç
sudo apt install -y nmap
# –§–ª–∞–≥ -y: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ "yes" –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
which nmap
nmap --version
```

**LILITH:**
> *"apt update ‚Äî —ç—Ç–æ –∫–∞–∫ '–æ–±–Ω–æ–≤–∏—Ç—å –∞–¥—Ä–µ—Å–Ω—É—é –∫–Ω–∏–≥—É'. apt install ‚Äî '–ø–æ–∑–≤–æ–Ω–∏ –∏ –∑–∞–∫–∞–∂–∏ –¥–æ—Å—Ç–∞–≤–∫—É'. –ü—Ä–æ—Å—Ç–æ, –ø–æ–∫–∞ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏—à—å dependency hell."*

<details>
<summary>üìñ –¢–µ–æ—Ä–∏—è: APT vs DPKG</summary>

### APT (Advanced Package Tool)

**High-level –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –°–∫–∞—á–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º—É
- –£–¥–æ–±–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
apt update              # –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
apt upgrade             # –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
apt full-upgrade        # –û–±–Ω–æ–≤–∏—Ç—å + —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ

apt install <package>   # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç
apt remove <package>    # –£–¥–∞–ª–∏—Ç—å –ø–∞–∫–µ—Ç (–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏)
apt purge <package>     # –£–¥–∞–ª–∏—Ç—å –ø–∞–∫–µ—Ç + –∫–æ–Ω—Ñ–∏–≥–∏
apt autoremove          # –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

apt search <keyword>    # –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–∞
apt show <package>      # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–µ
apt list --installed    # –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
```

### DPKG (Debian Package Manager)

**Low-level –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:**
- –†–∞–±–æ—Ç–∞–µ—Ç —Å .deb —Ñ–∞–π–ª–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é
- –ù–ï —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è APT –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
dpkg -i package.deb     # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å .deb —Ñ–∞–π–ª
dpkg -r package         # –£–¥–∞–ª–∏—Ç—å –ø–∞–∫–µ—Ç
dpkg -l                 # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
dpkg -l | grep package  # –ù–∞–π—Ç–∏ –ø–∞–∫–µ—Ç
dpkg -L package         # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø–∞–∫–µ—Ç–∞
dpkg -S /path/to/file   # –ö–∞–∫–æ–π –ø–∞–∫–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏–ª —ç—Ç–æ—Ç —Ñ–∞–π–ª
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—Ç–æ?

**APT:** 99% —Å–ª—É—á–∞–µ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
**DPKG:** –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π .deb —Ñ–∞–π–ª –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ—Ç–∞–ª–∏

</details>

**–í–æ–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
–ö–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `apt remove` –∏ `apt purge`?

<details>
<summary>–û—Ç–≤–µ—Ç</summary>

- `apt remove` ‚Äî —É–¥–∞–ª—è–µ—Ç –ø–∞–∫–µ—Ç, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–≤ `/etc/`)
- `apt purge` ‚Äî —É–¥–∞–ª—è–µ—Ç –ø–∞–∫–µ—Ç –ò –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

–ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å `apache2` —á–µ—Ä–µ–∑ `remove`, —Ñ–∞–π–ª—ã –≤ `/etc/apache2/` –æ—Å—Ç–∞–Ω—É—Ç—Å—è.

</details>

---

### –ó–ê–î–ê–ù–ò–ï 2: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ sources.list

**LILITH:**
> *"–ü–∞–∫–µ—Ç—ã –∂–∏–≤—É—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö. Ubuntu –∑–Ω–∞–µ—Ç, –≥–¥–µ –∏—Å–∫–∞—Ç—å, —á–µ—Ä–µ–∑ /etc/apt/sources.list. –ò–∑–º–µ–Ω—è–π –µ–≥–æ —Å —É–º–æ–º ‚Äî –º–æ–∂–Ω–æ —Å–ª–æ–º–∞—Ç—å —Å–∏—Å—Ç–µ–º—É."*

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:**

```bash
# 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
cat /etc/apt/sources.list

# 2. Backup (–í–°–ï–ì–î–ê –¥–µ–ª–∞–π backup!)
sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup

# 3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
ls /etc/apt/sources.list.d/

# 4. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤—Ä—É—á–Ω—É—é (–ø—Ä–∏–º–µ—Ä: Docker)
# –ù–ï –ó–ê–ü–£–°–ö–ê–ô–¢–ï –ü–û–ö–ê, —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä!
# echo "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list
```

**LILITH:**
> *"–°—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Äî –∫–∞–∫ –Ω–µ–∑–Ω–∞–∫–æ–º—Ü—ã –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–¥—ë–∂–Ω—ã–µ (Docker, MongoDB), –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ ‚Äî –≤–∏—Ä—É—Å—ã. –ü—Ä–æ–≤–µ—Ä—è–π GPG –∫–ª—é—á–∏. –í—Å–µ–≥–¥–∞."*

<details>
<summary>üìñ –¢–µ–æ—Ä–∏—è: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Ubuntu</summary>

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ sources.list

```
deb http://archive.ubuntu.com/ubuntu/ jammy main restricted universe multiverse
‚îÇ   ‚îÇ                                  ‚îÇ      ‚îÇ
‚îÇ   ‚îÇ                                  ‚îÇ      ‚îî‚îÄ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ                                  ‚îî‚îÄ –ö–æ–¥–æ–≤–æ–µ –∏–º—è —Ä–µ–ª–∏–∑–∞ (jammy = 22.04)
‚îÇ   ‚îî‚îÄ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚îî‚îÄ –¢–∏–ø (deb = –±–∏–Ω–∞—Ä–Ω—ã–µ –ø–∞–∫–µ—Ç—ã, deb-src = –∏—Å—Ö–æ–¥–Ω–∏–∫–∏)
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Ubuntu:

- **main** ‚Äî –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–µ free/open-source –ü–û
- **restricted** ‚Äî –ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã (NVIDIA, etc)
- **universe** ‚Äî Community-maintained free/open-source
- **multiverse** ‚Äî –ü–û —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ (–ø–∞—Ç–µ–Ω—Ç—ã, –ª–∏—Ü–µ–Ω–∑–∏–∏)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å GPG –∫–ª—é—á (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏)
curl -fsSL https://example.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/example-keyring.gpg

# 2. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–ª—é—á—É
echo "deb [signed-by=/usr/share/keyrings/example-keyring.gpg] https://example.com/repo $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/example.list

# 3. –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏
sudo apt update
```

### PPA (Personal Package Archives)

–£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è Launchpad —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤:

```bash
# –î–æ–±–∞–≤–∏—Ç—å PPA
sudo add-apt-repository ppa:user/ppa-name

# –£–¥–∞–ª–∏—Ç—å PPA
sudo add-apt-repository --remove ppa:user/ppa-name
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ PPAs!

</details>

---

### –ó–ê–î–ê–ù–ò–ï 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

**LILITH:**
> *"–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —É–∂–µ –µ—Å—Ç—å. –ù–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã."*

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:**

```bash
# 1. –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
dpkg -l

# 2. –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞
dpkg -l | grep nmap

# 3. –°—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞ (—á–µ—Ä–µ–∑ dpkg-query)
dpkg-query -W -f='${Status}\n' nmap

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ APT
apt list --installed | grep nmap

# 5. –í–µ—Ä—Å–∏—è –ø–∞–∫–µ—Ç–∞
dpkg -l nmap | grep ^ii | awk '{print $3}'
```

**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ `git`, –∏ –≤—ã–≤–æ–¥–∏—Ç "YES" –∏–ª–∏ "NO".

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```bash
if dpkg -l | grep -q "^ii  git "; then
    echo "YES"
else
    echo "NO"
fi
```

–ò–ª–∏ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç:
```bash
dpkg -l | grep -q "^ii  git " && echo "YES" || echo "NO"
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `dpkg -l` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
- `^ii  git ` ‚Äî regex –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ git
- `-q` ‚Äî quiet mode (–Ω–µ –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏)
- `&&` ‚Äî –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ (exit code 0), –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É
- `||` ‚Äî –µ—Å–ª–∏ –Ω–µ—É—Å–ø–µ—à–Ω–æ (exit code 1), –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É

</details>

---

### –ó–ê–î–ê–ù–ò–ï 4: –ü–∞—Ä—Å–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

**LILITH:**
> *"–°–º–æ—Ç—Ä–∏ –Ω–∞ required_tools.txt. –¢–∞–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, –º—É—Å–æ—Ä. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –∏–∑–≤–ª–µ—á—å —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤."*

**–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:**

```bash
cd /home/fazzz/kernel-shadows/season-1-shell-foundations/episode-04-package-management/
cat artifacts/required_tools.txt
```

**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ (–±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫).

**–ü–æ–¥—Å–∫–∞–∑–∫–∏:**
- `grep -v '^#'` ‚Äî –∏—Å–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å #
- `grep -v '^$'` ‚Äî –∏—Å–∫–ª—é—á–∏—Ç—å –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
- `awk '{print $1}'` ‚Äî –≤–∑—è—Ç—å –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```bash
grep -v '^#' artifacts/required_tools.txt | \
grep -v '^$' | \
awk '{print $1}' | \
grep -v '^$'
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
1. `grep -v '^#'` ‚Äî —É–±—Ä–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
2. `grep -v '^$'` ‚Äî —É–±—Ä–∞—Ç—å –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
3. `awk '{print $1}'` ‚Äî –≤–∑—è—Ç—å –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞ –¥–æ –ø—Ä–æ–±–µ–ª–∞/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è)
4. `grep -v '^$'` ‚Äî —É–±—Ä–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ—Å–ª–µ awk

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
nmap
netcat
tcpdump
wireshark
fail2ban
ufw
...
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:**
```bash
tools=$(grep -v '^#' artifacts/required_tools.txt | grep -v '^$' | awk '{print $1}' | grep -v '^$')
echo "$tools"
```

</details>

---

### –ó–ê–î–ê–ù–ò–ï 5: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**LILITH:**
> *"–¢–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∏ –ø–∞–∫–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. Non-interactive. –ö–∞–∫ –Ω–∞ production."*

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ (–Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ):**

```bash
# –¢–µ—Å—Ç–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ (–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã)
echo "htop" > /tmp/test_packages.txt
echo "curl" >> /tmp/test_packages.txt
echo "wget" >> /tmp/test_packages.txt

# –¶–∏–∫–ª —É—Å—Ç–∞–Ω–æ–≤–∫–∏
while IFS= read -r package; do
    echo "Installing: $package"
    sudo apt install -y "$package"

    if [[ $? -eq 0 ]]; then
        echo "  ‚úì Success: $package"
    else
        echo "  ‚úó Failed: $package"
    fi
done < /tmp/test_packages.txt
```

**LILITH:**
> *"DEBIAN_FRONTEND=noninteractive –æ—Ç–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã. –ò—Å–ø–æ–ª—å–∑—É–π –≤ production —Å–∫—Ä–∏–ø—Ç–∞—Ö."*

```bash
DEBIAN_FRONTEND=noninteractive sudo apt install -y package_name
```

<details>
<summary>üìñ –¢–µ–æ—Ä–∏—è: Non-Interactive Installation</summary>

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ APT –º–æ–∂–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã:
- "Do you want to continue? [Y/n]"
- "Configuration file changed. What do you want to do?"
- "Restart services during package upgrades?"

–í –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö —ç—Ç–æ **–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ** ‚Äî —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–∏—Å–Ω–µ—Ç.

### –†–µ—à–µ–Ω–∏–µ 1: –§–ª–∞–≥ -y

```bash
sudo apt install -y package_name
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç "yes" –Ω–∞ –≤–æ–ø—Ä–æ—Å "Do you want to continue?"

### –†–µ—à–µ–Ω–∏–µ 2: DEBIAN_FRONTEND=noninteractive

```bash
DEBIAN_FRONTEND=noninteractive sudo apt install -y package_name
```

–û—Ç–∫–ª—é—á–∞–µ—Ç **–≤—Å–µ** –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### –†–µ—à–µ–Ω–∏–µ 3: apt-get —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏

```bash
sudo apt-get install -y -qq package_name
```

- `-y`: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ "yes"
- `-qq`: quiet mode (–º–∏–Ω–∏–º—É–º –≤—ã–≤–æ–¥–∞)

### –†–µ—à–µ–Ω–∏–µ 4: Preseed –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ MySQL —Å –ø–∞—Ä–æ–ª—è–º–∏):

```bash
echo "mysql-server mysql-server/root_password password your_password" | sudo debconf-set-selections
echo "mysql-server mysql-server/root_password_again password your_password" | sudo debconf-set-selections
sudo apt install -y mysql-server
```

### Best Practice –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

```bash
#!/bin/bash
export DEBIAN_FRONTEND=noninteractive
apt-get update -qq
apt-get install -y -qq package_name
```

</details>

---

### –ó–ê–î–ê–ù–ò–ï 6: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**LILITH:**
> *"–õ–æ–≥–∏ ‚Äî —Ç–≤–æ–π —á—ë—Ä–Ω—ã–π —è—â–∏–∫. –ö–æ–≥–¥–∞ Viktor —Å–ø—Ä–æ—Å–∏—Ç '—á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫?', —É —Ç–µ–±—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–≤–µ—Ç."*

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:**

```bash
# –ü—Ä–æ—Å—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
echo "[$(date '+%Y-%m-%d %H:%M:%S')] Installing nmap" >> install.log
sudo apt install -y nmap >> install.log 2>&1

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤—ã–≤–æ–¥–æ–º –Ω–∞ —ç–∫—Ä–∞–Ω (tee)
echo "[$(date '+%Y-%m-%d %H:%M:%S')] Installing git" | tee -a install.log
sudo apt install -y git 2>&1 | tee -a install.log
```

**–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**

```bash
log_message() {
    local message="$1"
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] $message" | tee -a install.log
}

log_message "Starting installation..."
log_message "Installing nmap..."
```

<details>
<summary>üìñ –¢–µ–æ—Ä–∏—è: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Bash</summary>

### –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞

```bash
command > file            # –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å stdout –≤ —Ñ–∞–π–ª (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å)
command >> file           # –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å stdout –≤ —Ñ–∞–π–ª (append)
command 2> file           # –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å stderr –≤ —Ñ–∞–π–ª
command 2>&1 > file       # –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å stderr –∏ stdout
command &> file           # –ö–æ—Ä–æ—Ç–∫–∞—è –∑–∞–ø–∏—Å—å –¥–ª—è stderr + stdout
```

### tee ‚Äî –≤—ã–≤–æ–¥ –∏ –≤ —Ñ–∞–π–ª, –∏ –Ω–∞ —ç–∫—Ä–∞–Ω

```bash
command | tee file        # Stdout ‚Üí —ç–∫—Ä–∞–Ω + —Ñ–∞–π–ª
command | tee -a file     # Append –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
command 2>&1 | tee file   # stderr + stdout ‚Üí —ç–∫—Ä–∞–Ω + —Ñ–∞–π–ª
```

### Timestamp –≤ –ª–æ–≥–∞—Ö

```bash
echo "[$(date '+%Y-%m-%d %H:%M:%S')] Message"
# Output: [2025-10-05 14:23:45] Message
```

### –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
LOG_FILE="install.log"

log_message() {
    local message="$1"
    local timestamp
    timestamp=$(date '+%Y-%m-%d %H:%M:%S')
    echo "[$timestamp] $message" | tee -a "$LOG_FILE"
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
log_message "Installation started"
log_message "Installing package: nmap"
```

### –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
COLOR_RED="\033[0;31m"
COLOR_GREEN="\033[0;32m"
COLOR_RESET="\033[0m"

echo -e "${COLOR_GREEN}Success!${COLOR_RESET}"
echo -e "${COLOR_RED}Error!${COLOR_RESET}"
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¶–≤–µ—Ç–Ω—ã–µ –∫–æ–¥—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ª–æ–≥-—Ñ–∞–π–ª—ã (–æ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ escape –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.

</details>

---

### –ó–ê–î–ê–ù–ò–ï 7: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**LILITH:**
> *"Dependency conflicts. Package not found. Permission denied. Disk full. –û—à–∏–±–∫–∏ –Ω–µ–∏–∑–±–µ–∂–Ω—ã. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –Ω–µ –ø–∞–¥–∞—Ç—å."*

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:**

```bash
# –ü–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç
sudo apt install -y nonexistent_package_12345

# –ü—Ä–æ–≤–µ—Ä–∫–∞ exit code
if [[ $? -ne 0 ]]; then
    echo "Installation failed!"
fi
```

**–§—É–Ω–∫—Ü–∏—è —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫:**

```bash
install_package() {
    local package="$1"

    echo "Installing: $package"

    if sudo apt install -y "$package" >> install.log 2>&1; then
        echo "  ‚úì Success: $package"
        return 0
    else
        echo "  ‚úó Failed: $package (check install.log)"
        return 1
    fi
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
install_package "nmap" && echo "OK" || echo "FAILED, but continuing..."
```

<details>
<summary>üìñ –¢–µ–æ—Ä–∏—è: Exit Codes –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</summary>

### Exit Codes

–ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ Linux –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç exit code:
- `0` ‚Äî —É—Å–ø–µ—à–Ω–æ
- `1-255` ‚Äî –æ—à–∏–±–∫–∞

–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `$?`:

```bash
command
if [[ $? -eq 0 ]]; then
    echo "Success"
else
    echo "Failed"
fi
```

### set -e (Exit on Error)

```bash
#!/bin/bash
set -e  # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ

apt update
apt install -y nmap  # –ï—Å–ª–∏ failed ‚Äî —Å–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
echo "This will not run if apt install failed"
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–Ω–æ–≥–¥–∞ –≤—ã –ù–ï —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –æ–¥–∏–Ω –ø–∞–∫–µ—Ç failed, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏).

### set +e (–û—Ç–∫–ª—é—á–∏—Ç—å exit on error)

```bash
#!/bin/bash
set -e  # –í–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

set +e  # –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å
apt install -y maybe_failing_package
set -e  # –í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –±–µ–∑ set -e

```bash
if apt install -y package; then
    echo "Success"
else
    echo "Failed, but continuing"
fi
```

### || –æ–ø–µ—Ä–∞—Ç–æ—Ä (OR)

```bash
command || echo "Failed!"
# –ï—Å–ª–∏ command –≤–µ—Ä–Ω—É–ª non-zero, –≤—ã–ø–æ–ª–Ω–∏—Ç—å echo
```

### && –æ–ø–µ—Ä–∞—Ç–æ—Ä (AND)

```bash
command && echo "Success!"
# –ï—Å–ª–∏ command –≤–µ—Ä–Ω—É–ª 0, –≤—ã–ø–æ–ª–Ω–∏—Ç—å echo
```

### –ö–æ–º–±–∏–Ω–∞—Ü–∏—è:

```bash
apt install -y nmap && echo "‚úì nmap" || echo "‚úó nmap failed"
```

### Exit codes –¥–ª—è apt/dpkg:

- `0` ‚Äî —É—Å–ø–µ—Ö
- `100` ‚Äî –ø–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- `1` ‚Äî –æ–±—â–∞—è –æ—à–∏–±–∫–∞
- `2` ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–¥–∞:

```bash
apt install -y nonexistent_package
exit_code=$?

if [[ $exit_code -eq 100 ]]; then
    echo "Package not found"
elif [[ $exit_code -eq 1 ]]; then
    echo "General error"
fi
```

</details>

---

### –ó–ê–î–ê–ù–ò–ï 8: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞

**LILITH:**
> *"Viktor –Ω–µ –±—É–¥–µ—Ç —á–∏—Ç–∞—Ç—å 10,000 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤. –°–¥–µ–ª–∞–π –µ–º—É TL;DR: —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —á—Ç–æ failed, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞."*

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –æ—Ç—á—ë—Ç:**

```bash
cat > install_report.txt << 'EOF'
========================================
KERNEL SHADOWS - Installation Report
========================================

Date: $(date '+%Y-%m-%d %H:%M:%S')

--- INSTALLED PACKAGES ---
‚úì nmap (version 7.92)
‚úì git (version 2.34.1)
‚úì htop (version 3.2.0)

--- FAILED PACKAGES ---
‚úó nonexistent_package (not found)

--- SUMMARY ---
Total: 4
Installed: 3
Failed: 1

Status: PARTIAL SUCCESS
========================================
EOF
```

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:**

```bash
generate_report() {
    {
        echo "========================================"
        echo "KERNEL SHADOWS - Installation Report"
        echo "========================================"
        echo ""
        echo "Date: $(date '+%Y-%m-%d %H:%M:%S')"
        echo ""

        echo "--- INSTALLED PACKAGES ---"
        for pkg in "${INSTALLED_PACKAGES[@]}"; do
            echo "  ‚úì $pkg"
        done
        echo ""

        echo "--- FAILED PACKAGES ---"
        for pkg in "${FAILED_PACKAGES[@]}"; do
            echo "  ‚úó $pkg"
        done
        echo ""

        echo "--- SUMMARY ---"
        echo "  Installed: ${#INSTALLED_PACKAGES[@]}"
        echo "  Failed: ${#FAILED_PACKAGES[@]}"
        echo ""
        echo "========================================"

    } > install_report.txt
}
```

---

### –ó–ê–î–ê–ù–ò–ï 9: –§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç ‚Äî install_toolkit.sh

**LILITH:**
> *"–í—Å—ë –≤–º–µ—Å—Ç–µ. –°–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π Viktor –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –∏ –ø–æ–ª—É—á–∏—Ç—å working –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É."*

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∫—Ä–∏–ø—Ç—É:**

1. ‚úÖ Shebang `#!/bin/bash`
2. ‚úÖ –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º: `set -e`, `set -u`, `set -o pipefail`
3. ‚úÖ –§—É–Ω–∫—Ü–∏–∏:
   - `check_root()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ sudo
   - `backup_sources_list()` ‚Äî backup –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
   - `update_package_lists()` ‚Äî `apt update`
   - `parse_tools_list()` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ required_tools.txt
   - `install_package()` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
   - `generate_report()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞
   - `log_message()` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å timestamp
4. ‚úÖ –ú–∞—Å—Å–∏–≤—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
   - `INSTALLED_PACKAGES`
   - `FAILED_PACKAGES`
   - `SKIPPED_PACKAGES` (–µ—Å–ª–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
5. ‚úÖ –§–∞–π–ª—ã:
   - `install.log` ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥
   - `install_report.txt` ‚Äî –∫—Ä–∞—Ç–∫–∏–π –æ—Ç—á—ë—Ç –¥–ª—è Viktor

**–ù–∞—á–Ω–∏—Ç–µ —Å–æ starter.sh:**

```bash
cp starter.sh install_toolkit.sh
chmod +x install_toolkit.sh
nano install_toolkit.sh  # –∏–ª–∏ vim/code
```

**–ó–∞–ø–æ–ª–Ω–∏—Ç–µ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º.**

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ë–ï–ó sudo —Å–Ω–∞—á–∞–ª–∞):**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
bash -n install_toolkit.sh  # –°–∏–Ω—Ç–∞–∫—Å–∏—Å OK?

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π (dry run)
bash install_toolkit.sh  # –î–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏—Å—å –æ—à–∏–±–∫–∞ "need root"
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å sudo, –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–ø–∏—Å–∫–µ):**

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π test_tools.txt
echo "htop" > test_tools.txt
echo "curl" >> test_tools.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
sudo ./install_toolkit.sh test_tools.txt

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
cat install_report.txt
cat install.log
```

**–ö–æ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã ‚Äî –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç:**

```bash
sudo ./install_toolkit.sh artifacts/required_tools.txt
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

```bash
cd tests/
chmod +x test.sh
./test.sh
```

**–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:**
1. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∫—Ä–∏–ø—Ç–∞ (shebang, —Ñ—É–Ω–∫—Ü–∏–∏, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
2. ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ required_tools.txt
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É root
4. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
5. ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á—ë—Ç–∞
6. ‚úÖ (–ï—Å–ª–∏ root) –†–µ–∞–ª—å–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ root (–¥–æ–ª–∂–Ω–∞ –≤—ã–¥–∞—Ç—å –æ—à–∏–±–∫—É)
./install_toolkit.sh artifacts/required_tools.txt

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
grep -v '^#' artifacts/required_tools.txt | grep -v '^$' | awk '{print $1}'

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å sudo (–Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–ø–∏—Å–∫–µ)
sudo ./install_toolkit.sh test_tools.txt

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—á—ë—Ç–∞
cat install_report.txt

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
less install.log

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
dpkg -l | grep nmap
which nmap
nmap --version
```

---

## üìñ –¢–ï–û–†–ò–Ø: Package Management Deep Dive

<details>
<summary>üîç Dependency Resolution</summary>

### –ö–∞–∫ APT —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ö–æ–≥–¥–∞ –≤—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ –ø–∞–∫–µ—Ç, APT:

1. –ß–∏—Ç–∞–µ—Ç metadata –ø–∞–∫–µ—Ç–∞ (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `Depends:`, `Recommends:`, `Suggests:`)
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏
4. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
5. –°–∫–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ –ø–∞–∫–µ—Ç—ã
6. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

### Dependency Hell

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞–∫–µ—Ç A —Ç—Ä–µ–±—É–µ—Ç libfoo >= 2.0, –ø–∞–∫–µ—Ç B —Ç—Ä–µ–±—É–µ—Ç libfoo < 2.0.

**–†–µ—à–µ–Ω–∏–µ APT:**
- –ü–æ–ø—ã—Ç–∫–∞ –Ω–∞–π—Ç–∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω—É—é –≤–µ—Ä—Å–∏—é
- –ï—Å–ª–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ ‚Äî –æ—Ç–∫–∞–∂–µ—Ç –≤ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

**–†—É—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
apt-cache depends package_name

# –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å
sudo apt --fix-broken install

# –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç ‚Äî —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π –ø–∞–∫–µ—Ç
sudo apt remove conflicting_package
```

### –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Äî "–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ":
- `mail-transport-agent` (–º–æ–∂–µ—Ç –±—ã—Ç—å `postfix`, `exim4`, `sendmail`)
- `www-browser` (–º–æ–∂–µ—Ç –±—ã—Ç—å `firefox`, `chromium`)

–õ—é–±–æ–π –ø–∞–∫–µ—Ç, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

</details>

<details>
<summary>üîç Snap Packages</summary>

### –ß—Ç–æ —Ç–∞–∫–æ–µ Snap?

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ APT:**
- –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (bundled dependencies)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (sandboxing)
- Crossplatform (Ubuntu, Debian, Fedora, Arch)

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
snap install package_name     # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
snap list                      # –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö
snap refresh package_name      # –û–±–Ω–æ–≤–∏—Ç—å
snap remove package_name       # –£–¥–∞–ª–∏—Ç—å
snap info package_name         # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
snap find keyword              # –ü–æ–∏—Å–∫
```

### Snap vs APT

| –ö—Ä–∏—Ç–µ—Ä–∏–π | APT | Snap |
|----------|-----|------|
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –û–±—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ | Bundled |
| –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ | –ú–µ–Ω—å—à–µ | –ë–æ–ª—å—à–µ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –ú–µ–Ω–µ–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ | Sandboxed |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏—è | –†—É—á–Ω—ã–µ/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ |
| –°–∫–æ—Ä–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ | –ë—ã—Å—Ç—Ä–µ–µ | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ |

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Snap?

- –ù—É–∂–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è (APT —á–∞—Å—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–∞–∫–µ—Ç—ã)
- –ù—É–∂–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- Crossplatform (–æ–¥–∏–Ω –ø–∞–∫–µ—Ç –¥–ª—è –≤—Å–µ—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤)

### –ü—Ä–∏–º–µ—Ä: Docker —á–µ—Ä–µ–∑ Snap

```bash
# Snap (–ø—Ä–æ—â–µ, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ)
sudo snap install docker

# APT (—Å–ª–æ–∂–Ω–µ–µ, –Ω–æ production-ready)
# (—Å–º. artifacts/README.md –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
```

</details>

<details>
<summary>üîç Docker Installation (Special Case)</summary>

### –ü–æ—á–µ–º—É Docker –æ—Å–æ–±–µ–Ω–Ω—ã–π?

Docker –Ω–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö Ubuntu. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Docker.

### –ü–æ–ª–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞:

```bash
# 1. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
sudo apt remove docker docker-engine docker.io containerd runc

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo apt install -y \
    ca-certificates \
    curl \
    gnupg \
    lsb-release

# 3. –î–æ–±–∞–≤–∏—Ç—å GPG –∫–ª—é—á Docker
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | \
    sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# 4. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \
  https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# 5. –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏
sudo apt update

# 6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
sudo docker run hello-world
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ —Å–∫—Ä–∏–ø—Ç–µ

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `install_docker()` –≤ –≤–∞—à `install_toolkit.sh`:

```bash
install_docker() {
    log_message "Installing Docker (requires custom repo)..."

    # Add Docker GPG key
    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | \
        sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

    # Add Docker repository
    echo \
      "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \
      https://download.docker.com/linux/ubuntu \
      $(lsb_release -cs) stable" | \
      sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

    # Update and install
    apt update >> "$LOG_FILE" 2>&1
    apt install -y docker-ce docker-ce-cli containerd.io >> "$LOG_FILE" 2>&1

    if [[ $? -eq 0 ]]; then
        log_message "‚úì Docker installed"
        INSTALLED_PACKAGES+=("docker-ce")
    else
        log_message "‚úó Docker failed"
        FAILED_PACKAGES+=("docker-ce")
    fi
}
```

</details>

---

## üí° –°–ü–†–ê–í–û–ß–ù–ò–ö: APT Commands

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# === –û–ë–ù–û–í–õ–ï–ù–ò–ï ===
sudo apt update                    # –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
sudo apt upgrade                   # –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
sudo apt full-upgrade              # –û–±–Ω–æ–≤–∏—Ç—å + —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
sudo apt dist-upgrade              # –¢–æ –∂–µ, —á—Ç–æ full-upgrade

# === –£–°–¢–ê–ù–û–í–ö–ê ===
sudo apt install package           # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç
sudo apt install package1 package2 # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ
sudo apt install -y package        # –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
sudo apt install --no-install-recommends package  # –ë–µ–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö
sudo apt reinstall package         # –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

# === –£–î–ê–õ–ï–ù–ò–ï ===
sudo apt remove package            # –£–¥–∞–ª–∏—Ç—å (–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏)
sudo apt purge package             # –£–¥–∞–ª–∏—Ç—å + –∫–æ–Ω—Ñ–∏–≥–∏
sudo apt autoremove                # –£–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo apt autoclean                 # –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à —Å—Ç–∞—Ä—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
sudo apt clean                     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à

# === –ü–û–ò–°–ö –ò –ò–ù–§–û–†–ú–ê–¶–ò–Ø ===
apt search keyword                 # –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–∞
apt show package                   # –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
apt list                           # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
apt list --installed               # –¢–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ
apt list --upgradable              # –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
apt-cache depends package          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
apt-cache rdepends package         # –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

# === –†–ï–ü–û–ó–ò–¢–û–†–ò–ò ===
sudo add-apt-repository ppa:name   # –î–æ–±–∞–≤–∏—Ç—å PPA
sudo add-apt-repository --remove ppa:name  # –£–¥–∞–ª–∏—Ç—å PPA

# === TROUBLESHOOTING ===
sudo apt --fix-broken install      # –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–ª–æ–º–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo apt --fix-missing install     # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–∞–∫–µ—Ç—ã
sudo dpkg --configure -a           # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```

### DPKG Commands

```bash
# === –£–°–¢–ê–ù–û–í–ö–ê ===
sudo dpkg -i package.deb           # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å .deb —Ñ–∞–π–ª
sudo dpkg -r package               # –£–¥–∞–ª–∏—Ç—å –ø–∞–∫–µ—Ç
sudo dpkg -P package               # –£–¥–∞–ª–∏—Ç—å + –∫–æ–Ω—Ñ–∏–≥–∏ (Purge)

# === –ò–ù–§–û–†–ú–ê–¶–ò–Ø ===
dpkg -l                            # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
dpkg -l | grep package             # –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–∞
dpkg -L package                    # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø–∞–∫–µ—Ç–∞
dpkg -S /path/to/file              # –ö–∞–∫–æ–π –ø–∞–∫–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏–ª —Ñ–∞–π–ª
dpkg -s package                    # –°—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞
dpkg-query -W -f='${Status}' package  # –ö–æ—Ä–æ—Ç–∫–∏–π —Å—Ç–∞—Ç—É—Å

# === TROUBLESHOOTING ===
sudo dpkg --configure -a           # –ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
sudo dpkg --force-all -i package.deb  # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–û–ü–ê–°–ù–û!)
```

---

## üéì –ë–û–ù–£–°: Best Practices

### 1. –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ backup

```bash
sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup.$(date +%Y%m%d)
```

### 2. apt update –ø–µ—Ä–µ–¥ apt install

```bash
sudo apt update && sudo apt install -y package
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π

```bash
if ! dpkg -l | grep -q "^ii  $package "; then
    sudo apt install -y "$package"
fi
```

### 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
sudo apt install -y package 2>&1 | tee -a /var/log/custom_installs.log
```

### 5. Non-interactive –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

```bash
DEBIAN_FRONTEND=noninteractive sudo apt install -y package
```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏

```bash
if sudo apt install -y package; then
    echo "Success"
else
    echo "Failed"
    exit 1
fi
```

### 7. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# Cron job: –∫–∞–∂–¥—É—é —Å—É–±–±–æ—Ç—É –≤ 3:00
0 3 * * 6 apt update && apt upgrade -y >> /var/log/auto_upgrade.log 2>&1
```

### 8. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo apt list --upgradable | grep -i security

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ security updates
sudo apt install unattended-upgrades
```

---

## üé¨ DEBRIEFING: –ß—Ç–æ –≤—ã –∏–∑—É—á–∏–ª–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Episode 04 –≤—ã –æ—Å–≤–æ–∏–ª–∏:

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏:
- ‚úÖ **APT** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ **DPKG** ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ .deb —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, GPG –∫–ª—é—á–∏
- ‚úÖ **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Äî –ø–æ–Ω–∏–º–∞–Ω–∏–µ dependency resolution
- ‚úÖ **Snap** ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π package manager
- ‚úÖ **Docker** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** ‚Äî non-interactive installation
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- ‚úÖ **–û—Ç—á—ë—Ç—ã** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è summary –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî graceful handling

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- üöÄ **install_toolkit.sh** ‚Äî production-ready —Å–∫—Ä–∏–ø—Ç –¥–ª—è 50 —Å–µ—Ä–≤–µ—Ä–æ–≤
- üìä **install_report.txt** ‚Äî –æ—Ç—á—ë—Ç –¥–ª—è Viktor
- üìù **install.log** ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
- üõ°Ô∏è **Backup** ‚Äî sources.list —Å–æ—Ö—Ä–∞–Ω—ë–Ω

---

## üé¨ CLIFFHANGER: –ö–æ–Ω–µ—Ü Season 1, –ø–µ—Ä–µ—Ö–æ–¥ –∫ Season 2

### üìÖ –î–µ–Ω—å 8 (08 –æ–∫—Ç—è–±—Ä—è 2025): –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–í—Ä–µ–º—è:** 18:00
**–õ–æ–∫–∞—Ü–∏—è:** –ö–≤–∞—Ä—Ç–∏—Ä–∞ –ú–∞–∫—Å–∞, –ê–∫–∞–¥–µ–º–≥–æ—Ä–æ–¥–æ–∫

Max –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á—ë—Ç Viktor. –í—Å–µ 15 –ø–∞–∫–µ—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ. `install_toolkit.sh` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫.

–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫ –æ—Ç Viktor:

**–í–∏–∫—Ç–æ—Ä:**
> *"–û—Ç–ª–∏—á–Ω–æ, –ú–∞–∫—Å. –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç. –ó–∞–≤—Ç—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ–º –Ω–∞ –≤—Å–µ—Ö 50 —Å–µ—Ä–≤–µ—Ä–∞—Ö."*

–ü–∞—É–∑–∞.

> *"–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ –∑–∞ –Ω–µ–¥–µ–ª—é. –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è —Å –±–∞–∑–æ–≤—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏. –ù–æ –Ω–∞—Å—Ç–æ—è—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–µ–π—á–∞—Å."*

**Max:**
> *"–ß—Ç–æ –¥–∞–ª—å—à–µ?"*

**Viktor:**
> *"–ü—Ä–∏–µ–∑–∂–∞–π –≤ –ú–æ—Å–∫–≤—É. –í—Å—Ç—Ä–µ—Ç–∏—à—å—Å—è —Å –∫–æ–º–∞–Ω–¥–æ–π. –ù–∞—Å—Ç–æ—è—â–∏–µ —Å–µ—Ä–≤–µ—Ä—ã, –Ω–∞—Å—Ç–æ—è—â–∏–µ —É–≥—Ä–æ–∑—ã. –ë–∏–ª–µ—Ç —É–∂–µ –∫—É–ø–ª–µ–Ω. –û—Ç–ø—Ä–∞–≤–∏–ª –Ω–∞ email."*

**Max:**
> *"–ö–æ–≥–¥–∞?"*

**Viktor:**
> *"–ó–∞–≤—Ç—Ä–∞ —É—Ç—Ä–æ–º. –†–µ–π—Å –≤ 07:30. –ù–µ –æ–ø–æ–∑–¥–∞–π."*

–ó–≤–æ–Ω–æ–∫ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è.

---

### 20:00 ‚Äî –ü–∞–∫—É–µ–º –≤–µ—â–∏

Max —Å–æ–±–∏—Ä–∞–µ—Ç —Ä—é–∫–∑–∞–∫. –ù–æ—É—Ç–±—É–∫, –∑–∞—Ä—è–¥–∫–∏, —Ç—ë–ø–ª–∞—è –∫—É—Ä—Ç–∫–∞ (–≤ –ú–æ—Å–∫–≤–µ —Ç–µ–ø–ª–µ–µ, –Ω–æ –Ω–µ –Ω–∞–º–Ω–æ–≥–æ).

–ü—Ä–æ—â–∞–ª—å–Ω—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä. Dell PowerEdge –≥—É–¥–∏—Ç –≤ —É–≥–ª—É. Raspberry Pi –º–∏–≥–∞—é—Ç –∑–µ–ª—ë–Ω—ã–º–∏ –ª–∞–º–ø–æ—á–∫–∞–º–∏.

Max: *"–ù–µ–¥–µ–ª—è –Ω–∞–∑–∞–¥ —è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–ª –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã. –¢–µ–ø–µ—Ä—å... –ú–æ—Å–∫–≤–∞. Viktor. –ù–∞—Å—Ç–æ—è—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è. –ö–∞–∫ —è –∑–¥–µ—Å—å –æ–∫–∞–∑–∞–ª—Å—è?"*

–¢–µ–ª–µ—Ñ–æ–Ω –∑–≤–æ–Ω–∏—Ç. Alex Sokolov (–¥–≤–æ—é—Ä–æ–¥–Ω—ã–π –±—Ä–∞—Ç).

**Alex (–≥–æ–ª–æ—Å –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω—ã–π):**
> *"–ú–∞–∫—Å, —É –Ω–∞—Å –ø—Ä–æ–±–ª–µ–º–∞. Krylov –∑–Ω–∞–µ—Ç –æ –Ω–∞—Å. –ü—Ä–∏–µ–∑–∂–∞–π –±—ã—Å—Ç—Ä–µ–µ. –ó–∞–≤—Ç—Ä–∞ –≤—Å—Ç—Ä–µ—Ç–∏–º—Å—è –≤ –ú–æ—Å–∫–≤–µ. –ë—É–¥—å –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω."*

> *"–ò –ú–∞–∫—Å... —Å–ø–∞—Å–∏–±–æ, —á—Ç–æ —Å–æ–≥–ª–∞—Å–∏–ª—Å—è. –ó–Ω–∞—é, —ç—Ç–æ –æ–ø–∞—Å–Ω–æ. –ù–æ —Ç—ã –Ω—É–∂–µ–Ω –Ω–∞–º."*

–ó–≤–æ–Ω–æ–∫ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è.

Max —Å–º–æ—Ç—Ä–∏—Ç –≤ –æ–∫–Ω–æ. –°–Ω–µ–≥ –ø–∞–¥–∞–µ—Ç. –°–∏–±–∏—Ä—Å–∫–∞—è –Ω–æ—á—å. –ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–æ—á—å –≤ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–µ (–ø–æ–∫–∞).

**LILITH (—Ç–µ—Ä–º–∏–Ω–∞–ª –º–∏–≥–∞–µ—Ç):**
> *"Season 1 –∑–∞–≤–µ—Ä—à—ë–Ω, Max. –¢—ã –ø—Ä–æ—à—ë–ª –æ—Å–Ω–æ–≤—ã: terminal, scripting, text processing, package management."*

> *"–ù–æ —ç—Ç–æ –±—ã–ª–∞ —Ä–∞–∑–º–∏–Ω–∫–∞. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ ‚Äî comfort zone. –ú–æ—Å–∫–≤–∞ ‚Äî –≤—Ä–∞–∂–¥–µ–±–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è. Krylov –∑–Ω–∞–µ—Ç –æ –≤–∞—Å."*

> *"Season 2: Networking, firewalls, VPN, SSH. –ò –ø–µ—Ä–≤–∞—è —Ä–µ–∞–ª—å–Ω–∞—è —É–≥—Ä–æ–∑–∞."*

> *"Welcome to the shadows, Max. –ù–∞—Å—Ç–æ—è—â–∏–µ —Ç–µ–Ω–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å–µ–π—á–∞—Å."*

–≠–∫—Ä–∞–Ω –≥–∞—Å–Ω–µ—Ç.

---

### üìÖ –î–µ–Ω—å 9 (09 –æ–∫—Ç—è–±—Ä—è 2025, 07:30): –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ ‚Üí –ú–æ—Å–∫–≤–∞

–ê—ç—Ä–æ–ø–æ—Ä—Ç –¢–æ–ª–º–∞—á—ë–≤–æ. –†–µ–π—Å S7 1201. Max —Å–∞–¥–∏—Ç—Å—è –≤ —Å–∞–º–æ–ª—ë—Ç.

–ó–∞ –æ–∫–Ω–æ–º ‚Äî –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –∏—Å—á–µ–∑–∞–µ—Ç –≤ –æ–±–ª–∞–∫–∞—Ö. –°–∏–±–∏—Ä—å –æ—Å—Ç–∞—ë—Ç—Å—è –≤–Ω–∏–∑—É.

–í–ø–µ—Ä–µ–¥–∏ ‚Äî –ú–æ—Å–∫–≤–∞. –ö–æ–º–∞–Ω–¥–∞ Viktor. Alex. Anna. Dmitry.

–ò –≥–¥–µ-—Ç–æ –≤ —Ç–µ–Ω—è—Ö ‚Äî –ø–æ–ª–∫–æ–≤–Ω–∏–∫ Krylov.

**Season 1 –∑–∞–≤–µ—Ä—à—ë–Ω. Season 2 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è.**

---

## üåç –°–ª–µ–¥—É—é—â–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞: Season 2

**–õ–æ–∫–∞—Ü–∏–∏:** üá∑üá∫ –ú–æ—Å–∫–≤–∞ ‚Üí üá∏üá™ –°—Ç–æ–∫–≥–æ–ª—å–º, –®–≤–µ—Ü–∏—è
**–¢–µ–º–∞:** Networking (TCP/IP, DNS, Firewalls, VPN, SSH)
**–î–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏:** 9-16 (–∏–∑ 60)
**–ù–æ–≤—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏:**
- Alex Sokolov (–ª–∏—á–Ω–æ) ‚Äî security expert, ex-FSB
- Anna Kovaleva (–ª–∏—á–Ω–æ) ‚Äî forensics expert
- Erik Johansson (–°—Ç–æ–∫–≥–æ–ª—å–º) ‚Äî network engineer, Bahnhof
- Katarina Lindstr√∂m (–°—Ç–æ–∫–≥–æ–ª—å–º) ‚Äî cryptography expert

**–ù–æ–≤–∞—è —É–≥—Ä–æ–∑–∞:** –ü–æ–ª–∫–æ–≤–Ω–∏–∫ Krylov (–§–°–ë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ "–ö")

**First Episode S2:** Episode 05 ‚Äî TCP/IP Fundamentals (–ú–æ—Å–∫–≤–∞, –¶–û–î "–ú–æ—Å–∫–≤–∞-1")

**‚Üí Continue: [Season 2 README](../../season-2-networking/README.md)** (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ø–∏–∑–æ–¥—É —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] –°–æ–∑–¥–∞–Ω —Ä–∞–±–æ—á–∏–π `install_toolkit.sh`
- [ ] –°–∫—Ä–∏–ø—Ç —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç—ã –∏–∑ `required_tools.txt`
- [ ] –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `install_report.txt`
- [ ] –°–æ–∑–¥–∞—ë—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–π `install.log`
- [ ] –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ root
- [ ] –°–æ–∑–¥–∞—ë—Ç—Å—è backup `/etc/apt/sources.list`
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ (failed packages –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —Å–∫—Ä–∏–ø—Ç)
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã (`./tests/test.sh`)
- [ ] –ü–æ–Ω–∏–º–∞–µ—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É APT –∏ DPKG
- [ ] –ó–Ω–∞–µ—Ç–µ, –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ

---

## üîó –†–µ—Å—É—Ä—Å—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- Ubuntu Packages: https://packages.ubuntu.com/
- APT User's Guide: https://www.debian.org/doc/manuals/apt-guide/
- Docker Installation: https://docs.docker.com/engine/install/ubuntu/

### Man pages:
```bash
man apt
man apt-get
man dpkg
man sources.list
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- `aptitude` ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è APT (TUI)
- `synaptic` ‚Äî GUI –¥–ª—è APT
- `apt-file` ‚Äî –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–∫–µ—Ç–∞—Ö

---

<div align="center">

**KERNEL SHADOWS ‚Äî Episode 04: Package Management**

*üá∑üá∫ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, –†–æ—Å—Å–∏—è (–ê–∫–∞–¥–µ–º–≥–æ—Ä–æ–¥–æ–∫) ‚Ä¢ –î–Ω–∏ 7-8 –∏–∑ 60*

---

*"Dependencies –∫–∞–∫ —Å–µ–º—å—è. –ù–µ –≤—ã–±–∏—Ä–∞–µ—à—å –∏—Ö, –Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Å –Ω–∏–º–∏ –∂–∏—Ç—å."* ‚Äî LILITH

---

**Season 1 –∑–∞–≤–µ—Ä—à—ë–Ω!** üéâ

**–ü—Ä–æ–π–¥–µ–Ω–æ:** Terminal, Scripting, Text Processing, Package Management
**–õ–æ–∫–∞—Ü–∏—è:** –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ (–ê–∫–∞–¥–µ–º–≥–æ—Ä–æ–¥–æ–∫)
**–ü–µ—Ä—Å–æ–Ω–∞–∂–∏:** Viktor, LILITH, Sergey Ivanov, Olga Petrova, Dmitry Orlov

---

**–°–ª–µ–¥—É—é—â–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞:**
**Season 2 ‚Üí –ú–æ—Å–∫–≤–∞ üá∑üá∫ ‚Üí –°—Ç–æ–∫–≥–æ–ª—å–º üá∏üá™**

*–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è...*

**[‚Üê Season 1 README](../README.md)** ‚Ä¢ **[Season 2 README ‚Üí](../../season-2-networking/README.md)** (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

</div>

