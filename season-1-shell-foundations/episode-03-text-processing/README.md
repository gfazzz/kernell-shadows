# Episode 03: Text Processing Masters

```
ะะะะะะฆะะฏ: KERNEL SHADOWS
ะกะะะะ: 1 โ Shell & Foundations
ะญะะะะะ: 03 โ Text Processing Masters
ะกะะะะะะกะขะฌ: โญโญโโโ
ะะะะะฏ: 3-4 ัะฐัะฐ
```

---

## ๐ 04 ะพะบััะฑัั 2025, 03:52 โ ALERT

ะขะตะปะตัะพะฝ ะฒะทััะฒะฐะตััั ะทะฒะพะฝะบะพะผ. Viktor.

> **Viktor:**
> *"ะะฐะบัะธะผ. ะะฐั ะฐัะฐะบะพะฒะฐะปะธ. ะััะผะพ ัะตะนัะฐั."*

ะะพะปะพั ะถัััะบะธะน, ะฑะตะท ะฟะฐะฝะธะบะธ. ะะพ ัะปััะฝะพ ะฝะฐะฟััะถะตะฝะธะต.

> **Viktor:**
> *"ะะฝะฝะฐ ะถะดัั ัะตะฑั. ะัะธั ะฝะฐ ะขะฒะตััะบะพะน. ะะพัะตะนะฝั ะทะฐะบัััะฐ โ ะธะดะธ ัะตัะตะท ัััะฝัะน ัะพะด."*

---

## 04:15 โ ะัะธั ะฝะฐ ะขะฒะตััะบะพะน, ะฟะพะดะฒะฐะปัะฝัะน ััะพะฒะตะฝั

ะกะตัะฒะฐะบ ะณัะดะธั. ะะพะฝะธัะพัั ะฒะตะทะดะต. Anna Kovaleva ัะถะต ะทะดะตัั โ ัััะฝะฐั ัะพะปััะพะฒะบะฐ, ะบะพัะต, ัััะฐะปัะต ะณะปะฐะทะฐ.

> **Anna:**
> *"ะขั Max? ะฅะพัะพัะพ. ะกะปััะฐะน ะฑััััะพ."*

ะะฝะฐ ะฟะพะฒะพัะฐัะธะฒะฐะตั ะผะพะฝะธัะพั ะบ ะฒะฐะผ:

```
[04/Oct/2025:03:47:23 +0000] - 2,847 requests/sec
[04/Oct/2025:03:47:24 +0000] - 3,124 requests/sec
[04/Oct/2025:03:47:25 +0000] - 4,582 requests/sec โ๏ธ
SERVER OVERLOAD WARNING
```

> **Anna:**
> *"DDoS ะฝะฐัะฐะปะฐัั ะฒ 03:47. ะกะตัะฒะตั Viktor ะฟะพะด ัะดะฐัะพะผ. ะะพะณะธ ะพะณัะพะผะฝัะต โ 4,400+ ัััะพะบ. ะะฝะต ะฝัะถะฝั IP ะฐัะฐะบัััะธั. ะกัะพัะฝะพ."*

ะะฝะฐ ะฟะตัะตะดะฐัั USB-ัะปะตัะบั:

> **Anna:**
> *"ะะดะตัั access.log ะทะฐ ะฟะพัะปะตะดะฝะธะต 24 ัะฐัะฐ. ะะฐะทะฐ ะธะทะฒะตััะฝัั ัะณัะพะท โ suspicious_ips.txt. ะะฐะนะดะธ ะบัะพ ะฐัะฐะบะพะฒะฐะป."*

ะะฐัะทะฐ.

> **Anna:**
> *"Krylov ัะถะต ะทะฝะฐะตั ะณะดะต ะผั. ะญัะพ ะตะณะพ ะฟะพัะตัะบ. ะะฐะนะดะธ ะดะพะบะฐะทะฐัะตะปัััะฒะฐ."*

---

## 04:20 โ ะะฐั ะฝะพััะฑัะบ

ะขะตัะผะธะฝะฐะป ะพัะบััั. USB ะฒััะฐะฒะปะตะฝะฐ.

ะญะบัะฐะฝ ะผะธะณะฐะตั:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                               โ
โ   LILITH ะทะดะตัั.                                               โ
โ                                                               โ
โ   ะัะฐะบะฐ ะธะดัั. ะะพะณะธ ะฝะต ะฒััั.                                   โ
โ   ะะฐะนะดะธ patterns. ะะฐะนะดะธ IP. ะะฐะนะดะธ ะฟัะฐะฒะดั.                     โ
โ                                                               โ
โ   grep, awk, sed โ ัะฒะพั ะพััะถะธะต.                               โ
โ   Pipes ะธ redirects โ ัะฒะพั ัะฐะบัะธะบะฐ.                           โ
โ                                                               โ
โ   4,400 ัััะพะบ ะปะพะณะพะฒ. 10 ะผะธะฝัั ะฝะฐ ะฐะฝะฐะปะธะท.                      โ
โ   Anna ะถะดัั ะพัััั.                                            โ
โ                                                               โ
โ   ะะฐัะธะฝะฐะตะผ.                                                   โ
โ                                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง ะะพะดะณะพัะพะฒะบะฐ

**ะจะฐะณ 1: ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ัะฟะธะทะพะดะฐ**
```bash
cd ~/kernel-shadows/season-1-shell-foundations/episode-03-text-processing
```

**ะจะฐะณ 2: ะกะบะพะฟะธััะนัะต ะฐััะตัะฐะบัั**
```bash
mkdir -p ~/log_analysis
cp artifacts/access.log ~/log_analysis/
cp artifacts/suspicious_ips.txt ~/log_analysis/
cp artifacts/report_template.txt ~/log_analysis/
cd ~/log_analysis/
```

> ๐ก **ะะพะณััะถะตะฝะธะต:** ะัะตะดััะฐะฒััะต, ััะพ Anna ะดะฐะปะฐ ะฒะฐะผ ะดะพัััะฟ ะบ ัะตัะฒะตัั Viktor. ะะพะณะธ ัะถะต ัะบะพะฟะธัะพะฒะฐะฝั. ะัะฐะบะฐ ะธะดัั ะฟััะผะพ ัะตะนัะฐั.

---

## ๐ฏ ะะฐะดะฐะฝะธะต 1: ะะตัะฒัะน ะฒะทะณะปัะด ะฝะฐ ะปะพะณะธ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ 4,400+ ัััะพะบ. ะะต ัะธัะฐะน ะฒัััะฝัั. ะขั ะฝะต ัะตะปะพะฒะตะบ-ะฟะฐััะตั.        โ
โ ะะฐัะฝะธ ั ะฑะฐะทะพะฒัั ะบะพะผะฐะฝะด ะฟัะพัะผะพััะฐ.                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะพะผะฐะฝะดั ะดะปั ัะฐะทะฒะตะดะบะธ:

**ะะพัะผะพััะตัั ะฟะตัะฒัะต 10 ัััะพะบ:**
```bash
head access.log
```

**ะะพัะผะพััะตัั ะฟะพัะปะตะดะฝะธะต 10 ัััะพะบ:**
```bash
tail access.log
```

**ะกะบะพะปัะบะพ ะฒัะตะณะพ ัััะพะบ?**
```bash
wc -l access.log
```

**ะะพัััะฐะฝะธัะฝัะน ะฟัะพัะผะพัั (ะฒััะพะด: q):**
```bash
less access.log
```

### ะคะพัะผะฐั Apache Combined Log:
```
IP - - [timestamp] "METHOD /path HTTP/1.1" status size "referer" "user-agent"
```

ะัะธะผะตั:
```
192.168.1.100 - - [04/Oct/2025:10:23:45 +0000] "GET /index.html HTTP/1.1" 200 1024 "-" "Mozilla/5.0"
```

### ๐ ะะฐัะฐ ะทะฐะดะฐัะฐ:
1. ะัะบัะพะนัะต `access.log`
2. ะะทััะธัะต ัะพัะผะฐั ะทะฐะฟะธัะตะน
3. ะะฐะนะดะธัะต timestamp ะฐัะฐะบะธ: **03:47**

<details>
<summary>๐ก LILITH: "ะะต ะฟะพะฝัะป ัะพัะผะฐั? ะัะบัะพะน."</summary>

**ะะฐะทะฑะพั ัััะพะบะธ ะปะพะณะฐ:**
```
185.220.101.47 - - [04/Oct/2025:03:47:23 +0000] "GET /admin HTTP/1.1" 404 0 "-" "nmap NSE"
โ              โ โ  โ                            โ                    โ   โ  โ    โ
โ              โ โ  โ                            โ                    โ   โ  โ    โโ User-Agent (ะฟัะพะณัะฐะผะผะฐ)
โ              โ โ  โ                            โ                    โ   โ  โโ Referer (ะพัะบัะดะฐ ะฟัะธััะป)
โ              โ โ  โ                            โ                    โ   โโ ะะฐะทะผะตั ะพัะฒะตัะฐ (bytes)
โ              โ โ  โ                            โ                    โโ HTTP status code
โ              โ โ  โ                            โโ ะะตัะพะด ะธ ะฟััั ะทะฐะฟัะพัะฐ
โ              โ โ  โโ Timestamp (ะดะฐัะฐ/ะฒัะตะผั)
โ              โ โโ ะััะตะฝัะธัะธะบะฐัะธั (- = ะฝะตั)
โ              โโ Remote logname (- = ะฝะตั)
โโ IP ะฐะดัะตั ะบะปะธะตะฝัะฐ
```

**HTTP Status Codes:**
- `200` โ OK (ััะฟะตัะฝะพ)
- `401` โ Unauthorized (ััะตะฑัะตััั ะฐััะตะฝัะธัะธะบะฐัะธั)
- `403` โ Forbidden (ะดะพัััะฟ ะทะฐะฟัะตััะฝ)
- `404` โ Not Found (ัััะฐะฝะธัะฐ ะฝะต ะฝะฐะนะดะตะฝะฐ)
- `500` โ Internal Server Error
- `503` โ Service Unavailable (ัะตัะฒะตั ะฟะตัะตะณััะถะตะฝ)

</details>

---

## ๐ฏ ะะฐะดะฐะฝะธะต 2: grep โ ะะพะธัะบ patterns

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ ะัะฐะบะฐ ะฑัะปะฐ ะฒ 03:47. grep ะฟะพะบะฐะถะตั ัะพะปัะบะพ ัััะพะบะธ ั ััะธะผ         โ
โ timestamp. ะััะฐะปัะฝะพะต โ ััะผ.                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะฝะพะฒั grep:

**ะกะธะฝัะฐะบัะธั:**
```bash
grep "pattern" file.txt
```

**ะะฐะนัะธ ัััะพะบะธ ัะพะดะตัะถะฐัะธะต "03:47":**
```bash
grep "03:47" access.log
```

**ะะพััะธัะฐัั ัะบะพะปัะบะพ ัะฐะท ะฒัััะตัะฐะตััั:**
```bash
grep "03:47" access.log | wc -l
```

**Case-insensitive ะฟะพะธัะบ:**
```bash
grep -i "ERROR" access.log
```

**ะะฝะฒะตััะธัะพะฒะฐัั ะฟะพะธัะบ (ัััะพะบะธ ะะะ pattern):**
```bash
grep -v "200" access.log
```

### ๐ ะะฐัะฐ ะทะฐะดะฐัะฐ:
1. ะะฐะนะดะธัะต ะฒัะต ะทะฐะฟัะพัั ะฒ **03:47** (timestamp ะฐัะฐะบะธ)
2. ะะพััะธัะฐะนัะต ัะบะพะปัะบะพ ะธั
3. ะกะพััะฐะฝะธัะต ัะตะทัะปััะฐั ะฒ ัะฐะนะป `attack_window.txt`:
   ```bash
   grep "03:47" access.log > attack_window.txt
   ```

<details>
<summary>๐ก LILITH: "ะะต ัะพะปัะบะพ 03:47. ะัะฐะบะฐ ะผะพะณะปะฐ ะดะปะธัััั ะดะพะปััะต."</summary>

**ะะฐะนัะธ ะฝะตัะบะพะปัะบะพ timestamps:**
```bash
grep -E "03:47|03:48|03:49" access.log
```

`-E` = extended regex (regular expressions)

**Regex pattern ะดะปั ะดะธะฐะฟะฐะทะพะฝะฐ ัะฐัะพะฒ (03:00 - 04:59):**
```bash
grep -E "03:[0-9]{2}|04:[0-9]{2}" access.log
```

**ะะฐะนัะธ ะฒัะต 4xx ะธ 5xx ะพัะธะฑะบะธ:**
```bash
grep -E "HTTP/1\.[01]\" [45][0-9]{2}" access.log
```

</details>

---

## ๐ฏ ะะฐะดะฐะฝะธะต 3: Pipes โ ะกะพะตะดะธะฝัะตะผ ะบะพะผะฐะฝะดั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ Pipe (|) โ ัะฒะพะน ะปัััะธะน ะดััะณ. ะัะฒะพะด ะพะดะฝะพะน ะบะพะผะฐะฝะดั โ           โ
โ โ ะฒัะพะด ัะปะตะดัััะตะน. ะะพะฝะฒะตะนะตั ะพะฑัะฐะฑะพัะบะธ ะดะฐะฝะฝัั.                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะฝะพะฒั pipes:

**ะะพะฝัะตะฟัะธั:**
```
ะบะพะผะฐะฝะดะฐ1 | ะบะพะผะฐะฝะดะฐ2 | ะบะพะผะฐะฝะดะฐ3
```

Output ะบะพะผะฐะฝะดั1 โ Input ะบะพะผะฐะฝะดั2 โ Output ะบะพะผะฐะฝะดั2 โ Input ะบะพะผะฐะฝะดั3

**ะัะธะผะตั โ TOP-10 ัะฐะผัั ัะฐัััั ัััะพะบ:**
```bash
cat access.log | sort | uniq -c | sort -nr | head -10
โ               โ      โ          โ          โโ ะะตัะฒัะต 10
โ               โ      โ          โโ ะกะพััะธัะพะฒะบะฐ ะฟะพ ัะธัะปั (reverse)
โ               โ      โโ ะะพะดัััั ัะฝะธะบะฐะปัะฝัั (-c = count)
โ               โโ ะกะพััะธัะพะฒะบะฐ (ะดะปั uniq)
โโ ะงะธัะฐะตะผ ัะฐะนะป
```

### ะะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั ะดะปั pipes:

**`sort`** โ ัะพััะธัะพะฒะบะฐ ัััะพะบ
```bash
sort file.txt
sort -r file.txt          # reverse (ะฟะพ ัะฑัะฒะฐะฝะธั)
sort -n file.txt          # numeric sort
```

**`uniq`** โ ัะฝะธะบะฐะปัะฝัะต ัััะพะบะธ (ััะตะฑัะตั sort ะฟะตัะตะด!)
```bash
sort file.txt | uniq       # ัะพะปัะบะพ ัะฝะธะบะฐะปัะฝัะต
sort file.txt | uniq -c    # ั ะฟะพะดััััะพะผ ะฟะพะฒัะพัะตะฝะธะน
sort file.txt | uniq -d    # ัะพะปัะบะพ ะดัะฑะปะธะบะฐัั
```

**`wc`** โ ะฟะพะดัััั (word count)
```bash
wc -l file.txt            # ะบะพะปะธัะตััะฒะพ ัััะพะบ
wc -w file.txt            # ะบะพะปะธัะตััะฒะพ ัะปะพะฒ
wc -c file.txt            # ะบะพะปะธัะตััะฒะพ ะฑะฐะนั
```

**`head / tail`** โ ะฟะตัะฒัะต/ะฟะพัะปะตะดะฝะธะต N ัััะพะบ
```bash
head -20 file.txt         # ะฟะตัะฒัะต 20 ัััะพะบ
tail -20 file.txt         # ะฟะพัะปะตะดะฝะธะต 20 ัััะพะบ
```

### ๐ ะะฐัะฐ ะทะฐะดะฐัะฐ:
ะะฐะนะดะธัะต TOP-10 ัะฐะผัั ัะฐัััั User-Agent ะฒะพ ะฒัะตะผั ะฐัะฐะบะธ (03:47-04:00):

1. ะััะธะปััััะนัะต ะปะพะณะธ ะฐัะฐะบะธ
2. ะะทะฒะปะตะบะธัะต User-Agent (ะฟะพัะปะตะดะฝะตะต ะฟะพะปะต ะฒ ัััะพะบะต)
3. ะััะพััะธััะนัะต ะธ ะฟะพััะธัะฐะนัะต
4. ะัะฒะตะดะธัะต TOP-10

<details>
<summary>๐ก LILITH: "User-Agent ะผะตะถะดั ะฟะพัะปะตะดะฝะธะผะธ ะบะฐะฒััะบะฐะผะธ."</summary>

**ะะพะดัะบะฐะทะบะฐ:**

User-Agent โ ััะพ ะฟะพัะปะตะดะฝะตะต ะฟะพะปะต ะฒ ะบะฐะฒััะบะฐั:
```
"... ... " "User-Agent ะทะดะตัั"
```

ะะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั `awk` (ัะปะตะดัััะตะต ะทะฐะดะฐะฝะธะต) ะธะปะธ `grep` ั regex.

**ะฃะฟัะพััะฝะฝัะน ะฟะพะดัะพะด (ะตัะปะธ User-Agent ัะพะดะตัะถะธั "nmap"):**
```bash
grep "03:47" access.log | grep "nmap" | wc -l
```

**TOP ะฐัะฐะบัััะธั ะฟะพ User-Agent:**
```bash
grep -E "03:4[7-9]|04:0" access.log | \
  awk -F'"' '{print $6}' | \
  sort | uniq -c | sort -nr | head -10
```

</details>

---

## ๐ฏ ะะฐะดะฐะฝะธะต 4: awk โ ะะฑัะฐะฑะพัะบะฐ ะบะพะปะพะฝะพะบ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ awk โ ัะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั ะดะปั ะพะฑัะฐะฑะพัะบะธ ัะตะบััะฐ.             โ
โ ะะฐะทะฑะธะฒะฐะตั ัััะพะบะธ ะฝะฐ ะฟะพะปั. ะขั ะฑะตัััั ะฝัะถะฝะพะต. ะัะพััะพ.          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะฝะพะฒั awk:

**ะกะธะฝัะฐะบัะธั:**
```bash
awk '{print $1}' file.txt      # ะัะฒะตััะธ ะฟะตัะฒะพะต ะฟะพะปะต (ะบะพะปะพะฝะบั)
```

**ะะพะปั (fields) ัะฐะทะดะตะปััััั ะฟัะพะฑะตะปะฐะผะธ ะฟะพ ัะผะพะปัะฐะฝะธั:**
```
192.168.1.100 - - [04/Oct/2025:10:23:45 +0000] "GET /index.html HTTP/1.1" 200
โ             โ โ  โ                            โ
$1            $2$3 $4                           $6
```

**ะัะธะผะตัั:**

**ะัะฒะตััะธ ัะพะปัะบะพ IP ะฐะดัะตัะฐ:**
```bash
awk '{print $1}' access.log
```

**ะัะฒะตััะธ IP ะธ HTTP status:**
```bash
awk '{print $1, $9}' access.log
```

**ะัะฒะตััะธ IP ะธ timestamp:**
```bash
awk '{print $1, $4}' access.log
```

**ะะทะผะตะฝะธัั ัะฐะทะดะตะปะธัะตะปั (-F):**

ะะปั ัะฐะฑะพัั ั ะบะฐะฒััะบะฐะผะธ:
```bash
awk -F'"' '{print $2}' access.log    # HTTP request (ะผะตะถะดั ะฟะตัะฒัะผะธ ะบะฐะฒััะบะฐะผะธ)
awk -F'"' '{print $6}' access.log    # User-Agent (ะผะตะถะดั ััะตััะธะผะธ ะบะฐะฒััะบะฐะผะธ)
```

**ะฃัะปะพะฒะฝะฐั ัะธะปัััะฐัะธั:**
```bash
awk '$9 == 404 {print $1}' access.log          # ะขะพะปัะบะพ 404 ะพัะธะฑะบะธ
awk '$9 >= 400 {print $1, $9}' access.log      # ะัะต ะพัะธะฑะบะธ 4xx ะธ 5xx
```

**ะะพะดัััั:**
```bash
awk '{count[$1]++} END {for (ip in count) print count[ip], ip}' access.log
# ะะพะดััะธััะฒะฐะตั ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ ั ะบะฐะถะดะพะณะพ IP
```

### ๐ ะะฐัะฐ ะทะฐะดะฐัะฐ:
ะะทะฒะปะตะบะธัะต ะฒัะต IP ะฐะดัะตัะฐ ะธะท ะปะพะณะพะฒ ะฐัะฐะบะธ ะธ ะฝะฐะนะดะธัะต TOP-10 ะฐัะฐะบัััะธั.

**ะะปะฐะฝ:**
1. ะััะธะปัััะพะฒะฐัั ะปะพะณะธ ะฐัะฐะบะธ (grep "03:4")
2. ะะทะฒะปะตัั ัะพะปัะบะพ IP (awk '{print $1}')
3. ะััะพััะธัะพะฒะฐัั ะธ ะฟะพะดััะธัะฐัั (sort | uniq -c | sort -nr)
4. ะะทััั TOP-10 (head -10)
5. ะกะพััะฐะฝะธัั ะฒ `top_attackers.txt`

<details>
<summary>๐ก LILITH: "ะงะตัััะต ะบะพะผะฐะฝะดั ัะตัะตะท pipe. ะญะปะตะณะฐะฝัะฝะพ."</summary>

**ะะพะปะฝะฐั ะบะพะผะฐะฝะดะฐ:**
```bash
grep -E "03:4[7-9]|04:0" access.log | \
  awk '{print $1}' | \
  sort | \
  uniq -c | \
  sort -nr | \
  head -10 > top_attackers.txt
```

**ะงัะพ ะดะตะปะฐะตั:**
1. `grep` โ ัะธะปััััะตั ะปะพะณะธ ะฐัะฐะบะธ (03:47-04:09)
2. `awk` โ ะธะทะฒะปะตะบะฐะตั IP ะฐะดัะตัะฐ (ะฟะตัะฒะพะต ะฟะพะปะต)
3. `sort` โ ัะพััะธััะตั ะดะปั uniq
4. `uniq -c` โ ะฟะพะดััะธััะฒะฐะตั ะฟะพะฒัะพัะตะฝะธั
5. `sort -nr` โ ัะพััะธััะตั ะฟะพ ะบะพะปะธัะตััะฒั (ะฑะพะปััะต โ ะผะตะฝััะต)
6. `head -10` โ ะฑะตััั TOP-10
7. `>` โ ัะพััะฐะฝัะตั ะฒ ัะฐะนะป

**ะะตะทัะปััะฐั ะฑัะดะตั:**
```
    523 185.220.101.47
    156 91.234.56.78
    134 45.155.205.67
    ...
```

ะะตัะฒะฐั ะบะพะปะพะฝะบะฐ โ ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ, ะฒัะพัะฐั โ IP ะฐะดัะตั.

</details>

---

## ๐ฏ ะะฐะดะฐะฝะธะต 5: sed โ ะะฐะผะตะฝะฐ ัะตะบััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ sed โ stream editor. ะะฐัะพะดะธั ะธ ะทะฐะผะตะฝัะตั ัะตะบัั ะฝะฐ ะปะตัั.       โ
โ ะะต ะดะปั ััะพะน ะทะฐะดะฐัะธ ะบัะธัะธัะฝะพ, ะฝะพ ะทะฝะฐัั ะฝัะถะฝะพ.                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะฝะพะฒั sed:

**ะกะธะฝัะฐะบัะธั ะทะฐะผะตะฝั:**
```bash
sed 's/old/new/' file.txt              # ะะตัะฒะพะต ะฒัะพะถะดะตะฝะธะต ะฒ ัััะพะบะต
sed 's/old/new/g' file.txt             # ะัะต ะฒัะพะถะดะตะฝะธั (global)
sed 's/old/new/gi' file.txt            # Case-insensitive + global
```

**ะัะธะผะตัั:**

**ะะฐะผะตะฝะธัั "ERROR" ะฝะฐ "WARNING":**
```bash
sed 's/ERROR/WARNING/' log.txt
```

**ะฃะดะฐะปะธัั IP ะฐะดัะตัะฐ (ะทะฐะผะตะฝะธัั ะฝะฐ "[REDACTED]"):**
```bash
sed 's/[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}/[REDACTED]/' access.log
```

**ะฃะดะฐะปะธัั ะฟััััะต ัััะพะบะธ:**
```bash
sed '/^$/d' file.txt
```

**ะฃะดะฐะปะธัั ัััะพะบะธ ัะพะดะตัะถะฐัะธะต "bot":**
```bash
sed '/bot/d' access.log
```

**ะะทะผะตะฝะธัั ัะฐะนะป ะฝะฐะฟััะผัั (-i):**
```bash
sed -i 's/old/new/g' file.txt    # โ๏ธ ะััะพัะพะถะฝะพ! ะะทะผะตะฝัะตั ัะฐะนะป!
```

### ๐ ะะฐัะฐ ะทะฐะดะฐัะฐ:
ะกะพะทะดะฐะนัะต ะฐะฝะพะฝะธะผะธะทะธัะพะฒะฐะฝะฝัั ะฒะตััะธั `top_attackers.txt` โ `top_attackers_redacted.txt`, ะณะดะต IP ะทะฐะผะตะฝะตะฝั ะฝะฐ `[ATTACKER-XX]`:

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
```
    523 [ATTACKER-01]
    156 [ATTACKER-02]
    134 [ATTACKER-03]
    ...
```

<details>
<summary>๐ก LILITH: "sed + regex. ะะธะฑะพ ะฟัะพัะต โ ะฒัััะฝัั ะดะปั 10 ัััะพะบ."</summary>

**ะะฐัะธะฐะฝั 1: ะัััะฝัั (ะฟัะพัะต ะดะปั ะผะฐะปะพะณะพ ะพะฑััะผะฐ)**
```bash
cat top_attackers.txt | sed 's/185\.220\.101\.47/[ATTACKER-01 (Tor)]/' > top_attackers_redacted.txt
```

ะขะพัะบะธ ัะบัะฐะฝะธัััััั `\.` ะฒ regex.

**ะะฐัะธะฐะฝั 2: ะะฒัะพะผะฐัะธัะตัะบะธ (ะฟัะพะดะฒะธะฝัััะน)**

sed ะฝะต ัะผะตะตั ะฝัะผะตัะพะฒะฐัั ะทะฐะผะตะฝั ะฝะฐะฟััะผัั, ะฝะพ ะผะพะถะฝะพ ัะตัะตะท awk:
```bash
awk '{gsub(/[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+/, "[ATTACKER-" NR "]"); print}' top_attackers.txt > top_attackers_redacted.txt
```

**ะะปั ะทะฐะดะฐะฝะธั โ ะดะพััะฐัะพัะฝะพ ะฟัะพััะพ ะฟะพะฝะธะผะฐัั sed. ะะพะถะตัะต ะฟัะพะฟัััะธัั ะฐะฝะพะฝะธะผะธะทะฐัะธั ะธะปะธ ัะดะตะปะฐัั ัะฐััะธัะฝะพ.**

</details>

---

## ๐ฏ ะะฐะดะฐะฝะธะต 6: ะกะฒะตัะบะฐ ั ะฑะฐะทะพะน ัะณัะพะท

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ Anna ะดะฐะปะฐ ะฑะฐะทั ะธะทะฒะตััะฝัั ัะณัะพะท โ suspicious_ips.txt.          โ
โ ะกะบะพะปัะบะพ ะธะท ะฝะธั ะฒ ะฝะฐัะธั ะปะพะณะฐั? grep + while read loop.        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะฐะดะฐัะฐ:
ะัะพะฒะตัะธัั, ัะบะพะปัะบะพ IP ะธะท `suspicious_ips.txt` ะฟัะธัััััะฒััั ะฒ `access.log` ะฒะพ ะฒัะตะผั ะฐัะฐะบะธ.

### ะะพะดัะพะด 1: ะะดะธะฝ grep ะฝะฐ ัััะพะบั
```bash
grep "185.220.101.47" access.log | wc -l
grep "91.234.56.78" access.log | wc -l
# ... ะฒัััะฝัั ะดะปั ะบะฐะถะดะพะณะพ
```

โ ะะตัััะตะบัะธะฒะฝะพ.

### ะะพะดัะพะด 2: while read loop
```bash
while read ip; do
  count=$(grep "$ip" access.log | wc -l)
  if [[ $count -gt 0 ]]; then
    echo "$ip: $count ะทะฐะฟัะพัะพะฒ"
  fi
done < suspicious_ips.txt
```

โ ะะฒัะพะผะฐัะธะทะฐัะธั!

### ๐ ะะฐัะฐ ะทะฐะดะฐัะฐ:
ะกะพะทะดะฐะนัะต ัะบัะธะฟั `check_threats.sh`:

```bash
#!/bin/bash

echo "ะัะพะฒะตัะบะฐ ะฑะฐะทั ัะณัะพะท..."
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

found=0
while read -r ip; do
  # ะัะพะฟัััะธัั ะบะพะผะผะตะฝัะฐัะธะธ ะธ ะฟััััะต ัััะพะบะธ
  [[ "$ip" =~ ^#.*$ || -z "$ip" ]] && continue

  count=$(grep -c "$ip" access.log 2>/dev/null)

  if [[ $count -gt 0 ]]; then
    echo "โ๏ธ  $ip: $count ะทะฐะฟัะพัะพะฒ"
    ((found++))
  fi
done < suspicious_ips.txt

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "ะะฐะนะดะตะฝะพ ัะณัะพะท: $found"
```

**ะะฐะฟัััะธัะต:**
```bash
chmod +x check_threats.sh
./check_threats.sh
```

<details>
<summary>๐ก LILITH: "ะะฐะทะฑะพั ัะบัะธะฟัะฐ โ ะพัะบัะพะน ะตัะปะธ ะฝะต ะฟะพะฝัะป."</summary>

**ะะพัััะพัะฝัะน ัะฐะทะฑะพั:**

```bash
while read -r ip; do
```
- ะงะธัะฐะตั ัะฐะนะป ะฟะพัััะพัะฝะพ
- `-r` = ะฝะต ะพะฑัะฐะฑะฐััะฒะฐัั backslash ัะบัะฐะฝะธัะพะฒะฐะฝะธะต
- ะะฐะถะดะฐั ัััะพะบะฐ โ ะฟะตัะตะผะตะฝะฝะฐั `$ip`

```bash
[[ "$ip" =~ ^#.*$ || -z "$ip" ]] && continue
```
- Regex: `^#.*$` = ัััะพะบะฐ ะฝะฐัะธะฝะฐะตััั ั #
- `-z "$ip"` = ัััะพะบะฐ ะฟัััะฐั
- `||` = ะปะพะณะธัะตัะบะพะต ะะะ
- `&& continue` = ะตัะปะธ true, ะฟัะพะฟัััะธัั ะธัะตัะฐัะธั

```bash
count=$(grep -c "$ip" access.log 2>/dev/null)
```
- `$()` = command substitution (ัะตะทัะปััะฐั ะบะพะผะฐะฝะดั โ ะฟะตัะตะผะตะฝะฝะฐั)
- `grep -c` = count matches (ัะพะปัะบะพ ัะธัะปะพ, ะฝะต ัััะพะบะธ)
- `2>/dev/null` = ะฟะพะดะฐะฒะธัั ะพัะธะฑะบะธ (redirect stderr ะฒ /dev/null)

```bash
if [[ $count -gt 0 ]]; then
```
- `-gt` = greater than (ะฑะพะปััะต ัะตะผ)
- ะฃัะปะพะฒะธะต: ะตัะปะธ ะฝะฐะนะดะตะฝะพ > 0

```bash
((found++))
```
- ะัะธัะผะตัะธะบะฐ: ัะฒะตะปะธัะธัั ัััััะธะบ ะฝะฐ 1

```bash
done < suspicious_ips.txt
```
- `<` = redirect stdin ะธะท ัะฐะนะปะฐ
- ะคะฐะนะป ะฟะพะดะฐัััั ะฒ while loop

</details>

---

## ๐ฏ ะะฐะดะฐะฝะธะต 7: ะคะธะฝะฐะปัะฝัะน ะฟัะพะตะบั โ ะะฒัะพะผะฐัะธัะตัะบะธะน ะฐะฝะฐะปะธะทะฐัะพั ะปะพะณะพะฒ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ ะัั ััะพ ัั ะฒัััะธะป โ ะพะดะธะฝ ัะบัะธะฟั. log_analyzer.sh             โ
โ Anna ะฝัะถะตะฝ ะฟะพะปะฝัะน ะพัััั. ะะฒัะพะผะฐัะธะทะธััะน ะฒัั.                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะขัะตะฑะพะฒะฐะฝะธั:

**ะกะบัะธะฟั `log_analyzer.sh` ะดะพะปะถะตะฝ:**

1. **ะัะธะฝะธะผะฐัั ะฐัะณัะผะตะฝัั:**
   - `./log_analyzer.sh <access.log> <suspicious_ips.txt> <output_report.txt>`

2. **ะะฝะฐะปะธะทะธัะพะฒะฐัั ะปะพะณะธ ะธ ะฒัะฒะพะดะธัั:**
   - ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ
   - ะะพะปะธัะตััะฒะพ ัะฝะธะบะฐะปัะฝัั IP
   - ะะฐะฟัะพัั ะฒะพ ะฒัะตะผั ะฐัะฐะบะธ (03:00-05:00)
   - TOP-10 ะฐัะฐะบัััะธั IP
   - ะกะพะฒะฟะฐะดะตะฝะธั ั ะฑะฐะทะพะน ัะณัะพะท
   - HTTP ััะฐัััั (200, 404, 403, 500, 503)
   - TOP-5 User-Agents ะฐัะฐะบัััะธั

3. **ะกะพะทะดะฐะฒะฐัั ะพัััั** ะฝะฐ ะพัะฝะพะฒะต `report_template.txt`

4. **ะฆะฒะตัะฝะพะน ะฒัะฒะพะด** ะฒ ัะตัะผะธะฝะฐะป (ะพะฟัะธะพะฝะฐะปัะฝะพ)

### ะจะฐะฑะปะพะฝ ััะฐััะตัะฐ:

ะกะบะพะฟะธััะนัะต `starter.sh` ะธ ะดะพัะฐะฑะพัะฐะนัะต:

```bash
cp ~/kernel-shadows/season-1-shell-foundations/episode-03-text-processing/starter.sh log_analyzer.sh
chmod +x log_analyzer.sh
nano log_analyzer.sh
```

### ๐ ะกัััะบัััะฐ ัะบัะธะฟัะฐ:

```bash
#!/bin/bash

# ะัะพะฒะตัะบะฐ ะฐัะณัะผะตะฝัะพะฒ
if [[ $# -lt 3 ]]; then
  echo "Usage: $0 <access.log> <suspicious_ips.txt> <output_report>"
  exit 1
fi

LOG_FILE="$1"
THREATS_FILE="$2"
REPORT_FILE="$3"

# ะัะพะฒะตัะบะฐ ัััะตััะฒะพะฒะฐะฝะธั ัะฐะนะปะพะฒ
[[ ! -f "$LOG_FILE" ]] && { echo "Error: $LOG_FILE not found"; exit 1; }
[[ ! -f "$THREATS_FILE" ]] && { echo "Error: $THREATS_FILE not found"; exit 1; }

echo "Analyzing $LOG_FILE..."

# ะะฝะฐะปะธะท 1: ะะฑัะฐั ััะฐัะธััะธะบะฐ
total_requests=$(wc -l < "$LOG_FILE")
unique_ips=$(awk '{print $1}' "$LOG_FILE" | sort -u | wc -l)

echo "Total requests: $total_requests"
echo "Unique IPs: $unique_ips"

# ะะฝะฐะปะธะท 2: ะะฐะฟัะพัั ะฒะพ ะฒัะตะผั ะฐัะฐะบะธ (03:00-05:00)
attack_window=$(grep -E "03:[0-9]{2}|04:[0-9]{2}" "$LOG_FILE" | wc -l)
echo "Requests during attack window (03:00-05:00): $attack_window"

# ะะฝะฐะปะธะท 3: TOP-10 ะฐัะฐะบัััะธั IP
echo "Extracting TOP-10 attackers..."
grep -E "03:[0-9]{2}|04:[0-9]{2}" "$LOG_FILE" | \
  awk '{print $1}' | \
  sort | \
  uniq -c | \
  sort -nr | \
  head -10 > top_attackers.txt

cat top_attackers.txt

# ะะฝะฐะปะธะท 4: ะัะพะฒะตัะบะฐ ะฑะฐะทั ัะณัะพะท
echo "Checking threat intelligence..."
# TODO: ะะฐั ะบะพะด ะทะดะตัั

# ะะฝะฐะปะธะท 5: HTTP ััะฐัััั
echo "HTTP status codes:"
# TODO: ะะฐั ะบะพะด ะทะดะตัั

# ะะฝะฐะปะธะท 6: User-Agents ะฐัะฐะบัััะธั
echo "TOP-5 Attack User-Agents:"
# TODO: ะะฐั ะบะพะด ะทะดะตัั

# ะกะพะทะดะฐะฝะธะต ะพััััะฐ
echo "Generating report: $REPORT_FILE"
# TODO: ะะฐั ะบะพะด ะทะดะตัั

echo "Analysis complete!"
```

<details>
<summary>๐ ะะตัะตะฝะธะต (ัะตัะตัะตะฝั)</summary>

ะกะผ. `solution/log_analyzer.sh` ะดะปั ะฟะพะปะฝะพะณะพ ัะฐะฑะพัะตะณะพ ัะตัะตะฝะธั.

**ะะต ัะผะพััะธัะต ะดะพ ัะตั ะฟะพั, ะฟะพะบะฐ ะฝะต ะฟะพะฟัะพะฑะพะฒะฐะปะธ ัะฐะผะธ!**

</details>

---

## ๐ฏ ะะฐะดะฐะฝะธะต 8: ะะฐะฟััะบ ะธ ัะตััะธัะพะฒะฐะฝะธะต

### ะะฐะฟัััะธัะต ะฒะฐั ะฐะฝะฐะปะธะทะฐัะพั:

```bash
./log_analyzer.sh access.log suspicious_ips.txt final_report.txt
```

### ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:

```
Analyzing access.log...
Total requests: 4400
Unique IPs: 15
Requests during attack window (03:00-05:00): 1400

TOP-10 Attackers:
    523 185.220.101.47
    156 91.234.56.78
    ...

Checking threat intelligence...
โ๏ธ  185.220.101.47: 523 ะทะฐะฟัะพัะพะฒ (Tor exit node)
โ๏ธ  91.234.56.78: 156 ะทะฐะฟัะพัะพะฒ
Found 10 known threats in logs

HTTP Status Codes:
  200: 3200
  404: 800
  403: 250
  500: 100
  503: 50

TOP-5 Attack User-Agents:
    523 nmap NSE
    400 curl/7.58.0 (scanner)
    300 sqlmap/1.5.2
    156 Nikto/2.1.6
    100 masscan/1.0

Generating report: final_report.txt
โ Analysis complete!
```

### ะัะพะฒะตัััะต ะพัััั:

```bash
cat final_report.txt
```

ะะพะปะถะตะฝ ัะพะดะตัะถะฐัั ะฒัะต ะฝะฐะนะดะตะฝะฝัะต ะดะฐะฝะฝัะต ะฒ ััััะบัััะธัะพะฒะฐะฝะฝะพะผ ะฒะธะดะต.

---

## ๐ฏ ะะฐะดะฐะฝะธะต 9: ะะฒัะพัะตััั

ะะฐะฟัััะธัะต ะพัะธัะธะฐะปัะฝัะต ัะตััั:

```bash
cd ~/kernel-shadows/season-1-shell-foundations/episode-03-text-processing/tests
./test.sh
```

### ะขะตััั ะฟัะพะฒะตัััั:
1. โ ะกัััะบัััะฐ ัะบัะธะฟัะฐ (shebang, ััะฝะบัะธะธ)
2. โ ะะฑัะฐะฑะพัะบะฐ ะฐัะณัะผะตะฝัะพะฒ
3. โ ะะทะฒะปะตัะตะฝะธะต TOP-10 IP
4. โ ะัะพะฒะตัะบะฐ ะฑะฐะทั ัะณัะพะท
5. โ ะกะพะทะดะฐะฝะธะต ะพััััะฐ
6. โ Exit codes

---

## 05:30 โ ะัะธั ะฝะฐ ะขะฒะตััะบะพะน

ะั ะพัะฟัะฐะฒะปัะตัะต `final_report.txt` Anna.

30 ัะตะบัะฝะด. ะะฝะฐ ัะธัะฐะตั.

> **Anna:**
> *"ะฅะพัะพัะฐั ัะฐะฑะพัะฐ. 185.220.101.47 โ Tor exit node. Krylov ะปัะฑะธั ะฟัััะฐัััั ัะฐะผ."*

ะะฝะฐ ะฟะพะฒะพัะฐัะธะฒะฐะตััั ะบ ะดััะณะพะผั ะผะพะฝะธัะพัั:

> **Anna:**
> *"ะฏ ะทะฐะฑะปะพะบะธัะพะฒะฐะปะฐ ะฒัะต IP ะธะท ัะฒะพะตะณะพ ะพััััะฐ. Firewall ะพะฑะฝะพะฒะปัะฝ."*

ะะฐัะทะฐ.

> **Anna:**
> *"Viktor ัะบะฐะทะฐะป ัั ัะฟัะฐะฒะธะปัั ั ะดะฒัะผั ัะตััะฐะผะธ. ะขัะตัะธะน ะฑัะดะตั ัะปะพะถะฝะตะต."*

ะะฝะฐ ะฟะตัะตะดะฐัั ะฒะธะทะธัะบั:

```
Anna Kovaleva
Lead Forensics Expert
KERNEL SHADOWS Operation
Signal: +7-XXX-XXX-XXXX (encrypted)
```

> **Anna:**
> *"ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ ะบะพะผะฐะฝะดั, Max."*

ะขะตัะผะธะฝะฐะป ะผะธะณะฐะตั:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                               โ
โ   LILITH:                                                     โ
โ   ะะตะฟะปะพัะพ. ะขั ัะผะตะตัั ะฝะฐัะพะดะธัั patterns ะฒ ัะฐะพัะต.               โ
โ                                                               โ
โ   grep, awk, sed, pipes โ ัะฒะพั ะพััะถะธะต ัะตะฟะตัั.                 โ
โ   ะะพะณะธ ะฑะพะปััะต ะฝะต ะฟัะณะฐัั ัะตะฑั.                                 โ
โ                                                               โ
โ   ะะพ ััะพ ัะพะปัะบะพ ะฝะฐัะฐะปะพ.                                       โ
โ   Krylov ะทะฝะฐะตั ััะพ ะผั ะตะณะพ ะฒะธะดะธะผ. ะะฝ ะฐะดะฐะฟัะธััะตััั.             โ
โ                                                               โ
โ   ะกะปะตะดัััะธะน ัะฟะธะทะพะด: Package Management.                       โ
โ   ะะฐะผ ะฝัะถะฝั ะธะฝััััะผะตะฝัั. ะะฐััะพััะธะต ะธะฝััััะผะตะฝัั.               โ
โ                                                               โ
โ   ะะพ ะฒัััะตัะธ ะฒ ัะตะฝัั.                                         โ
โ                                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะขะตะพัะธั: ะกะฟัะฐะฒะพัะฝะธะบ ะบะพะผะฐะฝะด

<details>
<summary>๐ grep โ ะะพะธัะบ ัะตะบััะฐ</summary>

**ะัะฝะพะฒั:**
```bash
grep "pattern" file           # ะะพะธัะบ pattern
grep -i "pattern" file        # Case-insensitive
grep -v "pattern" file        # ะะฝะฒะตัั (ัััะพะบะธ ะะะ pattern)
grep -c "pattern" file        # ะขะพะปัะบะพ ะฟะพะดัััั
grep -n "pattern" file        # ะก ะฝะพะผะตัะฐะผะธ ัััะพะบ
grep -r "pattern" dir/        # ะะตะบัััะธะฒะฝะพ ะฒ ะดะธัะตะบัะพัะธะธ
```

**Regex:**
```bash
grep -E "pattern1|pattern2" file    # ะะะ
grep -E "^start" file               # ะะฐัะฐะปะพ ัััะพะบะธ
grep -E "end$" file                 # ะะพะฝะตั ัััะพะบะธ
grep -E "[0-9]+" file               # ะฆะธััั
```

**ะะพะปะตะทะฝัะต ะพะฟัะธะธ:**
- `-A 5` โ ะฟะพะบะฐะทะฐัั 5 ัััะพะบ ะะะกะะ ัะพะฒะฟะฐะดะตะฝะธั
- `-B 5` โ ะฟะพะบะฐะทะฐัั 5 ัััะพะบ ะะ ัะพะฒะฟะฐะดะตะฝะธั
- `-C 5` โ ะฟะพะบะฐะทะฐัั 5 ัััะพะบ ะะ ะธ ะะะกะะ
- `-o` โ ะฒัะฒะตััะธ ัะพะปัะบะพ ัะพะฒะฟะฐะดะฐัััั ัะฐััั (ะฝะต ะฒัั ัััะพะบั)
- `-l` โ ะฒัะฒะตััะธ ัะพะปัะบะพ ะธะผะตะฝะฐ ัะฐะนะปะพะฒ

</details>

<details>
<summary>๐ awk โ ะะฑัะฐะฑะพัะบะฐ ะบะพะปะพะฝะพะบ</summary>

**ะัะฝะพะฒั:**
```bash
awk '{print $1}' file              # ะะตัะฒะฐั ะบะพะปะพะฝะบะฐ
awk '{print $1, $3}' file          # 1-ั ะธ 3-ั ะบะพะปะพะฝะบะธ
awk '{print $NF}' file             # ะะพัะปะตะดะฝัั ะบะพะปะพะฝะบะฐ
awk '{print NR, $0}' file          # ะะพะผะตั ัััะพะบะธ + ะฒัั ัััะพะบะฐ
```

**ะะฐะทะดะตะปะธัะตะปะธ:**
```bash
awk -F: '{print $1}' /etc/passwd   # ะะฐะทะดะตะปะธัะตะปั :
awk -F'"' '{print $2}' file        # ะะฐะทะดะตะปะธัะตะปั "
```

**ะฃัะปะพะฒะธั:**
```bash
awk '$3 > 100' file                # 3-ั ะบะพะปะพะฝะบะฐ > 100
awk '$1 == "ERROR"' file           # 1-ั ะบะพะปะพะฝะบะฐ == "ERROR"
awk '/pattern/' file               # ะกััะพะบะธ ัะพะดะตัะถะฐัะธะต pattern
```

**ะะพะดัััั:**
```bash
awk '{sum += $1} END {print sum}' file           # ะกัะผะผะฐ 1-ะน ะบะพะปะพะฝะบะธ
awk '{count[$1]++} END {for (i in count) print i, count[i]}' file   # ะะพะดัััั ัะฝะธะบะฐะปัะฝัั
```

**ะัััะพะตะฝะฝัะต ะฟะตัะตะผะตะฝะฝัะต:**
- `$0` โ ะฒัั ัััะพะบะฐ
- `$1, $2, ...` โ ะฟะพะปั (ะบะพะปะพะฝะบะธ)
- `NF` โ ะบะพะปะธัะตััะฒะพ ะฟะพะปะตะน
- `NR` โ ะฝะพะผะตั ัะตะบััะตะน ัััะพะบะธ
- `FS` โ field separator (ัะฐะทะดะตะปะธัะตะปั)

</details>

<details>
<summary>๐ sed โ ะะฐะผะตะฝะฐ ัะตะบััะฐ</summary>

**ะัะฝะพะฒั:**
```bash
sed 's/old/new/' file              # ะะตัะฒะพะต ะฒัะพะถะดะตะฝะธะต
sed 's/old/new/g' file             # ะัะต ะฒัะพะถะดะตะฝะธั (global)
sed 's/old/new/gi' file            # Case-insensitive + global
sed -i 's/old/new/g' file          # ะะทะผะตะฝะธัั ัะฐะนะป ะฝะฐะฟััะผัั
```

**ะฃะดะฐะปะตะฝะธะต:**
```bash
sed '/pattern/d' file              # ะฃะดะฐะปะธัั ัััะพะบะธ ั pattern
sed '/^$/d' file                   # ะฃะดะฐะปะธัั ะฟััััะต ัััะพะบะธ
sed '1d' file                      # ะฃะดะฐะปะธัั ะฟะตัะฒัั ัััะพะบั
sed '1,5d' file                    # ะฃะดะฐะปะธัั ัััะพะบะธ 1-5
```

**ะััะฐะฒะบะฐ:**
```bash
sed '1i\text' file                 # ะััะฐะฒะธัั "text" ะฟะตัะตะด ัััะพะบะพะน 1
sed '1a\text' file                 # ะััะฐะฒะธัั "text" ะฟะพัะปะต ัััะพะบะธ 1
```

**Regex:**
```bash
sed 's/[0-9]\+/NUMBER/g' file      # ะะฐะผะตะฝะธัั ัะธััั ะฝะฐ "NUMBER"
sed 's/^/PREFIX/' file             # ะะพะฑะฐะฒะธัั PREFIX ะฒ ะฝะฐัะฐะปะพ ะบะฐะถะดะพะน ัััะพะบะธ
sed 's/$/SUFFIX/' file             # ะะพะฑะฐะฒะธัั SUFFIX ะฒ ะบะพะฝะตั ะบะฐะถะดะพะน ัััะพะบะธ
```

</details>

<details>
<summary>๐ Pipes & Redirects</summary>

**Pipes (|):**
```bash
command1 | command2                # Output cmd1 โ Input cmd2
cat file | grep "pattern"          # ะญะบะฒะธะฒะฐะปะตะฝัะฝะพ: grep "pattern" file
ps aux | grep "process"            # ะะฐะนัะธ ะฟัะพัะตัั
```

**Redirects:**
```bash
command > file.txt                 # ะัะฒะพะด โ file (ะฟะตัะตะทะฐะฟะธัั)
command >> file.txt                # ะัะฒะพะด โ file (ะดะพะฑะฐะฒะปะตะฝะธะต)
command < file.txt                 # ะะฒะพะด ะธะท file
command 2> errors.txt              # stderr โ errors.txt
command &> all_output.txt          # stdout + stderr โ all_output.txt
command 2>/dev/null                # ะะพะดะฐะฒะธัั ะพัะธะฑะบะธ
```

**ะะพะผะฑะธะฝะฐัะธะธ:**
```bash
command1 | command2 > output.txt   # Pipe + redirect
cat file | grep "pattern" | sort | uniq > result.txt
```

</details>

<details>
<summary>๐ ะะพะปะตะทะฝัะต ััะธะปะธัั</summary>

**`sort` โ ะกะพััะธัะพะฒะบะฐ:**
```bash
sort file.txt                      # ะะปัะฐะฒะธัะฝะฐั ัะพััะธัะพะฒะบะฐ
sort -r file.txt                   # Reverse (ะฟะพ ัะฑัะฒะฐะฝะธั)
sort -n file.txt                   # Numeric sort
sort -k2 file.txt                  # ะกะพััะธัะพะฒะบะฐ ะฟะพ 2-ะน ะบะพะปะพะฝะบะต
sort -u file.txt                   # ะฃะฝะธะบะฐะปัะฝัะต + ัะพััะธัะพะฒะบะฐ
```

**`uniq` โ ะฃะฝะธะบะฐะปัะฝัะต:**
```bash
sort file | uniq                   # ะฃะฝะธะบะฐะปัะฝัะต ัััะพะบะธ
sort file | uniq -c                # ะก ะฟะพะดััััะพะผ
sort file | uniq -d                # ะขะพะปัะบะพ ะดัะฑะปะธะบะฐัั
sort file | uniq -u                # ะขะพะปัะบะพ ัะฝะธะบะฐะปัะฝัะต (ะฝะต ะฟะพะฒัะพััััะธะตัั)
```

**`cut` โ ะััะตะทะฐัั ะบะพะปะพะฝะบะธ:**
```bash
cut -d: -f1 /etc/passwd            # 1-ั ะบะพะปะพะฝะบะฐ (ัะฐะทะดะตะปะธัะตะปั :)
cut -c1-10 file.txt                # ะกะธะผะฒะพะปั 1-10
cut -f1,3 file.txt                 # 1-ั ะธ 3-ั ะบะพะปะพะฝะบะธ (ัะฐะทะดะตะปะธัะตะปั TAB)
```

**`tr` โ ะะฐะผะตะฝะฐ ัะธะผะฒะพะปะพะฒ:**
```bash
echo "HELLO" | tr 'A-Z' 'a-z'      # Uppercase โ lowercase
tr -d '[:digit:]' < file.txt       # ะฃะดะฐะปะธัั ัะธััั
```

**`wc` โ ะะพะดัััั:**
```bash
wc -l file.txt                     # ะะพะปะธัะตััะฒะพ ัััะพะบ
wc -w file.txt                     # ะะพะปะธัะตััะฒะพ ัะปะพะฒ
wc -c file.txt                     # ะะพะปะธัะตััะฒะพ ะฑะฐะนั
```

**`head / tail`:**
```bash
head -20 file.txt                  # ะะตัะฒัะต 20 ัััะพะบ
tail -20 file.txt                  # ะะพัะปะตะดะฝะธะต 20 ัััะพะบ
tail -f log.txt                    # Follow (ะผะพะฝะธัะพัะธะฝะณ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ)
```

</details>

---

## ๐ ะงัะพ ะฒั ะธะทััะธะปะธ

### ะะพะผะฐะฝะดั:
- โ `grep` โ ะฟะพะธัะบ ัะตะบััะฐ, regex, ัะธะปัััะฐัะธั
- โ `awk` โ ะพะฑัะฐะฑะพัะบะฐ ะบะพะปะพะฝะพะบ, ะฟะพะดัััั, ััะปะพะฒะธั
- โ `sed` โ ะทะฐะผะตะฝะฐ ัะตะบััะฐ, stream editing
- โ `sort`, `uniq`, `wc` โ ัะพััะธัะพะฒะบะฐ, ัะฝะธะบะฐะปัะฝะพััั, ะฟะพะดัััั
- โ `head`, `tail` โ ะฟัะพัะผะพัั ะฝะฐัะฐะปะฐ/ะบะพะฝัะฐ ัะฐะนะปะพะฒ
- โ `cut`, `tr` โ ะพะฑัะฐะฑะพัะบะฐ ัะตะบััะฐ
- โ Pipes (`|`) ะธ redirects (`>`, `>>`, `<`)

### ะะฐะฒัะบะธ:
- โ ะะฝะฐะปะธะท ะฑะพะปััะธั ะปะพะณะพะฒ (4000+ ัััะพะบ)
- โ ะะทะฒะปะตัะตะฝะธะต patterns ะธะท ะดะฐะฝะฝัั
- โ ะะพัััะพะตะฝะธะต ะบะพะฝะฒะตะนะตัะพะฒ ะพะฑัะฐะฑะพัะบะธ (pipes)
- โ ะะฒัะพะผะฐัะธะทะฐัะธั ะฐะฝะฐะปะธะทะฐ ัะตัะตะท ัะบัะธะฟัั
- โ ะกะพะทะดะฐะฝะธะต ััััะบัััะธัะพะฒะฐะฝะฝัั ะพััััะพะฒ

### ะกัะถะตั:
- โ ะะตัะฒะฐั DDoS ะฐัะฐะบะฐ ะพั Krylov (03:47, 4 ะพะบััะฑัั)
- โ ะะฝะฐะบะพะผััะฒะพ ั Anna Kovaleva (forensics expert)
- โ ะะฐะนะดะตะฝ Tor exit node: 185.220.101.47
- โ ะั ะพัะธัะธะฐะปัะฝะพ ะฒ ะบะพะผะฐะฝะดะต KERNEL SHADOWS

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

**Online ะธะฝััััะผะตะฝัั:**
- **regex101.com** โ ัะตััะธัะพะฒะฐะฝะธะต ัะตะณัะปััะฝัั ะฒััะฐะถะตะฝะธะน
- **explainshell.com** โ ะพะฑัััะฝะตะฝะธะต shell ะบะพะผะฐะฝะด
- **awk.js.org** โ ะธะฝัะตัะฐะบัะธะฒะฝัะน awk tutorial

**Man pages:**
```bash
man grep
man awk
man sed
```

**ะะฝะธะณะธ:**
- "Sed & Awk" by Dale Dougherty (ะบะปะฐััะธะบะฐ)
- "The AWK Programming Language" by Aho, Kernighan, Weinberger

---

## โก๏ธ ะกะปะตะดัััะธะน ัะฟะธะทะพะด

**Episode 04: Package Management**
- APT, DPKG, Snap
- ะฃััะฐะฝะพะฒะบะฐ ะธะฝััััะผะตะฝัะพะฒ ะดะปั ะพะฟะตัะฐัะธะธ
- Dependencies hell
- ะะฒัะพะผะฐัะธะทะฐัะธั ัะตัะตะท ัะบัะธะฟัั

> *"ะะฝััััะผะตะฝัั ัะตัะฐัั. ะะตะท nmap ะธ tcpdump ัั ัะปะตะฟะพะน."* โ LILITH

---

## ๐ ะะฐั ะฟัะพะณัะตัั

```
Season 1: Shell & Foundations
โโโ โ Episode 01: Terminal Awakening
โโโ โ Episode 02: Shell Scripting Basics
โโโ โ Episode 03: Text Processing Masters โ ะั ะทะดะตัั
โโโ ๐ Episode 04: Package Management
```

**ะัะพัะตะฝั ะทะฐะฒะตััะตะฝะธั Season 1:** 75%

---

<div align="center">

**KERNEL SHADOWS**
*Episode 03 โ Text Processing Masters*

*"ะะพะณะธ ะฝะต ะฒััั. ะัะดะธ โ ะฒััั."* โ LILITH

[โฌ ะ ะฝะฐัะฐะปั](#episode-03-text-processing-masters)

</div>

