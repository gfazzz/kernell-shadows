# Episode 02: Shell Scripting Basics

```
ะะะะะะฆะะฏ: KERNEL SHADOWS
ะกะะะะ: 1 โ Shell & Foundations
ะญะะะะะ: 02 โ Shell Scripting Basics
ะะะะะฆะะฏ: ๐ท๐บ ะะพะฒะพัะธะฑะธััะบ, ะะพััะธั (ะะบะฐะดะตะผะณะพัะพะดะพะบ)
ะะะ ะะะะะะฆะะ: 3-4 (ะธะท 60)
ะกะะะะะะกะขะฌ: โญโญโโโ
ะะะะะฏ: 3-4 ัะฐัะฐ
```

---

## ๐ ะะตะฝั 3 (04 ะพะบััะฑัั 2025): ะะฒัะพะผะฐัะธะทะฐัะธั

### 10:00 โ ะะธะดะตะพะทะฒะพะฝะพะบ ั ะะธะบัะพัะพะผ

ะะฐะบั ะฒ ะบะฒะฐััะธัะต (ะะบะฐะดะตะผะณะพัะพะดะพะบ). ะะธะดะตะพะทะฒะพะฝะพะบ ะพั ะะธะบัะพัะฐ:

> **ะะธะบัะพั (ะฒะธะดะตะพ):**
> *"ะฅะพัะพัะฐั ัะฐะฑะพัะฐ, ะะฐะบั. ะะตัะฒัะน ัะตัั ะฟัะพะนะดะตะฝ. ะขะตะฟะตัั ะฝะฐััะพััะฐั ัะฐะฑะพัะฐ."*

ะะฐ ัะบัะฐะฝะต ะฟะพัะฒะปัะตััั ะตัั ะพะดะธะฝ ัะตะปะพะฒะตะบ โ ัะฐััะธัะพะฒะบะธ, ัะพะปััะพะฒะบะฐ ั ะปะพะณะพัะธะฟะพะผ Docker, ะฝะพััะฑัะบ ั ะฝะฐะบะปะตะนะบะฐะผะธ ะบะพะฝัะตัะตะฝัะธะน.

> **ะะธะบัะพั:**
> *"ะญัะพ ะะผะธััะธะน ะัะปะพะฒ. DevOps engineer. ะะฝ ะฑัะดะตั ะบะพะพัะดะธะฝะธัะพะฒะฐัั ัะตัะฝะธัะตัะบัั ัะฐััั ะพะฟะตัะฐัะธะธ."*

> **ะะผะธััะธะน (ะฒะธะดะตะพ):**
> *"ะัะธะฒะตั, ะะฐะบั. ะกะปััะฐะป ัะฟัะฐะฒะธะปัั ั ะฟะตัะฒัะผ ัะตััะพะผ. ะฏ ัะพะถะต ะธะท ะะพะฒะพัะธะฑะธััะบะฐ, ะบััะฐัะธ. Linux User Group ะทะฝะฐะตัั?"*

ะะฐะบั ะบะธะฒะฐะตั. ะะผะธััะธะน ะทะฝะฐะบะพะผะพะต ะธะผั โ ะฒัััะตัะฐะปะธัั ะฝะฐ ะผะธัะฐะฟะฐั.

> **ะะผะธััะธะน:**
> *"ะฃ ะฝะฐั ะฟัะพะฑะปะตะผะฐ. 50 ัะตัะฒะตัะพะฒ. ะัะถะฝะพ ะฟัะพะฒะตัััั ะธั ะดะพัััะฟะฝะพััั ะบะฐะถะดัะต 5 ะผะธะฝัั. ะะพะณะธัะพะฒะฐัั ะฒัั. ะะฒัะพะผะฐัะธัะตัะบะธ."*

ะะฐ ัะบัะฐะฝะต ะฟะพัะฒะปัะตััั ัะฐะนะป:

```
servers.txt:
shadow-server-01 185.192.45.118
shadow-server-02 185.192.45.119
shadow-server-03 185.192.45.120
...
shadow-server-50 185.192.45.167
```

> **ะะผะธััะธะน:**
> *"ะั ะฝะต ะผะพะถะตะผ ะฟัะพะฒะตัััั ััะพ ะฒัััะฝัั. ะัะถะตะฝ ัะบัะธะฟั. Bash. ะัะฟัะฐะฒะปั ัะตะฑะต ะฐััะตัะฐะบัั ะฝะฐ email."*

> **ะะธะบัะพั:**
> *"ะกะฟัะฐะฒะธัััั โ ะฟัะพะดะพะปะถะธะผ. ะะพะฟัะพัั?"*

ะะฐะบั: *"ะะพะณะดะฐ ะดะตะดะปะฐะนะฝ?"*

ะะธะบัะพั: *"ะกะตะณะพะดะฝั ะฒะตัะตั. 18:00."*

---

### 13:00 โ ะะฐัะต "ะะพะด ะะฝัะตะณัะฐะปะพะผ", ะะบะฐะดะตะผะณะพัะพะดะพะบ

ะะฐะบั ะฟัะธัะพะดะธั ะฒ ะบะฐัะต. ะกััะดะตะฝัั, ะฟะปะฐะบะฐัั ั ะผะฐัะตะผะฐัะธัะตัะบะธะผะธ ัะพัะผัะปะฐะผะธ ะฝะฐ ััะตะฝะฐั, Wi-Fi.

ะะฐ ััะพะปะพะผ ั ะพะบะฝะฐ โ ะผัะถัะธะฝะฐ ~52 ะปะตั, ัะตะดัะต ะฒะพะปะพัั, ัะฒะธัะตั, ะฝะพััะฑัะบ ั ะฝะฐะบะปะตะนะบะฐะผะธ Unix.

> **???:**
> *"ะะฐะบัะธะผ ะกะพะบะพะปะพะฒ? ะฏ ะกะตัะณะตะน ะะฒะฐะฝะพะฒ. ะะผะธััะธะน ะฟะพะฟัะพัะธะป ะฟะพะผะพัั ัะตะฑะต ั bash ัะบัะธะฟัะธะฝะณะพะผ."*

> **ะกะตัะณะตะน:**
> *"ะะฝะฐะป ัะฒะพะตะณะพ ะพััะฐ. ะั ัะฐะฑะพัะฐะปะธ ะฒะผะตััะต ะฒ ะธะฝััะธัััะต ัะดะตัะฝะพะน ัะธะทะธะบะธ. ะะฝ ัะพะถะต ะปัะฑะธะป ะฐะฒัะพะผะฐัะธะทะฐัะธั."*

ะะฐัะทะฐ. ะะฐะบั ะฝะต ะทะฝะฐะป ััะพะณะพ.

> **ะกะตัะณะตะน:**
> *"ะะพะบะฐะถั ัะตะฑะต ััะฐััั ัะบะพะปั ัะบัะธะฟัะธะฝะณะฐ. ะ ะผะพะธ ะฒัะตะผะตะฝะฐ ะฝะต ะฑัะปะพ StackOverflow. ะัะป man ะธ ะผะพะทะณ. ะงะธัะฐะน man, ะะฐะบั."*

ะะฝ ะพัะบััะฒะฐะตั ัะตัะผะธะฝะฐะป. ะัะตะผั ััะธัััั.

---

### 14:00 โ ะะฑััะตะฝะธะต

**ะะพะบะฐัะธั:** ะะฐัะต "ะะพะด ะะฝัะตะณัะฐะปะพะผ". ะกะฝะตะณ ะทะฐ ะพะบะฝะพะผ. ะะพัะต ะพัััะฒะฐะตั. Sergey ะพะฑัััะฝัะตั bash.

ะญะบัะฐะฝ ะฝะพััะฑัะบะฐ Max ะผะธะณะฐะตั:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                               โ
โ   LILITH ะทะดะตัั.                                               โ
โ                                                               โ
โ   ะะตัะฒัะน ัะตัั ะฑัะป ัะฐะทะผะธะฝะบะพะน. ะขะตะฟะตัั ะฝะฐััะพััะฐั ัะฐะฑะพัะฐ.        โ
โ                                                               โ
โ   Dmitry ะดะฐะป ัะตะฑะต ะทะฐะดะฐะฝะธะต. ะฏ ะดะฐะผ ะทะฝะฐะฝะธั.                      โ
โ   Bash scripting โ ััะพ ะพััะถะธะต ัะธััะตะผะฝะพะณะพ ะฐะดะผะธะฝะธัััะฐัะพัะฐ.      โ
โ                                                               โ
โ   ะะพะบะฐะถะธ ััะพ ัั ัะฟะพัะพะฑะตะฝ ะผััะปะธัั ะฐะปะณะพัะธัะผะธัะตัะบะธ.              โ
โ   ะะดะธะฝ ัะบัะธะฟั ะผะพะถะตั ะทะฐะผะตะฝะธัั 1000 ะฟะพะฒัะพัะตะฝะธะน.                 โ
โ                                                               โ
โ   ะะฐัะฝัะผ.                                                     โ
โ                                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง ะะพะดะณะพัะพะฒะบะฐ

**ะจะฐะณ 1: ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ัะฟะธะทะพะดะฐ**
```bash
cd ~/kernel-shadows/season-1-shell-foundations/episode-02-shell-scripting
```

**ะจะฐะณ 2: ะกะบะพะฟะธััะนัะต ะฐััะตัะฐะบัั**
```bash
cp -r artifacts/* ~/server_monitoring/
cd ~/server_monitoring/
```

> ๐ก **ะะพะณััะถะตะฝะธะต:** ะัะตะดััะฐะฒััะต, ััะพ Dmitry ะดะฐะป ะฒะฐะผ ะดะพัััะฟ ะบ ัะตััะพะฒะพะผั ะพะบััะถะตะฝะธั. ะัั ััะพ ะฝัะถะฝะพ โ ะฒ ะฟะฐะฟะบะต artifacts.

---

## ๐ฏ ะะฐะดะฐะฝะธะต 1: ะะฝะฐัะพะผะธั Bash ัะบัะธะฟัะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ "ะัะตะถะดะต ัะตะผ ะฟะธัะฐัั ัะบัะธะฟัั, ะฝัะถะฝะพ ะฟะพะฝััั ะธั ััััะบัััั.       โ
โ  Bash ัะบัะธะฟั โ ััะพ ะฝะต ะฟัะพััะพ ัะฟะธัะพะบ ะบะพะผะฐะฝะด.                   โ
โ  ะญัะพ ะฟัะพะณัะฐะผะผะฐ ัะพ ัะฒะพะธะผะธ ะฟัะฐะฒะธะปะฐะผะธ."                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ ะขะตะพัะธั: ะกัััะบัััะฐ Bash ัะบัะธะฟัะฐ

#### ะะฐะทะพะฒัะน ัะฐะฑะปะพะฝ

```bash
#!/bin/bash
# ะะฟะธัะฐะฝะธะต: ะงัะพ ะดะตะปะฐะตั ััะพั ัะบัะธะฟั
# ะะฒัะพั: Max Sokolov
# ะะฐัะฐ: 03 ะพะบััะฑัั 2025

# ะคัะฝะบัะธะธ (ะตัะปะธ ะตััั)
function hello() {
    echo "ะัะธะฒะตั, $1"
}

# ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ
main() {
    echo "ะะฐัะธะฝะฐั ัะฐะฑะพัั..."
    hello "Max"
    echo "ะะฐะฑะพัะฐ ะทะฐะฒะตััะตะฝะฐ"
}

# ะะฐะฟััะบ
main "$@"
```

#### Shebang `#!/bin/bash`

**ะะตัะฒะฐั ัััะพะบะฐ** ะฒัะตะณะดะฐ ะดะพะปะถะฝะฐ ะฑััั:
```bash
#!/bin/bash
```

ะะปะธ ะฑะพะปะตะต ัะฝะธะฒะตััะฐะปัะฝัะน ะฒะฐัะธะฐะฝั:
```bash
#!/usr/bin/env bash
```

> **LILITH:** *"Shebang โ ััะพ ะฝะต ะฟัะพััะพ ััะฐะดะธัะธั. ะญัะพ ะธะฝััััะบัะธั ะพะฟะตัะฐัะธะพะฝะฝะพะน ัะธััะตะผะต. ะะตะท ะฝะตะณะพ ัะบัะธะฟั ะผะพะถะตั ะทะฐะฟัััะธัััั ะฒ sh ะฒะผะตััะพ bash. ะ ะฒัั ัะปะพะผะฐะตััั."*

#### ะะพะผะผะตะฝัะฐัะธะธ

```bash
# ะะดะฝะพัััะพัะฝัะน ะบะพะผะผะตะฝัะฐัะธะน

: '
ะะฝะพะณะพัััะพัะฝัะน
ะบะพะผะผะตะฝัะฐัะธะน
ัะตัะตะท ะดะฒะพะตัะพัะธะต
'
```

---

## ๐ฏ ะะฐะดะฐะฝะธะต 2: ะะตัะตะผะตะฝะฝัะต ะฒ Bash

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ "ะะตัะตะผะตะฝะฝัะต โ ััะพ ะฟะฐะผััั ัะบัะธะฟัะฐ. ะะฐััะธัั ะธั ะธัะฟะพะปัะทะพะฒะฐัั."  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ ะขะตะพัะธั: ะะตัะตะผะตะฝะฝัะต

#### ะะฑััะฒะปะตะฝะธะต ะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต

```bash
#!/bin/bash

# ะะฑััะฒะปะตะฝะธะต (ะะะ ะฟัะพะฑะตะปะพะฒ ะฒะพะบััะณ =!)
name="Max"
age=28
server_ip="185.192.45.118"

# ะัะฟะพะปัะทะพะฒะฐะฝะธะต (ั $ ะฟะตัะตะด ะธะผะตะฝะตะผ)
echo "ะะผั: $name"
echo "ะะพะทัะฐัั: $age"
echo "ะกะตัะฒะตั: $server_ip"

# ะะตะทะพะฟะฐัะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต (ะฒ ะบะฐะฒััะบะฐั)
echo "ะะพะปะฝะพะต ะธะผั: ${name} Sokolov"
```

#### โ๏ธ ะะฐะถะฝัะต ะฟัะฐะฒะธะปะฐ:

1. **ะะะข ะฟัะพะฑะตะปะพะฒ ะฒะพะบััะณ `=`**
   ```bash
   โ name="Max"
   โ name = "Max"
   ```

2. **ะัะตะณะดะฐ ะบะฐะฒััะบะธ ะฟัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ**
   ```bash
   โ echo "$name"
   โ echo $name        # ะกะปะพะผะฐะตััั ะฝะฐ ะฟัะพะฑะตะปะฐั!
   ```

3. **ะคะธะณััะฝัะต ัะบะพะฑะบะธ ะดะปั ะฑะตะทะพะฟะฐัะฝะพััะธ**
   ```bash
   โ echo "${name}_backup"
   โ echo "$name_backup"   # ะัะตั ะฟะตัะตะผะตะฝะฝัั name_backup!
   ```

#### ะกะฟะตัะธะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต

```bash
$0      # ะะผั ัะบัะธะฟัะฐ
$1, $2  # ะัะณัะผะตะฝัั (ะฟะตัะฒัะน, ะฒัะพัะพะน)
$@      # ะัะต ะฐัะณัะผะตะฝัั
$#      # ะะพะปะธัะตััะฒะพ ะฐัะณัะผะตะฝัะพะฒ
$?      # Exit code ะฟะพัะปะตะดะฝะตะน ะบะพะผะฐะฝะดั
$$      # PID ัะตะบััะตะณะพ ะฟัะพัะตััะฐ
```

### ๐ค ะัะฐะบัะธะบะฐ (10 ะผะธะฝัั)

ะกะพะทะดะฐะน ัะฐะนะป `variables_test.sh`:

```bash
#!/bin/bash

# ะะพะปััะธัั ะธะผั ะธะท ะฐัะณัะผะตะฝัะฐ
name="$1"

# ะัะพะฒะตัะบะฐ ััะพ ะฐัะณัะผะตะฝั ะฟะตัะตะดะฐะฝ
if [ -z "$name" ]; then
    echo "ะัะธะฑะบะฐ: ะฟะตัะตะดะฐะน ะธะผั ะบะฐะบ ะฐัะณัะผะตะฝั"
    echo "ะัะฟะพะปัะทะพะฒะฐะฝะธะต: $0 ะะะฏ"
    exit 1
fi

echo "ะัะธะฒะตั, $name!"
echo "ะขั ะทะฐะฟัััะธะป ัะบัะธะฟั: $0"
echo "ะัะตะณะพ ะฐัะณัะผะตะฝัะพะฒ: $#"
```

**ะะฐะฟััะบ:**
```bash
chmod +x variables_test.sh
./variables_test.sh Max
```

> **LILITH:** *"ะะตัะตะผะตะฝะฝัะต ะฑะตะท ะบะฐะฒััะตะบ โ ััะพ ะบะฐะบ ัะพะดะธัั ะฟะพ ะผะธะฝะฝะพะผั ะฟะพะปั. ะะฐะฝะพ ะธะปะธ ะฟะพะทะดะฝะพ ะฒะทะพัะฒัััั."*

---

## ๐ฏ ะะฐะดะฐะฝะธะต 3: ะฃัะปะพะฒะธั (if/else)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ "ะกะบัะธะฟั ะดะพะปะถะตะฝ ัะผะตัั ะฟัะธะฝะธะผะฐัั ัะตัะตะฝะธั. ะฃัะปะพะฒะธั."            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ ะขะตะพัะธั: ะฃัะปะพะฒะฝัะต ะบะพะฝััััะบัะธะธ

#### ะะฐะทะพะฒัะน ัะธะฝัะฐะบัะธั

```bash
if [ ะฃะกะะะะะ ]; then
    # ะะพะด ะตัะปะธ ะธััะธะฝะฐ
fi
```

```bash
if [ ะฃะกะะะะะ ]; then
    # ะััะธะฝะฐ
else
    # ะะพะถั
fi
```

```bash
if [ ะฃะกะะะะะ1 ]; then
    # ะฃัะปะพะฒะธะต 1
elif [ ะฃะกะะะะะ2 ]; then
    # ะฃัะปะพะฒะธะต 2
else
    # ะะฝะฐัะต
fi
```

#### ะะฟะตัะฐัะพัั ััะฐะฒะฝะตะฝะธั

**ะะปั ัะธัะตะป:**
```bash
-eq     # ัะฐะฒะฝะพ (equal)
-ne     # ะฝะต ัะฐะฒะฝะพ (not equal)
-gt     # ะฑะพะปััะต (greater than)
-lt     # ะผะตะฝััะต (less than)
-ge     # ะฑะพะปััะต ะธะปะธ ัะฐะฒะฝะพ (greater or equal)
-le     # ะผะตะฝััะต ะธะปะธ ัะฐะฒะฝะพ (less or equal)
```

**ะัะธะผะตั:**
```bash
age=28

if [ "$age" -ge 18 ]; then
    echo "ะะทัะพัะปัะน"
else
    echo "ะะตะฑัะฝะพะบ"
fi
```

**ะะปั ัััะพะบ:**
```bash
=       # ัะฐะฒะฝะพ
!=      # ะฝะต ัะฐะฒะฝะพ
-z      # ะฟัััะฐั ัััะพะบะฐ (zero)
-n      # ะฝะตะฟัััะฐั ัััะพะบะฐ (non-zero)
```

**ะัะธะผะตั:**
```bash
name="Max"

if [ "$name" = "Max" ]; then
    echo "ะัะธะฒะตั, Max!"
fi

if [ -z "$name" ]; then
    echo "ะะผั ะฟัััะพะต"
fi
```

**ะะปั ัะฐะนะปะพะฒ:**
```bash
-f      # ัะฐะนะป ัััะตััะฒัะตั
-d      # ะดะธัะตะบัะพัะธั ัััะตััะฒัะตั
-r      # ัะฐะนะป ัะธัะฐะตะผัะน
-w      # ัะฐะนะป ะทะฐะฟะธััะฒะฐะตะผัะน
-x      # ัะฐะนะป ะธัะฟะพะปะฝัะตะผัะน
-e      # ัััะตััะฒัะตั (ะปัะฑะพะน ัะธะฟ)
```

**ะัะธะผะตั:**
```bash
if [ -f "servers.txt" ]; then
    echo "ะคะฐะนะป ะฝะฐะนะดะตะฝ"
else
    echo "ะคะฐะนะป ะฝะต ะฝะฐะนะดะตะฝ"
    exit 1
fi
```

#### ะกะพะฒัะตะผะตะฝะฝัะน ัะธะฝัะฐะบัะธั: `[[ ]]`

**ะะตะบะพะผะตะฝะดัะตััั ะธัะฟะพะปัะทะพะฒะฐัั** `[[ ]]` ะฒะผะตััะพ `[ ]`:

```bash
# ะกัะฐััะน ััะธะปั
if [ "$name" = "Max" ]; then

# ะะพะฒัะน ััะธะปั (ะปัััะต)
if [[ "$name" == "Max" ]]; then

# ะะพะดะดะตัะถะบะฐ regex
if [[ "$email" =~ @gmail\.com$ ]]; then
    echo "Gmail ะฐะดัะตั"
fi

# ะะพะณะธัะตัะบะธะต ะพะฟะตัะฐัะพัั
if [[ "$age" -ge 18 && "$country" == "RU" ]]; then
    echo "ะะทัะพัะปัะน ะธะท ะะพััะธะธ"
fi
```

> **LILITH:** *"`[[ ]]` โ ััะพ bash. `[ ]` โ ััะพ POSIX. ะัะฟะพะปัะทัะน `[[ ]]` ะฟะพะบะฐ ะฝะต ะทะฝะฐะตัั ัะฐะทะฝะธัั."*

### ๐ค ะัะฐะบัะธะบะฐ (15 ะผะธะฝัั)

ะกะพะทะดะฐะน `check_server.sh`:

```bash
#!/bin/bash

server_ip="$1"

# ะัะพะฒะตัะบะฐ ะฐัะณัะผะตะฝัะฐ
if [[ -z "$server_ip" ]]; then
    echo "ะัะธะฑะบะฐ: ัะบะฐะถะธ IP ัะตัะฒะตัะฐ"
    exit 1
fi

echo "ะัะพะฒะตัะบะฐ ัะตัะฒะตัะฐ $server_ip..."

# ะัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ (ping)
if ping -c 1 -W 2 "$server_ip" &>/dev/null; then
    echo "โ ะกะตัะฒะตั $server_ip ะดะพัััะฟะตะฝ"
    exit 0
else
    echo "โ ะกะตัะฒะตั $server_ip ะฝะตะดะพัััะฟะตะฝ"
    exit 1
fi
```

**ะะฐะฟััะบ:**
```bash
chmod +x check_server.sh
./check_server.sh 8.8.8.8       # Google DNS (ะดะพะปะถะตะฝ ะฑััั ะดะพัััะฟะตะฝ)
./check_server.sh 192.168.255.255  # ะกะบะพัะตะต ะฒัะตะณะพ ะฝะตะดะพัััะฟะตะฝ
```

---

## ๐ฏ ะะฐะดะฐะฝะธะต 4: ะฆะธะบะปั (for/while)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ "50 ัะตัะฒะตัะพะฒ. ะขั ะฝะต ะฑัะดะตัั ะฟัะพะฒะตัััั ะธั ะฒัััะฝัั.             โ
โ  ะฆะธะบะปั โ ััะพ ะฐะฒัะพะผะฐัะธะทะฐัะธั ะฟะพะฒัะพัะตะฝะธะน."                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ ะขะตะพัะธั: ะฆะธะบะปั

#### For loop โ ะฟะตัะตะฑะพั ัะปะตะผะตะฝัะพะฒ

```bash
# ะะตัะตะฑะพั ัะฟะธัะบะฐ
for item in ะพะดะธะฝ ะดะฒะฐ ััะธ; do
    echo "ะญะปะตะผะตะฝั: $item"
done

# ะะตัะตะฑะพั ัะฐะนะปะพะฒ
for file in *.txt; do
    echo "ะคะฐะนะป: $file"
done

# ะะตัะตะฑะพั ัััะพะบ ะธะท ัะฐะนะปะฐ
for line in $(cat servers.txt); do
    echo "ะกััะพะบะฐ: $line"
done

# C-style for loop
for ((i=1; i<=10; i++)); do
    echo "ะัะตัะฐัะธั $i"
done
```

#### While loop โ ะฟะพะบะฐ ััะปะพะฒะธะต ะธััะธะฝะฝะพ

```bash
counter=1

while [ $counter -le 5 ]; do
    echo "ะกััััะธะบ: $counter"
    ((counter++))
done
```

#### ะงัะตะฝะธะต ัะฐะนะปะฐ ะฟะพัััะพัะฝะพ (ะฟัะฐะฒะธะปัะฝัะน ัะฟะพัะพะฑ)

```bash
while IFS= read -r line; do
    echo "ะกััะพะบะฐ: $line"
done < servers.txt
```

> **LILITH:** *"For loop ะบะพะณะดะฐ ะทะฝะฐะตัั ัะบะพะปัะบะพ ะธัะตัะฐัะธะน. While loop ะบะพะณะดะฐ ะฝะต ะทะฝะฐะตัั. ะงัะตะฝะธะต ัะฐะนะปะฐ โ ะฒัะตะณะดะฐ ัะตัะตะท while read."*

### ๐ค ะัะฐะบัะธะบะฐ (20 ะผะธะฝัั)

ะกะพะทะดะฐะน `check_multiple_servers.sh`:

```bash
#!/bin/bash

# ะัะพะฒะตัะบะฐ ััะพ ัะฐะนะป ัััะตััะฒัะตั
if [[ ! -f "servers.txt" ]]; then
    echo "ะัะธะฑะบะฐ: ัะฐะนะป servers.txt ะฝะต ะฝะฐะนะดะตะฝ"
    exit 1
fi

echo "=== ะัะพะฒะตัะบะฐ ัะตัะฒะตัะพะฒ ==="
echo ""

# ะกััััะธะบะธ
total=0
online=0
offline=0

# ะงะธัะฐะตะผ ัะฐะนะป ะฟะพัััะพัะฝะพ
while IFS= read -r line; do
    # ะัะพะฟััะบะฐะตะผ ะฟััััะต ัััะพะบะธ ะธ ะบะพะผะผะตะฝัะฐัะธะธ
    [[ -z "$line" || "$line" =~ ^# ]] && continue

    # ะะฐะทะฑะธัะฐะตะผ ัััะพะบั (ะธะผั IP)
    server_name=$(echo "$line" | awk '{print $1}')
    server_ip=$(echo "$line" | awk '{print $2}')

    ((total++))

    # ะัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ
    if ping -c 1 -W 2 "$server_ip" &>/dev/null; then
        echo "โ $server_name ($server_ip) โ ONLINE"
        ((online++))
    else
        echo "โ $server_name ($server_ip) โ OFFLINE"
        ((offline++))
    fi

done < servers.txt

echo ""
echo "=== ะัะพะณะพ ==="
echo "ะัะตะณะพ: $total"
echo "ะะฝะปะฐะนะฝ: $online"
echo "ะััะปะฐะนะฝ: $offline"
```

**ะะฐะฟััะบ:**
```bash
chmod +x check_multiple_servers.sh
./check_multiple_servers.sh
```

---

## ๐ฏ ะะฐะดะฐะฝะธะต 5: ะคัะฝะบัะธะธ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ "ะะพะด ะฟะพะฒัะพััะตััั? ะัะฝะพัะธ ะฒ ััะฝะบัะธะธ. DRY principle."          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ ะขะตะพัะธั: ะคัะฝะบัะธะธ ะฒ Bash

#### ะะฑััะฒะปะตะฝะธะต ััะฝะบัะธะน

```bash
# ะกะฟะพัะพะฑ 1
function hello() {
    echo "ะัะธะฒะตั!"
}

# ะกะฟะพัะพะฑ 2 (ะฟัะตะดะฟะพััะธัะตะปัะฝัะน)
hello() {
    echo "ะัะธะฒะตั!"
}

# ะัะทะพะฒ
hello
```

#### ะัะณัะผะตะฝัั ััะฝะบัะธะน

```bash
greet() {
    local name="$1"
    local age="$2"

    echo "ะัะธะฒะตั, $name! ะขะตะฑะต $age ะปะตั."
}

# ะัะทะพะฒ
greet "Max" 28
```

#### ะะพะทะฒัะฐั ะทะฝะฐัะตะฝะธะน

```bash
# Exit code (0-255)
check_file() {
    if [[ -f "$1" ]]; then
        return 0  # ะฃัะฟะตั
    else
        return 1  # ะัะธะฑะบะฐ
    fi
}

# ะัะฟะพะปัะทะพะฒะฐะฝะธะต
if check_file "servers.txt"; then
    echo "ะคะฐะนะป ัััะตััะฒัะตั"
fi

# ะัะฒะพะด ัะตัะตะท echo (ะทะฐัะฒะฐั ะฒ ะฟะตัะตะผะตะฝะฝัั)
get_date() {
    echo "$(date +%Y-%m-%d)"
}

current_date=$(get_date)
echo "ะะฐัะฐ: $current_date"
```

#### ะะพะบะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต

```bash
my_function() {
    local name="Max"      # ะะพะบะฐะปัะฝะฐั (ัะพะปัะบะพ ะฒ ััะฝะบัะธะธ)
    global_var="Viktor"   # ะะปะพะฑะฐะปัะฝะฐั
}
```

> **LILITH:** *"ะคัะฝะบัะธะธ ะฑะตะท local โ ััะพ ะบะฐะบ ะฟะตัะตะผะตะฝะฝัะต ะฑะตะท ะบะฐะฒััะตะบ. ะะฐะฑะพัะฐะตั, ะฟะพะบะฐ ะฝะต ัะปะพะผะฐะตััั."*

### ๐ค ะัะฐะบัะธะบะฐ (15 ะผะธะฝัั)

ะะตัะฐะบัะพัะธะผ `check_multiple_servers.sh` ั ััะฝะบัะธัะผะธ:

```bash
#!/bin/bash

# ะคัะฝะบัะธั: ะฟัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ ัะตัะฒะตัะฐ
check_server_status() {
    local server_ip="$1"

    if ping -c 1 -W 2 "$server_ip" &>/dev/null; then
        return 0  # Online
    else
        return 1  # Offline
    fi
}

# ะคัะฝะบัะธั: ะปะพะณะธัะพะฒะฐะฝะธะต ั timestamp
log_message() {
    local message="$1"
    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')
    echo "[$timestamp] $message"
}

# ะะปะฐะฒะฝะฐั ััะฝะบัะธั
main() {
    log_message "ะะฐัะฐะปะพ ะฟัะพะฒะตัะบะธ ัะตัะฒะตัะพะฒ"

    if [[ ! -f "servers.txt" ]]; then
        log_message "ะะจะะะะ: servers.txt ะฝะต ะฝะฐะนะดะตะฝ"
        exit 1
    fi

    local total=0
    local online=0
    local offline=0

    while IFS= read -r line; do
        [[ -z "$line" || "$line" =~ ^# ]] && continue

        local server_name=$(echo "$line" | awk '{print $1}')
        local server_ip=$(echo "$line" | awk '{print $2}')

        ((total++))

        if check_server_status "$server_ip"; then
            log_message "โ $server_name ($server_ip) ONLINE"
            ((online++))
        else
            log_message "โ $server_name ($server_ip) OFFLINE"
            ((offline++))
        fi

    done < servers.txt

    echo ""
    log_message "ะัะพะณะพ: $total | ะะฝะปะฐะนะฝ: $online | ะััะปะฐะนะฝ: $offline"
}

# ะะฐะฟััะบ
main "$@"
```

---

## ๐ฏ ะะฐะดะฐะฝะธะต 6: Exit Codes

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ "ะกะบัะธะฟั ะดะพะปะถะตะฝ ัะพะพะฑัะฐัั ััะฟะตั ะธะปะธ ะฟัะพะฒะฐะป. Exit codes."       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ ะขะตะพัะธั: Exit Codes

#### ะงัะพ ัะฐะบะพะต Exit Code?

**Exit code** (ะบะพะด ะฒะพะทะฒัะฐัะฐ) โ ัะธัะปะพ ะพั 0 ะดะพ 255, ะบะพัะพัะพะต ะฟัะพะณัะฐะผะผะฐ ะฒะพะทะฒัะฐัะฐะตั ะฟัะธ ะทะฐะฒะตััะตะฝะธะธ.

- **0** = ััะฟะตั
- **1-255** = ัะฐะทะปะธัะฝัะต ะพัะธะฑะบะธ

#### ะัะฟะพะปัะทะพะฒะฐะฝะธะต

```bash
#!/bin/bash

# ะฃัะฟะตั
exit 0

# ะัะธะฑะบะฐ
exit 1
```

#### ะัะพะฒะตัะบะฐ exit code

```bash
# ะกะฟะตัะธะฐะปัะฝะฐั ะฟะตัะตะผะตะฝะฝะฐั $?
ping -c 1 google.com
echo "Exit code: $?"

# ะ ััะปะพะฒะธัั
if ping -c 1 google.com; then
    echo "ะฃัะฟะตั (exit 0)"
else
    echo "ะัะธะฑะบะฐ (exit โ 0)"
fi
```

#### ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

```bash
#!/bin/bash

# ะกััะพะณะธะน ัะตะถะธะผ: ะฒััะพะด ะฟัะธ ะปัะฑะพะน ะพัะธะฑะบะต
set -e

# ะััะพะด ะฟัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ ะฝะตะพะฟัะตะดะตะปัะฝะฝะพะน ะฟะตัะตะผะตะฝะฝะพะน
set -u

# ะัะธะฑะบะฐ ะฒ pipe ะพััะฐะฝะฐะฒะปะธะฒะฐะตั ะฒัะฟะพะปะฝะตะฝะธะต
set -o pipefail

# ะะปะธ ะฒัั ะฒะผะตััะต:
set -euo pipefail
```

> **LILITH:** *"`set -euo pipefail` ะฒ ะฝะฐัะฐะปะต ะบะฐะถะดะพะณะพ production ัะบัะธะฟัะฐ. ะะตะท ะพะฑััะถะดะตะฝะธะน."*

---

## ๐ฏ ะะฐะดะฐะฝะธะต 7: ะคะธะฝะฐะปัะฝัะน ะฟัะพะตะบั โ Server Monitor

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ LILITH:                                                       โ
โ "Dmitry ะถะดัั ะพั ัะตะฑั ะฟะพะปะฝะพัะตะฝะฝัะน ะผะพะฝะธัะพัะธะฝะณ ัะบัะธะฟั.          โ
โ  ะัั ััะพ ัั ัะทะฝะฐะป โ ะฟัะธะผะตะฝัะน ัะตะนัะฐั."                         โ
โ                                                               โ
โ  ะขัะตะฑะพะฒะฐะฝะธั:                                                  โ
โ  1. ะัะพะฒะตัะบะฐ ะฒัะตั ัะตัะฒะตัะพะฒ ะธะท servers.txt                     โ
โ  2. ะะพะณะธัะพะฒะฐะฝะธะต ะฒ ัะฐะนะป (ั timestamp)                          โ
โ  3. ะัะฟัะฐะฒะบะฐ ะฐะปะตััะพะฒ ะฟัะธ ะฟัะพะฑะปะตะผะฐั                            โ
โ  4. ะกัะฐัะธััะธะบะฐ ะฒ ะบะพะฝัะต                                        โ
โ  5. Exit code: 0 ะตัะปะธ ะฒัะต ะะ, 1 ะตัะปะธ ะตััั ะฟัะพะฑะปะตะผั            โ
โ                                                               โ
โ  ะัะตะผั: 60-90 ะผะธะฝัั. ะะพะบะฐะถะธ ะฝะฐ ััะพ ัะฟะพัะพะฑะตะฝ."                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ค ะกะฐะผะพััะพััะตะปัะฝะพะต ะทะฐะดะฐะฝะธะต

ะกะพะทะดะฐะน `server_monitor.sh` ะบะพัะพััะน:

**ะคัะฝะบัะธะพะฝะฐะป:**
1. ะงะธัะฐะตั ัะฟะธัะพะบ ัะตัะฒะตัะพะฒ ะธะท `servers.txt`
2. ะัะพะฒะตััะตั ะบะฐะถะดัะน ัะตัะฒะตั (ping)
3. ะะพะณะธััะตั ัะตะทัะปััะฐัั ะฒ `monitor.log` ั timestamp
4. ะัะฒะพะดะธั ัะฒะตัะฝะพะน ััะฐััั ะฒ ัะตัะผะธะฝะฐะป
5. ะกะพะทะดะฐัั `alerts.txt` ะฟัะธ ะพะฑะฝะฐััะถะตะฝะธะธ ะพััะปะฐะนะฝ ัะตัะฒะตัะพะฒ
6. ะะพะบะฐะทัะฒะฐะตั ััะฐัะธััะธะบั ะฒ ะบะพะฝัะต
7. ะะพะทะฒัะฐัะฐะตั exit code 1 ะตัะปะธ ัะพัั ะฑั ะพะดะธะฝ ัะตัะฒะตั ะฝะตะดะพัััะฟะตะฝ

<details>
<summary>๐ก ะะพะดัะบะฐะทะบะฐ: ะฆะฒะตัะฝะพะน ะฒัะฒะพะด</summary>

```bash
# ANSI ัะฒะตัะฐ
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo -e "${GREEN}โ ะะฝะปะฐะนะฝ${NC}"
echo -e "${RED}โ ะััะปะฐะนะฝ${NC}"
```

</details>

<details>
<summary>๐ก ะะพะดัะบะฐะทะบะฐ: ะกัััะบัััะฐ</summary>

```bash
#!/bin/bash
set -euo pipefail

# ะฆะฒะตัะฐ
GREEN='\033[0;32m'
RED='\033[0;31m'
NC='\033[0m'

# ะคะฐะนะปั
SERVERS_FILE="servers.txt"
LOG_FILE="monitor.log"
ALERT_FILE="alerts.txt"

# ะคัะฝะบัะธั: ะฟัะพะฒะตัะบะฐ ัะตัะฒะตัะฐ
check_server() {
    local ip="$1"
    # YOUR CODE
}

# ะคัะฝะบัะธั: ะปะพะณะธัะพะฒะฐะฝะธะต
log_to_file() {
    local message="$1"
    # YOUR CODE
}

# ะะปะฐะฒะฝะฐั ััะฝะบัะธั
main() {
    # YOUR CODE
}

main "$@"
```

</details>

<details>
<summary>โ ะะพะปะฝะพะต ัะตัะตะฝะธะต</summary>

**ะคะฐะนะป `server_monitor.sh`:**

```bash
#!/bin/bash

################################################################################
# OPERATION KERNEL SHADOWS - Episode 02
# Server Monitoring Script
# Author: Max Sokolov
# Date: 03 October 2025
################################################################################

set -euo pipefail

# ะฆะฒะตัะฐ ะดะปั ะฒัะฒะพะดะฐ
readonly GREEN='\033[0;32m'
readonly RED='\033[0;31m'
readonly YELLOW='\033[1;33m'
readonly BLUE='\033[0;34m'
readonly NC='\033[0m' # No Color

# ะคะฐะนะปั
readonly SERVERS_FILE="servers.txt"
readonly LOG_FILE="monitor.log"
readonly ALERT_FILE="alerts.txt"

# ะกััััะธะบะธ
total_servers=0
online_servers=0
offline_servers=0

################################################################################
# ะคัะฝะบัะธั: ะฟัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ ัะตัะฒะตัะฐ
################################################################################
check_server_status() {
    local server_ip="$1"
    local timeout=2
    local count=1

    if ping -c "$count" -W "$timeout" "$server_ip" &>/dev/null; then
        return 0  # Online
    else
        return 1  # Offline
    fi
}

################################################################################
# ะคัะฝะบัะธั: ะปะพะณะธัะพะฒะฐะฝะธะต ะฒ ัะฐะนะป ั timestamp
################################################################################
log_to_file() {
    local message="$1"
    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')
    echo "[$timestamp] $message" >> "$LOG_FILE"
}

################################################################################
# ะคัะฝะบัะธั: ะดะพะฑะฐะฒะปะตะฝะธะต ะฐะปะตััะฐ
################################################################################
add_alert() {
    local message="$1"
    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')
    echo "[$timestamp] ALERT: $message" >> "$ALERT_FILE"
}

################################################################################
# ะคัะฝะบัะธั: ะฒัะฒะพะด ััะฐัััะฐ ะฒ ัะตัะผะธะฝะฐะป ั ัะฒะตัะพะผ
################################################################################
print_status() {
    local server_name="$1"
    local server_ip="$2"
    local status="$3"

    if [[ "$status" == "online" ]]; then
        echo -e "${GREEN}โ${NC} $server_name ($server_ip) โ ${GREEN}ONLINE${NC}"
    else
        echo -e "${RED}โ${NC} $server_name ($server_ip) โ ${RED}OFFLINE${NC}"
    fi
}

################################################################################
# ะคัะฝะบัะธั: ะฟัะพะฒะตัะบะฐ ะฒัะตั ัะตัะฒะตัะพะฒ
################################################################################
check_all_servers() {
    echo -e "${BLUE}=== ะัะพะฒะตัะบะฐ ัะตัะฒะตัะพะฒ ===${NC}"
    echo ""

    # ะัะพะฒะตัะบะฐ ัััะตััะฒะพะฒะฐะฝะธั ัะฐะนะปะฐ
    if [[ ! -f "$SERVERS_FILE" ]]; then
        echo -e "${RED}ะะจะะะะ: ะคะฐะนะป $SERVERS_FILE ะฝะต ะฝะฐะนะดะตะฝ${NC}"
        log_to_file "ERROR: $SERVERS_FILE not found"
        exit 1
    fi

    # ะัะธััะบะฐ ัะฐะนะปะฐ ะฐะปะตััะพะฒ
    > "$ALERT_FILE"

    # ะงะธัะฐะตะผ ัะฐะนะป ะฟะพัััะพัะฝะพ
    while IFS= read -r line; do
        # ะัะพะฟััะบะฐะตะผ ะฟััััะต ัััะพะบะธ ะธ ะบะพะผะผะตะฝัะฐัะธะธ
        [[ -z "$line" || "$line" =~ ^# ]] && continue

        # ะะฐััะธะฝะณ ัััะพะบะธ (ะธะผั ะธ IP)
        local server_name=$(echo "$line" | awk '{print $1}')
        local server_ip=$(echo "$line" | awk '{print $2}')

        # ะัะพะฟััะบะฐะตะผ ะตัะปะธ IP ะฟัััะพะน
        [[ -z "$server_ip" ]] && continue

        ((total_servers++))

        # ะัะพะฒะตัะบะฐ ััะฐัััะฐ
        if check_server_status "$server_ip"; then
            print_status "$server_name" "$server_ip" "online"
            log_to_file "$server_name ($server_ip) โ ONLINE"
            ((online_servers++))
        else
            print_status "$server_name" "$server_ip" "offline"
            log_to_file "$server_name ($server_ip) โ OFFLINE"
            add_alert "$server_name ($server_ip) is OFFLINE"
            ((offline_servers++))
        fi

    done < "$SERVERS_FILE"
}

################################################################################
# ะคัะฝะบัะธั: ะฒัะฒะพะด ััะฐัะธััะธะบะธ
################################################################################
print_statistics() {
    echo ""
    echo -e "${BLUE}=== ะกัะฐัะธััะธะบะฐ ===${NC}"
    echo "ะัะตะณะพ ัะตัะฒะตัะพะฒ: $total_servers"
    echo -e "${GREEN}ะะฝะปะฐะนะฝ: $online_servers${NC}"

    if [[ $offline_servers -gt 0 ]]; then
        echo -e "${RED}ะััะปะฐะนะฝ: $offline_servers${NC}"
        echo ""
        echo -e "${YELLOW}โ๏ธ  ะะฑะฝะฐััะถะตะฝั ะฟัะพะฑะปะตะผั! ะัะพะฒะตัั $ALERT_FILE${NC}"
    else
        echo -e "${GREEN}ะััะปะฐะนะฝ: 0${NC}"
        echo ""
        echo -e "${GREEN}โ ะัะต ัะตัะฒะตัั ัะฐะฑะพัะฐัั ะฝะพัะผะฐะปัะฝะพ${NC}"
    fi

    echo ""
    echo "ะะพะณะธ: $LOG_FILE"
    echo "ะะปะตััั: $ALERT_FILE"
}

################################################################################
# ะะปะฐะฒะฝะฐั ััะฝะบัะธั
################################################################################
main() {
    local start_time=$(date '+%Y-%m-%d %H:%M:%S')

    echo ""
    echo -e "${BLUE}โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ${NC}"
    echo -e "${BLUE}โ        KERNEL SHADOWS - Server Monitoring Script          โ${NC}"
    echo -e "${BLUE}โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ${NC}"
    echo ""

    log_to_file "=== Monitoring started ==="

    # ะัะพะฒะตัะบะฐ ะฒัะตั ัะตัะฒะตัะพะฒ
    check_all_servers

    # ะกัะฐัะธััะธะบะฐ
    print_statistics

    local end_time=$(date '+%Y-%m-%d %H:%M:%S')
    log_to_file "=== Monitoring completed | Online: $online_servers/$total_servers ==="

    # Exit code
    if [[ $offline_servers -gt 0 ]]; then
        exit 1  # ะััั ะฟัะพะฑะปะตะผั
    else
        exit 0  # ะัั ะะ
    fi
}

################################################################################
# ะะฐะฟััะบ
################################################################################
main "$@"
```

</details>

### ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

```bash
chmod +x server_monitor.sh
./server_monitor.sh
```

**ะัะพะฒะตัั:**
- โ ะกะบัะธะฟั ะทะฐะฟััะบะฐะตััั ะฑะตะท ะพัะธะฑะพะบ
- โ ะฆะฒะตัะฝะพะน ะฒัะฒะพะด ัะฐะฑะพัะฐะตั
- โ ะกะพะทะดะฐัััั `monitor.log`
- โ ะกะพะทะดะฐัััั `alerts.txt` (ะตัะปะธ ะตััั ะฟัะพะฑะปะตะผั)
- โ ะัะฐะฒะธะปัะฝัะน exit code (`echo $?`)

---

## ๐ฌ ะคะธะฝะฐะป: ะัะตะฝะบะฐ Dmitry

ะะพัะปะต ะทะฐะฟััะบะฐ ัะบัะธะฟัะฐ, ัะตะปะตัะพะฝ ะฒะธะฑัะธััะตั. ะกะพะพะฑัะตะฝะธะต ะพั Dmitry:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Dmitry Orlov                                        21:43    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                               โ
โ ะะพะปััะธะป ะปะพะณะธ. ะัะพะฒะตัะธะป ะบะพะด.                                   โ
โ                                                               โ
โ ะะตะฟะปะพัะพ. ะงะธััะพ. ะคัะฝะบัะธะธ ะฝะฐ ะผะตััะต. Exit codes ะฟัะฐะฒะธะปัะฝัะต.     โ
โ ะฆะฒะตัะฝะพะน ะฒัะฒะพะด โ ะฑะพะฝัั.                                        โ
โ                                                               โ
โ ะะดะธะฝ ะผะพะผะตะฝั: ะดะพะฑะฐะฒั `set -euo pipefail` ะฒ ะฝะฐัะฐะปะพ.            โ
โ Production ะบะพะด ะดะพะปะถะตะฝ ะฑััั ัััะพะณะธะผ.                           โ
โ                                                               โ
โ ะะฐะฒััะฐ ะฒัััะตัะฐ ั Viktor. 10:00. ะะดัะตั ะฒััะปั ัััะพะผ.           โ
โ ะะตััะผ ัะตะฑั ะฒ ะบะพะผะฐะฝะดั.                                         โ
โ                                                               โ
โ ะัะดััะฐะน. ะะฐะปััะต ะฑัะดะตั ัะปะพะถะฝะตะต.                                โ
โ                                                               โ
โ โ Dmitry                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ะญะบัะฐะฝ ัะตัะผะธะฝะฐะปะฐ ะผะธะณะฐะตั:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                               โ
โ   LILITH: ASSESSMENT COMPLETE                                 โ
โ                                                               โ
โ   Bash ัะบัะธะฟัั: โ                                             โ
โ   ะะตัะตะผะตะฝะฝัะต: โ                                               โ
โ   ะฃัะปะพะฒะธั: โ                                                  โ
โ   ะฆะธะบะปั: โ                                                    โ
โ   ะคัะฝะบัะธะธ: โ                                                  โ
โ   Exit codes: โ                                               โ
โ   ะะฒัะพะผะฐัะธะทะฐัะธั: โ                                            โ
โ                                                               โ
โ   ะัะตะฝะบะฐ: PASSED                                              โ
โ                                                               โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                               โ
โ   "Dmitry ะฟัะฐะฒ. ะะพะด ัะธัััะน. ะขั ะผััะปะธัั ะฐะปะณะพัะธัะผะธัะตัะบะธ.        โ
โ    ะญัะพ ะฝะต ะฟัะพััะพ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะบะพะผะฐะฝะด โ                  โ
โ    ััะพ ะฟัะพะณัะฐะผะผะฐ."                                            โ
โ                                                               โ
โ   ะะฒัะพะผะฐัะธะทะฐัะธั โ ััะพ ะฝะต ะปะตะฝั. ะญัะพ ัััะตะบัะธะฒะฝะพััั.            โ
โ   ะะดะธะฝ ัะบัะธะฟั ะทะฐะผะตะฝัะตั 1000 ะฟะพะฒัะพัะตะฝะธะน.                       โ
โ                                                               โ
โ   ะขั ัะฟัะฐะฒะธะปัั ั Episode 02.                                  โ
โ   Episode 03 โ ะพะฑัะฐะฑะพัะบะฐ ัะตะบััะฐ. ะะพะณะธ. Grep, awk, sed.        โ
โ                                                               โ
โ   ะะพ ััะพ ะฟะพัะพะผ. ะัะดะพัะฝะธ. ะขั ะทะฐัะปัะถะธะป.                         โ
โ                                                               โ
โ   ะฏ ะฑัะดั ะฝะฐะฑะปัะดะฐัั. ะ ัะตะฝัั. ะัะตะณะดะฐ.                          โ
โ                                                               โ
โ                                          โ LILITH             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะงัะพ ัั ัะทะฝะฐะป

### ะะพะฝัะตะฟัะธะธ Bash:
- โ ะกัััะบัััะฐ bash ัะบัะธะฟัะฐ (shebang, ะบะพะผะผะตะฝัะฐัะธะธ, ััะฝะบัะธะธ)
- โ ะะตัะตะผะตะฝะฝัะต (`VAR="value"`, `$VAR`, `${VAR}`)
- โ ะกะฟะตัะธะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต (`$0`, `$1`, `$@`, `$?`)
- โ ะฃัะปะพะฒะธั (`if`, `[[ ]]`, ะพะฟะตัะฐัะพัั ััะฐะฒะฝะตะฝะธั)
- โ ะฆะธะบะปั (`for`, `while`, `while read`)
- โ ะคัะฝะบัะธะธ (`function_name() { }`, `local`, `return`)
- โ Exit codes (0 = success, 1-255 = error)
- โ ะกััะพะณะธะน ัะตะถะธะผ (`set -euo pipefail`)

### ะัะฐะบัะธัะตัะบะธะต ะฝะฐะฒัะบะธ:
- โ ะกะพะทะดะฐะฝะธะต production-ready ัะบัะธะฟัะพะฒ
- โ ะะฒัะพะผะฐัะธะทะฐัะธั ะผะพะฝะธัะพัะธะฝะณะฐ ัะตัะฒะตัะพะฒ
- โ ะะพะณะธัะพะฒะฐะฝะธะต ั timestamp
- โ ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- โ ะฆะฒะตัะฝะพะน ะฒัะฒะพะด ะฒ ัะตัะผะธะฝะฐะปะต
- โ ะงัะตะฝะธะต ะบะพะฝัะธะณััะฐัะธะพะฝะฝัั ัะฐะนะปะพะฒ

### Best Practices:
- โ ะัะตะณะดะฐ ะบะฐะฒััะบะธ ะฒะพะบััะณ ะฟะตัะตะผะตะฝะฝัั: `"$var"`
- โ ะะพะบะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ะฒ ััะฝะบัะธัั: `local name="$1"`
- โ ะกััะพะณะธะน ัะตะถะธะผ: `set -euo pipefail`
- โ ะัะผััะปะตะฝะฝัะต exit codes
- โ ะะพะผะผะตะฝัะฐัะธะธ ะดะปั ัะปะพะถะฝะพะน ะปะพะณะธะบะธ

---

## ๐ ะกะฐะผะพะฟัะพะฒะตัะบะฐ

ะัะฒะตัั ะฝะฐ ะฒะพะฟัะพัั:

1. **ะงัะพ ะดะตะปะฐะตั `set -euo pipefail`?**
2. **ะ ััะผ ัะฐะทะฝะธัะฐ ะผะตะถะดั `[ ]` ะธ `[[ ]]`?**
3. **ะะฐะบ ะฟัะฐะฒะธะปัะฝะพ ัะธัะฐัั ัะฐะนะป ะฟะพัััะพัะฝะพ?**
4. **ะงัะพ ะพะทะฝะฐัะฐะตั `$?`?**
5. **ะะฐัะตะผ ะธัะฟะพะปัะทะพะฒะฐัั `local` ะฒ ััะฝะบัะธัั?**

<details>
<summary>โ ะัะฒะตัั</summary>

1. `-e` ะฒััะพะด ะฟัะธ ะพัะธะฑะบะต, `-u` ะพัะธะฑะบะฐ ะฟัะธ ะฝะตะพะฟัะตะดะตะปัะฝะฝัั ะฟะตัะตะผะตะฝะฝัั, `-o pipefail` ะพัะธะฑะบะฐ ะฒ pipe ะพััะฐะฝะฐะฒะปะธะฒะฐะตั ัะบัะธะฟั
2. `[[ ]]` โ bash ัะธะฝัะฐะบัะธั, ะฟะพะดะดะตัะถะธะฒะฐะตั regex, `&&`, `||`. `[ ]` โ POSIX ัะพะฒะผะตััะธะผัะน
3. `while IFS= read -r line; do ... done < file`
4. Exit code ะฟะพัะปะตะดะฝะตะน ะฒัะฟะพะปะฝะตะฝะฝะพะน ะบะพะผะฐะฝะดั
5. ะะปั ะธะทะพะปััะธะธ ะฟะตัะตะผะตะฝะฝัั, ััะพะฑั ะฝะต ะฟะตัะตะทะฐะฟะธัะฐัั ะณะปะพะฑะฐะปัะฝัะต

</details>

---

## ๐ง ะัะพะฒะตัะบะฐ ะฒัะฟะพะปะฝะตะฝะธั

ะะฐะฟัััะธ ะฐะฒัะพัะตัั:

```bash
cd ~/kernel-shadows/season-1-shell-foundations/episode-02-shell-scripting
./tests/test.sh
```

ะขะตััั ะฟัะพะฒะตััั:
- โ ะกะพะทะดะฐะฝ ะปะธ `server_monitor.sh`
- โ ะัะฟะพะปะฝัะตะผัะน ะปะธ ัะบัะธะฟั
- โ ะกะพะดะตัะถะธั ะปะธ shebang
- โ ะกะพะทะดะฐัั ะปะธ ะปะพะณะธ
- โ ะัะฐะฒะธะปัะฝัะน ะปะธ exit code

---

## ๐ฏ ะกะปะตะดัััะธะน ัะฟะธะทะพะด

**Episode 03: Text Processing Masters**

Anna Kovaleva ะพะฑะฝะฐััะถะธะปะฐ ะฐัะฐะบั ะฒ ะปะพะณะฐั. 10,000+ ัััะพะบ. ะัะถะฝะพ ะฝะฐะนัะธ IP ะฐัะฐะบัััะธั, ะธะทะฒะปะตัั TOP-10, ัะพะทะดะฐัั ะพัััั.

ะะฝััััะผะตะฝัั: `grep`, `awk`, `sed`, pipes, redirects.

> **LILITH:**
> *"ะะพะณะธ ะฝะต ะฒััั. ะัะดะธ โ ะฒััั. Episode 03 ะฝะฐััะธั ัะตะฑั ัะธัะฐัั ะฟัะฐะฒะดั ะฒ ัะตัะฐะฑะฐะนัะฐั ัะตะบััะฐ."*

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะผะฐัะตัะธะฐะปั

### Man Pages
```bash
man bash
man test
man [
```

### ะะตััััั
- [ShellCheck](https://www.shellcheck.net/) โ ะปะธะฝัะตั ะดะปั bash
- [Bash Guide](https://mywiki.wooledge.org/BashGuide) โ ะฟัะพะดะฒะธะฝััะพะต ััะบะพะฒะพะดััะฒะพ
- [Google Shell Style Guide](https://google.github.io/styleguide/shellguide.html)

### ะัะฐะบัะธะบะฐ
- ะกะพะทะดะฐะน ัะบัะธะฟั ะดะปั backup ะฒะฐะถะฝัั ัะฐะนะปะพะฒ
- ะะฐะฟะธัะธ ัะบัะธะฟั ะดะปั ะฐะฝะฐะปะธะทะฐ ัะธััะตะผะฝัั ัะตััััะพะฒ (CPU, RAM, Disk)
- ะะฒัะพะผะฐัะธะทะธััะน ััะพ-ัะพ ะธะท ัะฒะพะตะน ัะฐะฑะพัั

---

<div align="center">

**OPERATION KERNEL SHADOWS**
*Episode 02 โ Shell Scripting Basics*

*"ะะฒัะพะผะฐัะธะทะฐัะธั โ ััะพ ะฝะต ะปะตะฝั. ะญัะพ ัััะตะบัะธะฒะฝะพััั."* โ LILITH

**[โ Episode 01](../episode-01-terminal-awakening/README.md) | [Season 1](../README.md) | [Episode 03 โ](../episode-03-text-processing/README.md)**

</div>

