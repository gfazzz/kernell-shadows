# EPISODE 13: GIT & VERSION CONTROL üì¶üá©üá™

> **"Code is law. Version control is constitution. Without Git, you have anarchy."**
> ‚Äî Hans M√ºller, Chaos Computer Club

---

## üìç –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏

**–î–µ–Ω—å:** 25-26 –∏–∑ 60
**–õ–æ–∫–∞—Ü–∏—è:** üá©üá™ –ë–µ—Ä–ª–∏–Ω, –ì–µ—Ä–º–∞–Ω–∏—è (Chaos Computer Club, hackerspace)
**–í—Ä–µ–º—è:** 4-5 —á–∞—Å–æ–≤
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ

**–ü—Ä–µ–¥—ã–¥—É—â–∏–π —ç–ø–∏–∑–æ–¥:** [Episode 12: Backup & Recovery](../../season-3-system-administration/episode-12-backup-recovery/README.md) (Tallinn, Estonia)
**–°–ª–µ–¥—É—é—â–∏–π —ç–ø–∏–∑–æ–¥:** Episode 14: Docker Basics (Amsterdam, Netherlands)

---

## üé¨ –°—é–∂–µ—Ç

### –ü–µ—Ä–µ—Ö–æ–¥ Season 3 ‚Üí Season 4

**–í–∏–∫—Ç–æ—Ä (–≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫, –∫–æ–Ω–µ—Ü Episode 12):**
> *"–ú–∞–∫—Å, —Ç—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º. Backup —Å–ø–∞—Å –æ–ø–µ—Ä–∞—Ü–∏—é. –ù–æ —Ç–µ–ø–µ—Ä—å ‚Äî –º–∞—Å—à—Ç–∞–±. –£ –Ω–∞—Å 50 —Å–µ—Ä–≤–µ—Ä–æ–≤. –ß–µ—Ä–µ–∑ –º–µ—Å—è—Ü –±—É–¥–µ—Ç 100. –£–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ñ–∏–≥–∞–º–∏ –≤—Ä—É—á–Ω—É—é –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –ù—É–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è. DevOps. –õ–µ—Ç–∏—à—å –≤ –ë–µ—Ä–ª–∏–Ω. –î–º–∏—Ç—Ä–∏–π –≤—Å—Ç—Ä–µ—Ç–∏—Ç."*

**–î–º–∏—Ç—Ä–∏–π –û—Ä–ª–æ–≤ (–∑–≤–æ–Ω–æ–∫ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å):**
> *"–ú–∞–∫—Å, –ø—Ä–∏–≤–µ—Ç. –Ø –î–º–∏—Ç—Ä–∏–π, DevOps-–∏–Ω–∂–µ–Ω–µ—Ä –∫–æ–º–∞–Ω–¥—ã. –Ø –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –Ω–µ–¥–µ–ª–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–ª Docker, Ansible, CI/CD, –Ω–æ –º–Ω–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å. –í –ë–µ—Ä–ª–∏–Ω–µ –µ—Å—Ç—å Hans M√ºller ‚Äî –æ–¥–∏–Ω –∏–∑ –ª—É—á—à–∏—Ö DevOps –≤ –ï–≤—Ä–æ–ø–µ, —É—á–∞—Å—Ç–Ω–∏–∫ CCC. –û–Ω –Ω–∞—É—á–∏—Ç –Ω–∞—Å infrastructure as code. –ù–∞—á–Ω—ë–º —Å Git."*

### –î–µ–Ω—å 25: –ü—Ä–∏–ª—ë—Ç –≤ –ë–µ—Ä–ª–∏–Ω

**15:00 ‚Äî Tegel Airport**

–ú–∞–∫—Å –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞. –ë–µ—Ä–ª–∏–Ω ‚Äî –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π, —Ö–æ–ª–æ–¥–Ω—ã–π, graffiti –Ω–∞ —Å—Ç–µ–Ω–∞—Ö, –Ω–æ —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π.

–î–º–∏—Ç—Ä–∏–π –û—Ä–ª–æ–≤ (30 –ª–µ—Ç, —Ä—É—Å—Å–∫–∏–π –∞–∫—Ü–µ–Ω—Ç, backpack —Å –Ω–∞–∫–ª–µ–π–∫–∞–º–∏ Docker/Kubernetes/Ansible) –≤—Å—Ç—Ä–µ—á–∞–µ—Ç —É –≤—ã—Ö–æ–¥–∞.

**–î–º–∏—Ç—Ä–∏–π:**
> *"–ú–∞–∫—Å? –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ë–µ—Ä–ª–∏–Ω. Chaos Computer Club —á–µ—Ä–µ–∑ —á–∞—Å. Hans –∂–¥—ë—Ç. –ü–æ–µ—Ö–∞–ª–∏. –û, –∏ –∫—Å—Ç–∞—Ç–∏ ‚Äî Hans –ø–µ–¥–∞–Ω—Ç–∏—á–µ–Ω. –ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç —á—Ç–æ –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º Git –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤, –±—É–¥–µ—Ç –ª–µ–∫—Ü–∏—è –Ω–∞ 2 —á–∞—Å–∞. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥—ë–Ω ‚Äî –∑–Ω–∞—á–∏—Ç –≤–æ–æ—Ä—É–∂—ë–Ω."*

**17:00 ‚Äî Chaos Computer Club (CCC)**

–•–∞–∫–µ—Ä—Å–ø–µ–π—Å –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–æ–º –∑–¥–∞–Ω–∏–∏. –°–µ—Ä–≤–µ—Ä—ã, –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–Ω–∏—Ç–æ—Ä–æ–≤, –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, Open Source –ø–æ—Å—Ç–µ—Ä—ã, –∞–Ω–∞—Ä—Ö–∏—Å—Ç—Å–∫–∞—è —ç—Å—Ç–µ—Ç–∏–∫–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç –Ω–µ–º–µ—Ü–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å.

Hans M√ºller (35 –ª–µ—Ç, CCC hoodie, —Å–µ—Ä—å—ë–∑–Ω—ã–π) –ø–µ—á–∞—Ç–∞–µ—Ç –∫–æ–¥. –ù–∞ —ç–∫—Ä–∞–Ω–µ ‚Äî Git commit message:

```
feat: add infrastructure automation for operation shadow

- ansible playbooks for server provisioning
- docker-compose for microservices
- CI/CD pipeline for automated deployment

Signed-off-by: Hans M√ºller <hans@ccc.de>
```

**Hans (–Ω–µ –æ—Ç—Ä—ã–≤–∞—è—Å—å –æ—Ç —ç–∫—Ä–∞–Ω–∞):**
> *"–¢—ã, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å, –ú–∞–∫—Å. –í–∏–∫—Ç–æ—Ä –º–Ω–æ–≥–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª –æ —Ç–µ–±–µ."*

(–æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è)

> *"–ù–æ –í–∏–∫—Ç–æ—Ä —Ç–∞–∫–∂–µ —Å–∫–∞–∑–∞–ª, —á—Ç–æ —Ç—ã —É–ø—Ä–∞–≤–ª—è–µ—à—å –∫–æ–Ω—Ñ–∏–≥–∞–º–∏ 50 —Å–µ—Ä–≤–µ—Ä–æ–≤ **–±–µ–∑ version control**. –≠—Ç–æ... –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω–æ. –ù–µ—Ç, —ç—Ç–æ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ."*

**–ú–∞–∫—Å (–∑–∞—â–∏—â–∞–µ—Ç—Å—è):**
> *"–Ø –∑–Ω–∞—é —á—Ç–æ —è –¥–µ–ª–∞—é. –£ –º–µ–Ω—è backup'—ã. –Ø –ø–æ–º–Ω—é –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è."*

**Hans:**
> *"–°–µ–π—á–∞—Å –ø–æ–º–Ω–∏—à—å. –ê —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü? –ü–æ—Å–ª–µ 1000 –∏–∑–º–µ–Ω–µ–Ω–∏–π? –ü–∞–º—è—Ç—å –Ω–µ–Ω–∞–¥—ë–∂–Ω–∞. –õ—é–¥–∏ –Ω–µ–Ω–∞–¥—ë–∂–Ω—ã. **Git –Ω–∞–¥—ë–∂–µ–Ω**."*

(–ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫ –¥–æ—Å–∫–µ, —Ä–∏—Å—É–µ—Ç —Å—Ö–µ–º—É)

```
Git ‚Üí Docker ‚Üí CI/CD ‚Üí Ansible ‚Üí Kubernetes
 ‚Üë
 ‚îî‚îÄ‚îÄ Everything starts here
```

> *"Infrastructure as Code. Version control –¥–ª—è –≤—Å–µ–≥–æ: –∫–æ–Ω—Ñ–∏–≥–æ–≤, —Å–∫—Ä–∏–ø—Ç–æ–≤, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. If it's not in Git, it doesn't exist. Welcome to DevOps. Let's begin."*

### –ò–ù–¶–ò–î–ï–ù–¢ (–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ Episode)

**21:30 ‚Äî Emergency –∑–≤–æ–Ω–æ–∫ –æ—Ç Anna**

**Anna (–ø–∞–Ω–∏–∫–∞ –≤ –≥–æ–ª–æ—Å–µ):**
> *"Max! EMERGENCY! –ö—Ç–æ-—Ç–æ –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∑–∞–∫–æ–º–º–∏—Ç–∏–ª **–ø–∞—Ä–æ–ª—å –æ—Ç production —Å–µ—Ä–≤–µ—Ä–∞** –≤ Git repository! Public repository! GitHub! –ü–æ–ª—á–∞—Å–∞ –Ω–∞–∑–∞–¥! Krylov —É–∂–µ –∑–Ω–∞–µ—Ç! –£ –Ω–∞—Å 10 –º–∏–Ω—É—Ç –¥–æ –∞—Ç–∞–∫–∏!"*

**Hans (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Å–µ—Ä—å—ë–∑–Ω—ã–π):**
> *"Scheisse. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞. Git –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–±—ã–≤–∞–µ—Ç. –î–∞–∂–µ –µ—Å–ª–∏ —É–¥–∞–ª–∏—à—å commit, –æ–Ω –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏. –ù—É–∂–µ–Ω git filter-branch. –ù–ï–ú–ï–î–õ–ï–ù–ù–û."*

**–ó–∞–¥–∞—á–∞:**
- –ù–∞–π—Ç–∏ leaked secret –≤ Git history
- –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ (git filter-branch –∏–ª–∏ BFG Repo-Cleaner)
- Force push (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
- –†–æ—Ç–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ!)
- Audit: –∫—Ç–æ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª? –∫–æ–≥–¥–∞? –ø–æ—á–µ–º—É –Ω–µ –±—ã–ª–æ .gitignore?

**Resolution:**
- 5 –º–∏–Ω—É—Ç: Git history cleaned
- 3 –º–∏–Ω—É—Ç—ã: Password rotated
- 2 –º–∏–Ω—É—Ç—ã: Anna –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–ø—ã—Ç–∫—É Krylov (IP 185.220.101.52, Tor node)

**Hans (–ø–æ—Å–ª–µ):**
> *"–í–æ—Ç –ø–æ—á–µ–º—É —É –Ω–∞—Å –µ—Å—Ç—å `.gitignore`. –í–æ—Ç –ø–æ—á–µ–º—É –º—ã –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç–∏–º secrets. Git –º–æ—â–Ω—ã–π. –ù–æ —Å–∏–ª–∞ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –£—Å–≤–æ–∏–ª–∏ —É—Ä–æ–∫?"*

**–ú–∞–∫—Å:**
> *"–ñ—ë—Å—Ç–∫–∏–π —É—Ä–æ–∫. –ù–æ —É—Å–≤–æ–µ–Ω."*

**LILITH:**
> *"Secrets –≤ Git ‚Äî –∫–∞–∫ –∑–∞—Ä—è–∂–µ–Ω–Ω—ã–π –ø–∏—Å—Ç–æ–ª–µ—Ç –≤ –¥–µ—Ç—Å–∫–æ–π –∫–æ–º–Ω–∞—Ç–µ. –ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫. –ù–∏–∫–æ–≥–¥–∞."*

### –§–∏–Ω–∞–ª Episode 13

**23:00 ‚Äî Debriefing**

**–í–∏–∫—Ç–æ—Ä (–≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫):**
> *"Crisis averted. Password rotated. No breach. Good work. Hans, thank you."*

**Hans:**
> *"–ù–µ –ø—Ä–æ–±–ª–µ–º–∞. –ù–æ Max, Dmitry ‚Äî –≤–∞–º –Ω—É–∂–Ω–æ –∏–∑—É—á–∏—Ç—å **–≤–µ—Å—å pipeline**. Git ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç. –î–∞–ª—å—à–µ: Docker (Sophie –≤ –ê–º—Å—Ç–µ—Ä–¥–∞–º–µ), –ø–æ—Ç–æ–º CI/CD (—è –ø–æ–º–æ–≥—É —É–¥–∞–ª—ë–Ω–Ω–æ), –∑–∞—Ç–µ–º Ansible (Klaus). –ß–µ—Ç—ã—Ä–µ —ç–ø–∏–∑–æ–¥–∞. –î–≤–µ –Ω–µ–¥–µ–ª–∏. –ì–æ—Ç–æ–≤—ã?"*

**–ú–∞–∫—Å:**
> *"–ì–æ—Ç–æ–≤—ã. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º –≤—Å—ë."*

**–î–º–∏—Ç—Ä–∏–π:**
> *"Welcome to DevOps, Max. Automation –∏–ª–∏ —Å–º–µ—Ä—Ç—å –Ω–∞ –º–∞—Å—à—Ç–∞–±–µ."*

**Cliffhanger:**

**Alex (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ):**
> *"–ú–∞–∫—Å. Krylov –ø—ã—Ç–∞–ª—Å—è –∞—Ç–∞–∫–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ leaked password. –ù–æ —ç—Ç–æ –±—ã–ª–∞ **–æ—Ç–≤–ª–µ–∫–∞—é—â–∞—è –∞—Ç–∞–∫–∞**. –ß—Ç–æ-—Ç–æ –±–æ–ª—å—à–µ–µ –≥–æ—Ç–æ–≤–∏—Ç—Å—è. Supply chain attack. –ë—É–¥—å –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω –≤ –ê–º—Å—Ç–µ—Ä–¥–∞–º–µ. Docker images ‚Äî –ª–µ–≥–∫–æ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞—Ç—å. ‚Äî A."*

---

## üéØ –ú–∏—Å—Å–∏—è Episode 13

**–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞:** –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å Git repository –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å branching strategy, –Ω–∞—É—á–∏—Ç—å—Å—è –∑–∞—â–∏—â–∞—Ç—å secrets.

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è:**

1. ‚úÖ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–∏
2. ‚úÖ **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫** (configs/, scripts/, docs/, ansible/, docker/)
3. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å .gitignore** (secrets, logs, temporary files)
4. ‚úÖ **Branching strategy** (main, development, feature branches)
5. ‚úÖ **Commit —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏** (conventional commits)
6. ‚úÖ **Simulate merge conflict** –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
7. ‚úÖ **Secrets management** (git-crypt, .env.example, HashiCorp Vault integration)
8. ‚úÖ **Audit leaked secret** (–Ω–∞–π—Ç–∏, —É–¥–∞–ª–∏—Ç—å –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏, —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å)
9. ‚úÖ **Generate Git audit report** (commits, branches, security)

**–§–∏–Ω–∞–ª—å–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:**
- –ß–∏—Å—Ç—ã–π Git repository
- `.gitignore` —Å–æ –≤—Å–µ–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
- Branching strategy –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
- Secrets –∑–∞—â–∏—â–µ–Ω—ã
- Audit report —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω

---

---

## üéì –£—á–µ–±–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞: 7 —Ü–∏–∫–ª–æ–≤

**–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 4-5 —á–∞—Å–æ–≤
**–§–æ—Ä–º–∞—Ç:** Interleaving (–°—é–∂–µ—Ç ‚Üí –¢–µ–æ—Ä–∏—è ‚Üí –ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞)

1. **–¶–∏–∫–ª 1:** Git Basics ‚Äî Time Machine –¥–ª—è –∫–æ–¥–∞ (10-15 –º–∏–Ω)
2. **–¶–∏–∫–ª 2:** Branching ‚Äî –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—Å–µ–ª–µ–Ω–Ω—ã–µ (10-15 –º–∏–Ω)
3. **–¶–∏–∫–ª 3:** Secrets Management ‚Äî Bouncer –Ω–æ—á–Ω–æ–≥–æ –∫–ª—É–±–∞ (10-15 –º–∏–Ω)
4. **–¶–∏–∫–ª 4:** Merge Conflicts ‚Äî –°–ª–∏—è–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π (10-15 –º–∏–Ω)
5. **–¶–∏–∫–ª 5:** INCIDENT ‚Äî Leaked Secret üî• (15-20 –º–∏–Ω)
6. **–¶–∏–∫–ª 6:** Infrastructure as Code (10-15 –º–∏–Ω)
7. **–¶–∏–∫–ª 7:** Git Advanced ‚Äî –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Ñ–∏ (10-15 –º–∏–Ω)

---

## –¶–ò–ö–õ 1: Git Basics ‚Äî Time Machine –¥–ª—è –∫–æ–¥–∞ ‚è∞
### (10-15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç: –ü—Ä–∏–ª—ë—Ç –≤ –ë–µ—Ä–ª–∏–Ω

**17:00 ‚Äî Chaos Computer Club (CCC)**

–ú–∞–∫—Å –∏ –î–º–∏—Ç—Ä–∏–π –≤—Ö–æ–¥—è—Ç –≤ —Ö–∞–∫–µ—Ä—Å–ø–µ–π—Å. –°–µ—Ä–≤–µ—Ä—ã –≥—É–¥—è—Ç, –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —â—ë–ª–∫–∞—é—Ç, –Ω–∞ —Å—Ç–µ–Ω–∞—Ö ‚Äî –ø–æ—Å—Ç–µ—Ä—ã —Å Open Source –ª–æ–≥–æ.

Hans M√ºller (35 –ª–µ—Ç, CCC hoodie, —Å–µ—Ä—å—ë–∑–Ω—ã–π) –ø–µ—á–∞—Ç–∞–µ—Ç –∫–æ–¥. –ù–∞ —ç–∫—Ä–∞–Ω–µ ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π Git commit:

```
feat: add infrastructure automation for operation shadow

- ansible playbooks for server provisioning
- docker-compose for microservices
- CI/CD pipeline for automated deployment

Signed-off-by: Hans M√ºller <hans@ccc.de>
```

**Hans (–Ω–µ –æ—Ç—Ä—ã–≤–∞—è—Å—å –æ—Ç —ç–∫—Ä–∞–Ω–∞):**
> *"–¢—ã, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å, –ú–∞–∫—Å. –í–∏–∫—Ç–æ—Ä –º–Ω–æ–≥–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª."*

(–æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è)

> *"–ù–æ –æ–Ω —Ç–∞–∫–∂–µ —Å–∫–∞–∑–∞–ª, —á—Ç–æ —Ç—ã —É–ø—Ä–∞–≤–ª—è–µ—à—å –∫–æ–Ω—Ñ–∏–≥–∞–º–∏ 50 —Å–µ—Ä–≤–µ—Ä–æ–≤ **–±–µ–∑ version control**. –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞. –≠—Ç–æ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ."*

**–ú–∞–∫—Å (–∑–∞—â–∏—â–∞–µ—Ç—Å—è):**
> *"–£ –º–µ–Ω—è backup'—ã. –Ø –ø–æ–º–Ω—é –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è."*

**Hans:**
> *"–°–µ–π—á–∞—Å –ø–æ–º–Ω–∏—à—å. –ê —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü? –ü–æ—Å–ª–µ 1000 –∫–æ–º–º–∏—Ç–æ–≤? –ü–∞–º—è—Ç—å –Ω–µ–Ω–∞–¥—ë–∂–Ω–∞. –õ—é–¥–∏ –Ω–µ–Ω–∞–¥—ë–∂–Ω—ã. **Git –Ω–∞–¥—ë–∂–µ–Ω**."*

(—Ä–∏—Å—É–µ—Ç –Ω–∞ –¥–æ—Å–∫–µ)

```
Git ‚Üí Docker ‚Üí CI/CD ‚Üí Ansible ‚Üí Kubernetes
 ‚Üë
 ‚îî‚îÄ‚îÄ Everything starts here
```

> *"Infrastructure as Code –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å Git. If it's not in Git, it doesn't exist."*

---

### üìö –¢–µ–æ—Ä–∏—è: –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Git?

**–ü—Ä–µ–¥—Å—Ç–∞–≤—å:** –¢—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å important_config.conf –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ.

**–ë–µ–∑ Git:**
```
important_config.conf        ‚ùå –ö–∞–∫–∞—è —ç—Ç–æ –≤–µ—Ä—Å–∏—è?
important_config_backup.conf ‚ùå –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω backup?
important_config_OLD.conf    ‚ùå –ö—Ç–æ –ø—Ä–∞–≤–∏–ª?
important_config_v2.conf     ‚ùå –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –æ—Ç v1 –∫ v2?
```

**–° Git:**
```bash
git log important_config.conf

commit a1b2c3d Author: Max Sokolov Date: 2025-10-01
feat: add SSL configuration

commit e4f5g6h Author: Dmitry Orlov Date: 2025-09-30
fix: correct port from 8080 to 80

commit i7j8k9l Author: Anna Kovaleva Date: 2025-09-25
chore: initial configuration
```

‚úÖ –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è: –∫—Ç–æ, –∫–æ–≥–¥–∞, —á—Ç–æ, –∑–∞—á–µ–º
‚úÖ –ü—Ä–æ—Å—Ç–æ–π –æ—Ç–∫–∞—Ç: `git revert e4f5g6h`
‚úÖ Audit trail: compliance, security

**LILITH:**
> *"Git ‚Äî —ç—Ç–æ Time Machine –¥–ª—è –∫–æ–¥–∞. –ú–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –ø—Ä–æ—à–ª–æ–≥–æ. –ù–æ –≤ –±—É–¥—É—â–µ–µ –Ω–µ –ø—Ä—ã–≥–Ω–µ—à—å ‚Äî –∫–æ–º–º–∏—Ç—å –Ω—É–∂–Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ."*

---

### üí° –ú–µ—Ç–∞—Ñ–æ—Ä–∞: Git = Time Machine + –§–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç

**Git –∫–∞–∫ Time Machine:**
- **Commit** = Snapshot (—Ñ–æ—Ç–æ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
- **Branch** = –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ª–∏–Ω–∏—è
- **Merge** = –°–ª–∏—è–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π
- **Checkout** = –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –≤ –ø—Ä–æ—à–ª–æ–µ/–±—É–¥—É—â–µ–µ

**–ü—Ä–∏–º–µ—Ä:**
```
2025-10-01 10:00  [Photo] feat: add nginx config  ‚Üê Snapshot #3
2025-10-01 09:00  [Photo] fix: correct port       ‚Üê Snapshot #2
2025-10-01 08:00  [Photo] initial commit          ‚Üê Snapshot #1
```

–ú–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ª—é–±–æ–º—É —Å–Ω–∏–º–∫—É: `git checkout <commit>`

**LILITH:**
> *"–ö–æ–º–º–∏—Ç ‚Äî —ç—Ç–æ –Ω–µ –∫–Ω–æ–ø–∫–∞ 'Save'. –≠—Ç–æ –∫–Ω–æ–ø–∫–∞ 'Freeze Time'. –ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –Ω–∞–≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏."*

---

### üìñ Git: –¢—Ä–∏ –∑–æ–Ω—ã

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç—Ä—ë—Ö –∑–æ–Ω ‚Äî –∫–ª—é—á –∫ Git.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Working Directory  ‚îÇ  ‚Üê –¢—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å —Ñ–∞–π–ª—ã –∑–¥–µ—Å—å
‚îÇ   (edit files)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ git add
           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Staging Area      ‚îÇ  ‚Üê –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ commit
‚îÇ   (–≥–æ—Ç–æ–≤–æ –∫ commit) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ git commit
           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Repository        ‚îÇ  ‚Üê –ò—Å—Ç–æ—Ä–∏—è (–≤—Å–µ commits)
‚îÇ   (.git/)           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ git push
           ‚Üì
        Remote (GitHub/GitLab)
```

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞: –ö–æ–Ω—Ü–µ—Ä—Ç**
- **Working Directory** = –†–µ–ø–µ—Ç–∏—Ü–∏—è (–ø—Ä–æ–±—É–µ—à—å –∏–¥–µ–∏)
- **Staging Area** = Backstage (–≤—ã–±—Ä–∞–ª —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—É–±–ª–∏–∫–µ)
- **Repository** = –°—Ü–µ–Ω–∞ (–ø—É–±–ª–∏—á–Ω–æ–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ, –∑–∞–ø–∏—Å–∞–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞)

**LILITH:**
> *"Staging Area ‚Äî —ç—Ç–æ last chance –ø–µ—Ä–µ–¥—É–º–∞—Ç—å. –î–æ–±–∞–≤–∏–ª —Ñ–∞–π–ª –≤ staging? –ï—â—ë –º–æ–∂–µ—à—å –æ—Ç–º–µ–Ω–∏—Ç—å. –ó–∞–∫–æ–º–º–∏—Ç–∏–ª? Welcome to history."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 1: Initialize Git repository

**–ó–∞–¥–∞—á–∞:**
```bash
# 1. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è infrastructure
mkdir -p ~/operation-shadow-infrastructure
cd ~/operation-shadow-infrastructure

# 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Git
git init

# 3. Configure Git
git config user.name "Max Sokolov"
git config user.email "max@operation-shadow.net"

# 4. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π —Ñ–∞–π–ª
echo "# Operation Shadow Infrastructure" > README.md

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status

# –ß—Ç–æ –≤–∏–¥–∏—à—å?
# On branch main
# Untracked files:
#   README.md
```

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É README.md "untracked"?

<details>
<summary>üí° –û—Ç–≤–µ—Ç (–¥—É–º–∞–π 30 —Å–µ–∫—É–Ω–¥)</summary>

**Untracked** = Git –≤–∏–¥–∏—Ç —Ñ–∞–π–ª, –Ω–æ –µ—â—ë –Ω–µ —Å–ª–µ–¥–∏—Ç –∑–∞ –Ω–∏–º.

–§–∞–π–ª –≤ **Working Directory**, –Ω–æ –Ω–µ –≤ Staging Area –∏ –Ω–µ –≤ Repository.

–ß—Ç–æ–±—ã Git –Ω–∞—á–∞–ª —Å–ª–µ–¥–∏—Ç—å:
```bash
git add README.md    # Working ‚Üí Staging
git commit -m "chore: initial commit"  # Staging ‚Üí Repository
```

–¢–µ–ø–µ—Ä—å —Ñ–∞–π–ª **tracked** (Git —Å–ª–µ–¥–∏—Ç –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏).

</details>

**Hans (—Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–≤–æ–π —ç–∫—Ä–∞–Ω):**
> *"Untracked files ‚Äî —ç—Ç–æ –∫–∞–∫ –≥–æ—Å—Ç–∏ –±–µ–∑ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è. Git –∏—Ö –≤–∏–¥–∏—Ç, –Ω–æ –Ω–µ –ø—É—Å–∫–∞–µ—Ç –≤–Ω—É—Ç—Ä—å. `git add` ‚Äî —ç—Ç–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 2: First commit

**–ó–∞–¥–∞—á–∞:**
```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª –≤ Staging
git add README.md

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status
# Changes to be committed:
#   new file:   README.md

# 3. Commit
git commit -m "chore: initial commit"

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
git log
# commit a1b2c3d (HEAD -> main)
# Author: Max Sokolov <max@operation-shadow.net>
# Date:   Thu Oct 10 18:00:00 2025
#
#     chore: initial commit
```

**–ü–æ–∑–¥—Ä–∞–≤–ª—è—é!** –¢—ã —Å–æ–∑–¥–∞–ª –ø–µ—Ä–≤—ã–π snapshot –≤ Time Machine.

**LILITH:**
> *"–ü–µ—Ä–≤—ã–π –∫–æ–º–º–∏—Ç ‚Äî –∫–∞–∫ –ø–µ—Ä–≤—ã–π –ø—Ä—ã–∂–æ–∫ —Å –ø–∞—Ä–∞—à—é—Ç–æ–º. –°—Ç—Ä–∞—à–Ω–æ, –Ω–æ –ø–æ—Ç–æ–º –ø—Ä–∏–≤—ã–∫–∞–µ—à—å. –°–∫–æ—Ä–æ –±—É–¥–µ—à—å –∫–æ–º–º–∏—Ç–∏—Ç—å –Ω–µ –∑–∞–¥—É–º—ã–≤–∞—è—Å—å."*

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è: –¶–∏–∫–ª 1

**LILITH:** *"–ü—Ä–æ–≤–µ—Ä–∏–º, —É—Å–≤–æ–∏–ª –ª–∏ —Ç—ã –æ—Å–Ω–æ–≤—ã. –¢—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞."*

**–í–æ–ø—Ä–æ—Å 1:** –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `git add`?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ **Working Directory** –≤ **Staging Area** (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ commit).

**–ù–ï** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ repository! –≠—Ç–æ –¥–µ–ª–∞–µ—Ç `git commit`.

</details>

**–í–æ–ø—Ä–æ—Å 2:** –ú–æ–∂–Ω–æ –ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–æ—à–ª–æ–º—É –∫–æ–º–º–∏—Ç—É?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –î–∞! `git checkout <commit-hash>` –∏–ª–∏ `git revert <commit>`.

Git ‚Äî —ç—Ç–æ Time Machine. –ö–∞–∂–¥—ã–π commit ‚Äî —Ç–æ—á–∫–∞ –≤ –ø—Ä–æ—à–ª–æ–º, –∫ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è.

</details>

**–í–æ–ø—Ä–æ—Å 3:** –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `.git/`?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –í—Å—è –∏—Å—Ç–æ—Ä–∏—è repository (–≤—Å–µ commits, branches, refs).

–£–¥–∞–ª–∏—à—å `.git/` ‚Üí –ø–æ—Ç–µ—Ä—è–µ—à—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é (–æ—Å—Ç–∞–Ω—É—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–µ —Ñ–∞–π–ª—ã).

**LILITH:** *"`.git/` ‚Äî —ç—Ç–æ –º–æ–∑–≥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –ë–µ–∑ –Ω–µ–≥–æ Git –Ω–µ –ø–æ–º–Ω–∏—Ç –ø—Ä–æ—à–ª–æ–≥–æ."*

</details>

**Hans:**
> *"–ù–µ–ø–ª–æ—Ö–æ. –¢—Ä–∏ –∏–∑ —Ç—Ä—ë—Ö ‚Äî —Ç—ã –≥–æ—Ç–æ–≤ –∫ branching. –°–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞ —Å–ª–æ–∂–Ω–µ–µ."*

---

## –¶–ò–ö–õ 2: Branching ‚Äî –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—Å–µ–ª–µ–Ω–Ω—ã–µ üåå
### (10-15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç: –û–±—Å—É–∂–¥–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

**18:00 ‚Äî CCC, —á–µ—Ä–µ–∑ —á–∞—Å –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞**

Hans –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç whiteboard, —Ä–∏—Å—É–µ—Ç —Å—Ö–µ–º—É:

```
main (production)
 ‚îú‚îÄ‚îÄ development (testing)
 ‚îÇ    ‚îú‚îÄ‚îÄ feature/docker (Max)
 ‚îÇ    ‚îú‚îÄ‚îÄ feature/ansible (Dmitry)
 ‚îÇ    ‚îî‚îÄ‚îÄ hotfix/urgent-fix
 ‚îî‚îÄ‚îÄ (main –∑–∞—â–∏—â—ë–Ω –æ—Ç –ø—Ä—è–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

**Hans:**
> *"–í Chaos Computer Club —É –Ω–∞—Å –ø—Ä–∞–≤–∏–ª–æ: **main –≤—Å–µ–≥–¥–∞ —Å—Ç–∞–±–∏–ª–µ–Ω**. –ù–∏–∫—Ç–æ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç –≤ main –Ω–∞–ø—Ä—è–º—É—é. –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ branches –∏ code review."*

**–î–º–∏—Ç—Ä–∏–π:**
> *"–ê –µ—Å–ª–∏ —Å—Ä–æ—á–Ω—ã–π hotfix? –ü—Ä–æ–¥–∞–∫—à–Ω –≥–æ—Ä–∏—Ç?"*

**Hans:**
> *"Hotfix branch. –§–∏–∫—Å–∏–º, —Ç–µ—Å—Ç–∏—Ä—É–µ–º, –º–µ—Ä–∂–∏–º. –î–∞–∂–µ –ø—Ä–∏ –ø–æ–∂–∞—Ä–µ ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –µ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å. –•–∞–æ—Å –≤ –∫–æ–¥–µ ‚Äî —Ö—É–∂–µ –ø–æ–∂–∞—Ä–∞."*

**–ú–∞–∫—Å:**
> *"–ù–æ –∑–∞—á–µ–º —Å—Ç–æ–ª—å–∫–æ –≤–µ—Ç–æ–∫? –ú–æ–∂–Ω–æ –≤–µ–¥—å –≤ –æ–¥–Ω–æ–π —Ä–∞–±–æ—Ç–∞—Ç—å?"*

**Hans (—É–ª—ã–±–∞–µ—Ç—Å—è):**
> *"–ú–æ–∂–Ω–æ. –¢–∞–∫–∂–µ –∫–∞–∫ –º–æ–∂–Ω–æ –∂–∏—Ç—å –≤ –æ–¥–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ —Å 50 –ª—é–¥—å–º–∏. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ ‚Äî –∞–¥. Branches ‚Äî —ç—Ç–æ –ª–∏—á–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π —Å–∫–æ–ª—å–∫–æ —Ö–æ—á–µ—à—å. –°–ª–æ–º–∞–ª? –£–¥–∞–ª–∏ branch. Main –æ—Å—Ç–∞–ª—Å—è —á–∏—Å—Ç."*

**LILITH:**
> *"Branches ‚Äî —ç—Ç–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—Å–µ–ª–µ–Ω–Ω—ã–µ. –í –æ–¥–Ω–æ–π Max –ª–æ–º–∞–µ—Ç –≤—Å—ë. –í –¥—Ä—É–≥–æ–π Dmitry —Å–æ–∑–¥–∞—ë—Ç —à–µ–¥–µ–≤—Ä. Main ‚Äî —ç—Ç–æ —Ç–∞ –≤—Å–µ–ª–µ–Ω–Ω–∞—è, –≥–¥–µ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç. –í—Å–µ–≥–¥–∞."*

---

### üìö –¢–µ–æ—Ä–∏—è: Branches ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ª–∏–Ω–∏–∏

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞: –ú—É–ª—å—Ç–∏–≤—Å–µ–ª–µ–Ω–Ω–∞—è**

–ü—Ä–µ–¥—Å—Ç–∞–≤—å:
- **main** = –û—Å–Ω–æ–≤–Ω–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è, production)
- **feature/docker** = –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è –≥–¥–µ Max —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–µ—Ç —Å Docker
- **feature/ansible** = –î—Ä—É–≥–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è –≥–¥–µ Dmitry –ø–∏—à–µ—Ç Ansible playbooks

–ö–∞–∂–¥–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ. –ö–æ–≥–¥–∞ feature –≥–æ—Ç–æ–≤ ‚Üí **merge** (—Å–ª–∏—è–Ω–∏–µ –≤—Å–µ–ª–µ–Ω–Ω—ã—Ö).

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

```
Time ‚Üí

main:       A‚îÄ‚îÄ‚îÄB‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄE‚îÄ‚îÄ‚îÄF      (production)
             \         /
              \       /
feature/docker:  C‚îÄ‚îÄ‚îÄD              (Max's experiments)
```

- `A`, `B` = commits –≤ main
- `C`, `D` = commits –≤ feature/docker (Max —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ)
- `E` = merge (—Å–ª–∏—è–Ω–∏–µ feature ‚Üí main)
- `F` = –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ main

**–ó–∞—á–µ–º branches?**

‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è:** –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –Ω–µ –ª–æ–º–∞—é—Ç production
‚úÖ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞:** Max –∏ Dmitry —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
‚úÖ **Code review:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ merge
‚úÖ **–û—Ç–∫–∞—Ç:** –°–ª–æ–º–∞–ª feature? –£–¥–∞–ª–∏ branch, main –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª

**LILITH:**
> *"Branch ‚Äî —ç—Ç–æ sandbox. –ú–æ–∂–µ—à—å –ª–æ–º–∞—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ. Main ‚Äî —ç—Ç–æ production. –õ–æ–º–∞—Ç—å –Ω–µ–ª—å–∑—è. –ù–∏–∫–æ–≥–¥–∞."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 3: Create and switch branches

**–ó–∞–¥–∞—á–∞:**
```bash
cd ~/operation-shadow-infrastructure

# 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–∏–π branch
git branch
# * main

# 2. –°–æ–∑–¥–∞—Ç—å development branch
git checkout -b development
# Switched to a new branch 'development'

# 3. –°–æ–∑–¥–∞—Ç—å feature branch
git checkout -b feature/episode13-git
# Switched to a new branch 'feature/episode13-git'

# 4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ branches
git branch
#   development
# * feature/episode13-git
#   main

# 5. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ main
git checkout main
```

**–ö–æ–º–∞–Ω–¥—ã:**
- `git branch` ‚Äî —Å–ø–∏—Å–æ–∫ branches
- `git checkout -b <name>` ‚Äî —Å–æ–∑–¥–∞—Ç—å + –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è
- `git checkout <name>` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π

**LILITH:**
> *"–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ branch ‚Äî —ç—Ç–æ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –º–µ–∂–¥—É –≤—Å–µ–ª–µ–Ω–Ω—ã–º–∏. –§–∞–π–ª—ã –º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ. –ú–∞–≥–∏—è? –ù–µ—Ç. Git."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 4: Work in branches

**–°—Ü–µ–Ω–∞—Ä–∏–π:** Max —Å–æ–∑–¥–∞—ë—Ç ansible playbook –≤ feature branch.

```bash
# 1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ feature branch
git checkout feature/episode13-git

# 2. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
mkdir -p ansible/playbooks
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- hosts: webservers
  become: yes
  tasks:
    - name: Install nginx
      apt:
        name: nginx
        state: present
EOF

# 3. Commit –≤ feature branch
git add ansible/
git commit -m "feat: add ansible playbook for nginx webservers"

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ main –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
git checkout main
ls ansible/  # –ù–µ—Ç —Ç–∞–∫–æ–π –ø–∞–ø–∫–∏! (ansible —Ç–æ–ª—å–∫–æ –≤ feature branch)

# 5. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ feature
git checkout feature/episode13-git
ls ansible/  # –ü–∞–ø–∫–∞ –µ—Å—Ç—å!
```

**Aha! –º–æ–º–µ–Ω—Ç:** –§–∞–π–ª—ã "–∏—Å—á–µ–∑–∞—é—Ç" –∏ "–ø–æ—è–≤–ª—è—é—Ç—Å—è" –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ branches!

**LILITH:**
> *"–í—É–¥—É? –ù–µ—Ç. Git –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤—Å—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –ø–æ–¥ —Ç–≤–æ–∏–º –Ω–æ—Å–æ–º. –¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ feature ‚Äî –≤–∏–¥–∏—à—å feature. –ü–µ—Ä–µ–∫–ª—é—á–∏–ª—Å—è –≤ main ‚Äî –≤–∏–¥–∏—à—å main. –ö–∞–∂–¥—ã–π branch ‚Äî —Å–≤–æ—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 5: Merge branches

**–ó–∞–¥–∞—á–∞:** Merge feature branch –≤ main.

```bash
# 1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ main (–∫—É–¥–∞ –º–µ—Ä–∂–∏–º)
git checkout main

# 2. Merge feature branch
git merge feature/episode13-git

# Output:
# Updating a1b2c3d..e4f5g6h
# Fast-forward
#  ansible/playbooks/webservers.yml | 10 ++++++++++
#  1 file changed, 10 insertions(+)

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã –ø–æ—è–≤–∏–ª–∏—Å—å –≤ main
ls ansible/playbooks/
# webservers.yml  ‚Üê –¢–µ–ø–µ—Ä—å –≤ main!

# 4. –£–¥–∞–ª–∏—Ç—å feature branch (—É–∂–µ –Ω–µ –Ω—É–∂–µ–Ω)
git branch -d feature/episode13-git
# Deleted branch feature/episode13-git (was e4f5g6h)
```

**Fast-forward merge:** –ï—Å–ª–∏ main –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è —Å –º–æ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è branch, Git –ø—Ä–æ—Å—Ç–æ "–ø–µ—Ä–µ–º–∞—Ç—ã–≤–∞–µ—Ç" main –≤–ø–µ—Ä—ë–¥.

**Hans:**
> *"Merge ‚Äî —ç—Ç–æ –º–æ–º–µ–Ω—Ç –∫–æ–≥–¥–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é. Feature –ø—Ä–æ–≤–µ—Ä–µ–Ω, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω, –≥–æ—Ç–æ–≤. Welcome to production."*

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è: –¶–∏–∫–ª 2

**LILITH:** *"Branching ‚Äî —Å–ª–æ–∂–Ω–∞—è —Ç–µ–º–∞. –ü—Ä–æ–≤–µ—Ä–∏–º –ø–æ–Ω–∏–º–∞–Ω–∏–µ."*

**–í–æ–ø—Ä–æ—Å 1:** –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –µ—Å–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ feature branch, –Ω–æ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –§–∞–π–ª –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ **Working Directory** –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ branch.

Uncommitted changes "–ø—É—Ç–µ—à–µ—Å—Ç–≤—É—é—Ç" —Å —Ç–æ–±–æ–π –º–µ–∂–¥—É branches (–ø–æ–∫–∞ –Ω–µ —Å–æ–∑–¥–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã).

**–ü—Ä–∞–≤–∏–ª–æ:** –ö–æ–º–º–∏—Ç—å –∏–ª–∏ stash –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º branch!

```bash
git stash       # –°–ø—Ä—è—Ç–∞—Ç—å uncommitted changes
git stash pop   # –í–µ—Ä–Ω—É—Ç—å changes
```

</details>

**–í–æ–ø—Ä–æ—Å 2:** –ú–æ–∂–Ω–æ –ª–∏ —É–¥–∞–ª–∏—Ç—å main branch?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–∞, –Ω–æ **–ù–ò–ö–û–ì–î–ê –ù–ï –î–ï–õ–ê–ô –≠–¢–û**.

main = production. –£–¥–∞–ª–∏—à—å main ‚Üí —É–¥–∞–ª–∏—à—å production –∏—Å—Ç–æ—Ä–∏—é.

Git –Ω–µ –¥–∞—Å—Ç —É–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–π branch: –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º.

**LILITH:** *"–£–¥–∞–ª–∏—Ç—å main ‚Äî –∫–∞–∫ delete production database. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ. –ö–∞—Ä—å–µ—Ä–Ω–æ ‚Äî —Å–∞–º–æ—É–±–∏–π—Å—Ç–≤–æ."*

</details>

**–í–æ–ø—Ä–æ—Å 3:** –ü–æ—á–µ–º—É –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ main –Ω–∞–ø—Ä—è–º—É—é?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** **Best practice:** main –≤—Å–µ–≥–¥–∞ —Å—Ç–∞–±–∏–ª–µ–Ω.

- Feature branch ‚Üí —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π
- –°–ª–æ–º–∞–ª ‚Üí –æ—Ç–∫–∞—Ç—ã–≤–∞–π, —É–¥–∞–ª—è–π branch
- –†–∞–±–æ—Ç–∞–µ—Ç ‚Üí code review ‚Üí merge –≤ main

**–ü—Ä—è–º–æ–π commit –≤ main** = —Ä–∏—Å–∫ —Å–ª–æ–º–∞—Ç—å production –±–µ–∑ review.

**Hans:** *"–í CCC –Ω–∞—Ä—É—à–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ = public shaming –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏. –†–∞–±–æ—Ç–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ."*

</details>

**Hans:**
> *"–û—Ç–ª–∏—á–Ω–æ. Branching —É—Å–≤–æ–µ–Ω. –¢–µ–ø–µ—Ä—å —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —Ç–µ–º–∞: **secrets**. –ó–¥–µ—Å—å –æ—à–∏–±–∫–∏ —Å—Ç–æ—è—Ç –¥–æ—Ä–æ–≥–æ."*

---

## –¶–ò–ö–õ 3: Secrets Management ‚Äî Bouncer –Ω–æ—á–Ω–æ–≥–æ –∫–ª—É–±–∞ üö´
### (10-15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ Hans

**18:30 ‚Äî CCC, Hans —Å–µ—Ä—å—ë–∑–Ω–µ–µ—Ç**

Hans –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç laptop, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç:

```
GitHub Public Repository
‚îú‚îÄ‚îÄ config.yml
‚îú‚îÄ‚îÄ deploy.sh
‚îî‚îÄ‚îÄ .env  ‚Üê üíÄ –ü–ê–†–û–õ–ò –í PUBLIC REPO!

DB_PASSWORD=SuperSecret123
AWS_KEY=AKIAIOSFODNN7EXAMPLE
```

**Hans:**
> *"–≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π —Å–ª—É—á–∞–π. Startup, –ì–µ—Ä–º–∞–Ω–∏—è, 2023. –ó–∞–∫–æ–º–º–∏—Ç–∏–ª–∏ `.env` –≤ public GitHub. –ß–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç ‚Äî –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –≤ –∏—Ö AWS. $50,000 —É—â–µ—Ä–± –∑–∞ –Ω–æ—á—å. –ö–æ–º–ø–∞–Ω–∏—è –∑–∞–∫—Ä—ã–ª–∞—Å—å —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü."*

**–ú–∞–∫—Å (–±–ª–µ–¥–Ω–µ–µ—Ç):**
> *"15 –º–∏–Ω—É—Ç? –ö–∞–∫ –æ–Ω–∏ —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞—à–ª–∏?"*

**Hans:**
> *"–ë–æ—Ç—ã —Å–∫–∞–Ω–∏—Ä—É—é—Ç GitHub 24/7. –ò—â—É—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã: `password=`, `api_key=`, `SECRET=`. –ù–∞–π–¥—É—Ç —Å–µ–∫—Ä–µ—Ç ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ç–∞–∫–∞. –ù–µ –ª—é–¥–∏. –ë–æ—Ç—ã."*

**–î–º–∏—Ç—Ä–∏–π:**
> *"–ê –µ—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å commit?"*

**Hans (–∫–∞—á–∞–µ—Ç –≥–æ–ª–æ–≤–æ–π):**
> *"Git –ù–ò–ö–û–ì–î–ê –ù–ï –ó–ê–ë–´–í–ê–ï–¢. –£–¥–∞–ª–∏—à—å —Ñ–∞–π–ª ‚Äî –æ–Ω –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏. –ù—É–∂–µ–Ω `git filter-branch`. –°–ª–æ–∂–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è. –ü—Ä–æ—â–µ ‚Äî –ù–ï –ö–û–ú–ú–ò–¢–ò–¢–¨ –°–ï–ö–†–ï–¢–´ –í–û–û–ë–©–ï."*

**LILITH:**
> *"Secrets –≤ Git ‚Äî –∫–∞–∫ —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∞ –Ω–∞ –ª–±—É. –ú–æ–∂–µ—à—å –ø–æ—Ç–æ–º —É–¥–∞–ª–∏—Ç—å, –Ω–æ –≤—Å–µ —É–∂–µ —É–≤–∏–¥–µ–ª–∏. –ò –±–æ—Ç—ã —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–ª–∏."*

---

### üìö –¢–µ–æ—Ä–∏—è: .gitignore ‚Äî Bouncer –Ω–æ—á–Ω–æ–≥–æ –∫–ª—É–±–∞

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞: –ù–æ—á–Ω–æ–π –∫–ª—É–±**

`.gitignore` = Bouncer —É –≤—Ö–æ–¥–∞ –≤ –∫–ª—É–± (Git repository).

- **VIP –≥–æ—Å—Ç–∏** (–∫–æ–¥, –∫–æ–Ω—Ñ–∏–≥–∏) ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è ‚úÖ
- **–ù–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ** (secrets, –ª–æ–≥–∏, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã) ‚Üí –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è ‚ùå

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

```
Files trying to enter Git:
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   .gitignore    ‚îÇ  ‚Üê Bouncer –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ø–∏—Å–æ–∫
‚îÇ   (rules)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚úÖ main.py        ‚Üí Allowed (–∫–æ–¥)
    ‚úÖ config.yml     ‚Üí Allowed (–∫–æ–Ω—Ñ–∏–≥)
    ‚ùå .env           ‚Üí BLOCKED (—Å–µ–∫—Ä–µ—Ç—ã!)
    ‚ùå *.log          ‚Üí BLOCKED (–ª–æ–≥–∏)
    ‚ùå .DS_Store      ‚Üí BLOCKED (OS –º—É—Å–æ—Ä)
         ‚îÇ
         ‚Üì
     Git Repository
```

**–ü—Ä–∞–≤–∏–ª–æ:** `.gitignore` —Å–æ–∑–¥–∞–≤–∞–π **–î–û –ü–ï–†–í–û–ì–û –ö–û–ú–ú–ò–¢–ê!**

**LILITH:**
> *"`.gitignore` —Å–Ω–∞—á–∞–ª–∞, –∫–æ–º–º–∏—Ç –ø–æ—Ç–æ–º. –ù–µ –Ω–∞–æ–±–æ—Ä–æ—Ç. –ù–ò–ö–û–ì–î–ê –Ω–∞–æ–±–æ—Ä–æ—Ç."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 6: Create .gitignore

**–ó–∞–¥–∞—á–∞:**
```bash
cd ~/operation-shadow-infrastructure

# 1. –°–æ–∑–¥–∞—Ç—å .gitignore –°–ï–ô–ß–ê–° (–¥–æ –∫–æ–º–º–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤!)
cat > .gitignore << 'EOF'
# Secrets (NEVER commit!)
.env
.env.*
*.pem
*.key
*_rsa
*_rsa.pub
passwords.txt
secrets.yml
credentials.json

# Logs
*.log
logs/

# OS files
.DS_Store
Thumbs.db

# Temporary
*.tmp
*.swp
*~
EOF

# 2. Commit .gitignore
git add .gitignore
git commit -m "chore: add .gitignore for secrets protection"

# 3. Test: —Å–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
echo "DB_PASSWORD=test123" > .env

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status
# .env –ù–ï –ø–æ—è–≤–ª—è–µ—Ç—Å—è! (ignored)

# 5. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–æ–±–∞–≤–∏—Ç—å
git add .env
# The following paths are ignored by one of your .gitignore files:
# .env
```

‚úÖ `.env` –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω! Bouncer —Ä–∞–±–æ—Ç–∞–µ—Ç.

**Hans:**
> *"–¢–µ–ø–µ—Ä—å –¥–∞–∂–µ –µ—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ —Å–¥–µ–ª–∞–µ—à—å `git add .`, —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ repository. –ü–µ—Ä–≤–∞—è –ª–∏–Ω–∏—è –∑–∞—â–∏—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç."*

---

### üí° "Aha!" –º–æ–º–µ–Ω—Ç: git add . –±–µ–∑ .gitignore

**–°—Ü–µ–Ω–∞—Ä–∏–π –ë–ï–ó .gitignore:**

```bash
# ‚ùå –û–ü–ê–°–ù–û! –ë–ï–ó .gitignore
echo "PASSWORD=secret123" > .env
git add .       # –î–æ–±–∞–≤–ª—è–µ—Ç –í–°–Å, –≤–∫–ª—é—á–∞—è .env!
git commit -m "update"   # .env –≤ repository!
git push        # .env –Ω–∞ GitHub!
# üíÄ –ë–æ—Ç—ã –Ω–∞—à–ª–∏ –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç
```

**–°—Ü–µ–Ω–∞—Ä–∏–π –° .gitignore:**

```bash
# ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û! –° .gitignore
# .gitignore —Å–æ–∑–¥–∞–Ω –ü–ï–†–í–´–ú –î–ï–õ–û–ú
echo "PASSWORD=secret123" > .env
git add .       # .env –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
git commit -m "update"   # .env –ù–ï –ø–æ–ø–∞–ª –≤ commit
# ‚úÖ –°–µ–∫—Ä–µ—Ç—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```

**LILITH:**
> *"git add . ‚Äî —ç—Ç–æ –≥—Ä–∞–Ω–∞—Ç–∞. –° .gitignore ‚Äî –≥—Ä–∞–Ω–∞—Ç–∞ —Å –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–º. –ë–µ–∑ .gitignore ‚Äî —Ç—ã —É–∂–µ –º—ë—Ä—Ç–≤."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 7: .env.example pattern

**Best practice:** Commit `.env.example` (template), actual `.env` ignore.

```bash
# 1. Create .env.example (template ‚Äî safe to commit)
cat > .env.example << 'EOF'
# Database credentials
DB_HOST=localhost
DB_PORT=5432
DB_NAME=operation_shadow
DB_USER=your_username_here
DB_PASSWORD=your_password_here

# API keys
GITHUB_TOKEN=your_token_here
EOF

# 2. Commit template
git add .env.example
git commit -m "chore: add .env.example template"

# 3. Create actual .env (will be ignored)
cp .env.example .env
# Edit .env with REAL secrets (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è!)

# 4. Add documentation
cat > docs/SECRETS_MANAGEMENT.md << 'EOF'
# Secrets Management

## Setup
1. Copy `.env.example` to `.env`
2. Fill in real secrets
3. NEVER commit `.env` to Git!

## If leaked:
1. Rotate secrets IMMEDIATELY!
2. Remove from Git history (see below)

## Remove from history:
```bash
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch .env" \
  --prune-empty -- --all
```
EOF

git add docs/SECRETS_MANAGEMENT.md
git commit -m "docs: add secrets management guide"
```

**Hans:**
> *"–ù–æ–≤—ã–π —á–ª–µ–Ω –∫–æ–º–∞–Ω–¥—ã –∫–ª–æ–Ω–∏—Ä—É–µ—Ç repo ‚Üí –≤–∏–¥–∏—Ç `.env.example` ‚Üí –∫–æ–ø–∏—Ä—É–µ—Ç –≤ `.env` ‚Üí –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–∏ —Å–µ–∫—Ä–µ—Ç—ã ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç. –°–µ–∫—Ä–µ—Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤ Git."*

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è: –¶–∏–∫–ª 3

**LILITH:** *"Secrets ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ–º–∞. –¢—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞."*

**–í–æ–ø—Ä–æ—Å 1:** –ú–æ–∂–Ω–æ –ª–∏ `.gitignore` –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —É–∂–µ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª —Å–µ–∫—Ä–µ—Ç—ã?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –ú–æ–∂–Ω–æ, –Ω–æ **–ü–û–ó–î–ù–û**.

`.gitignore` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è **–Ω–æ–≤—ã—Ö** —Ñ–∞–π–ª–æ–≤. –£–∂–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏!

**–ù—É–∂–Ω–æ:**
1. –î–æ–±–∞–≤–∏—Ç—å `.gitignore`
2. –£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ (`git filter-branch`)
3. –†–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏ (—Å—Ç–∞—Ä—ã–µ —É–∂–µ leaked!)

**LILITH:** *".gitignore ‚Äî —ç—Ç–æ –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤. –ù–∞–¥–µ–≤–∞—Ç—å –Ω—É–∂–Ω–æ –î–û, –Ω–µ –ø–æ—Å–ª–µ."*

</details>

**–í–æ–ø—Ä–æ—Å 2:** –ü–æ—á–µ–º—É `.env.example` –º–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å, –∞ `.env` –Ω–µ–ª—å–∑—è?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:**

- `.env.example` = TEMPLATE (placeholder values)
  ```
  DB_PASSWORD=your_password_here  ‚Üê –ù–µ –Ω–∞—Å—Ç–æ—è—â–∏–π –ø–∞—Ä–æ–ª—å
  ```

- `.env` = REAL SECRETS
  ```
  DB_PASSWORD=SuperSecret123!  ‚Üê –ù–∞—Å—Ç–æ—è—â–∏–π –ø–∞—Ä–æ–ª—å
  ```

`.env.example` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤.

</details>

**–í–æ–ø—Ä–æ—Å 3:** –ë–æ—Ç—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥—è—Ç —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞ GitHub?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** **–î–ê. 100% —Ä–µ–∞–ª—å–Ω–æ.**

–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
- **< 5 –º–∏–Ω—É—Ç** ‚Äî AWS –∫–ª—é—á–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã
- **–¢—ã—Å—è—á–∏ –±–æ—Ç–æ–≤** —Å–∫–∞–Ω–∏—Ä—É—é—Ç GitHub 24/7
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∏—â—É—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã: `api_key=`, `password=`, `secret=`

**Real world:** GitHub Leaked Secret Detection –±–ª–æ–∫–∏—Ä—É–µ—Ç ~2 –º–∏–ª–ª–∏–æ–Ω–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –≥–æ–¥.

**Hans:** *"–≠—Ç–æ –Ω–µ –ø–∞—Ä–∞–Ω–æ–π—è. –≠—Ç–æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å. –ë–æ—Ç—ã –±—ã—Å—Ç—Ä–µ–µ –ª—é–¥–µ–π."*

**LILITH:** *"–ó–∞–∫–æ–º–º–∏—Ç–∏–ª –ø–∞—Ä–æ–ª—å –Ω–∞ GitHub? –°—á–∏—Ç–∞–π —á—Ç–æ –æ–Ω –ø—É–±–ª–∏—á–Ω—ã–π. –ß–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç –µ–≥–æ –∑–Ω–∞—é—Ç –≤—Å–µ. –í–∫–ª—é—á–∞—è –±–æ—Ç–Ω–µ—Ç—ã."*

</details>

**Hans:**
> *"–û—Ç–ª–∏—á–Ω–æ. –¢–µ–ø–µ—Ä—å —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å –ø–æ—á–µ–º—É —è —Ç–∞–∫ –ø–∞—Ä–∞–Ω–æ–∏–¥–∞–ª–µ–Ω. Secrets ‚Äî —ç—Ç–æ –Ω–µ —à—É—Ç–∫–∏. –û–¥–Ω–∞ –æ—à–∏–±–∫–∞ ‚Äî –∏ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–∞–ª–µ–Ω–∞."*

---

## –¶–ò–ö–õ 4: Merge Conflicts ‚Äî –°–ª–∏—è–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π ‚ö°
### (10-15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç: Max –∏ Dmitry —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

**19:00 ‚Äî CCC, Hans —É—à—ë–ª –∑–∞ –∫–æ—Ñ–µ**

Max –∏ Dmitry —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–∞–∑–Ω—ã—Ö feature branches.

**Max (–≤ feature/max-nginx):** –ü—Ä–∞–≤–∏—Ç `ansible/playbooks/webservers.yml`, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç nginx –Ω–∞ –ø–æ—Ä—Ç 80.

**Dmitry (–≤ feature/dmitry-nginx):** –í —Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç nginx –Ω–∞ –ø–æ—Ä—Ç 8080.

–û–±–∞ –∫–æ–º–º–∏—Ç—è—Ç. Hans –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è.

**Hans:**
> *"–•–æ—Ä–æ—à–æ. Merge –æ–±–∞ branch –≤ main. –ü–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è."*

**Max:**
```bash
git checkout main
git merge feature/max-nginx
# Merged successfully
```

**Dmitry:**
```bash
git merge feature/dmitry-nginx
# ‚ö†Ô∏è CONFLICT in webservers.yml!
```

**Dmitry (–ø–∞–Ω–∏–∫–∞):**
> *"–û—à–∏–±–∫–∞! Auto-merging webservers.yml CONFLICT!"*

**Hans (—Å–ø–æ–∫–æ–π–Ω–æ):**
> *"–≠—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞. –≠—Ç–æ **merge conflict**. Git –Ω–µ –∑–Ω–∞–µ—Ç —á—å—é –≤–µ—Ä—Å–∏—é –≤—ã–±—Ä–∞—Ç—å ‚Äî —Ç–≤–æ—é –∏–ª–∏ Max. –¢—ã –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∏—Ç—å."*

**LILITH:**
> *"Merge conflict ‚Äî —ç—Ç–æ –∫–∞–∫ –¥–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∞–≤—è—Ç Google Doc. –ö—Ç–æ-—Ç–æ –¥–æ–ª–∂–µ–Ω —Ä–∞–∑—Ä—É–ª–∏—Ç—å. –í Git —ç—Ç–æ—Ç –∫—Ç–æ-—Ç–æ ‚Äî —Ç—ã."*

---

### üìö –¢–µ–æ—Ä–∏—è: Merge Conflicts ‚Äî —á—Ç–æ —ç—Ç–æ?

**Merge conflict** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞:
- –î–≤–∞ branches –∏–∑–º–µ–Ω–∏–ª–∏ **–æ–¥–Ω—É –∏ —Ç—É –∂–µ —Å—Ç—Ä–æ–∫—É** —Ñ–∞–π–ª–∞
- Git –Ω–µ –∑–Ω–∞–µ—Ç –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é –æ—Å—Ç–∞–≤–∏—Ç—å
- –¢—Ä–µ–±—É–µ—Ç **—Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è**

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞: –°–ª–∏—è–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π**

–ü—Ä–µ–¥—Å—Ç–∞–≤—å —Ñ–∏–ª—å–º "Back to the Future":
- **Timeline A:** Marty –≤ 1985 –≥–æ–¥—É (Max's changes)
- **Timeline B:** Marty –≤ 1955 –≥–æ–¥—É (Dmitry's changes)
- **Merge:** –ü–æ–ø—ã—Ç–∫–∞ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–µ timeline ‚Üí –ö–û–ù–§–õ–ò–ö–¢!

Git –Ω–µ –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ—à–∏—Ç—å —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ù—É–∂–µ–Ω —á–µ–ª–æ–≤–µ–∫ (—Ç—ã).

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞:**

```
main:       A‚îÄ‚îÄ‚îÄB‚îÄ‚îÄ‚îÄE (trying to merge)
             \     /
              \   /
Max branch:    C (port 80)
Dmitry branch:  D (port 8080)

–ö–æ–Ω—Ñ–ª–∏–∫—Ç: C –∏ D –∏–∑–º–µ–Ω–∏–ª–∏ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É!
```

**LILITH:**
> *"Merge conflict ‚Äî —ç—Ç–æ Git –≥–æ–≤–æ—Ä–∏—Ç: '–°–ª—É—à–∞–π, —É–º–Ω–∏–∫, —è —Ç—É—Ç –¥–≤–∞ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∞—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—à—ë–ª. –†–∞–∑–±–∏—Ä–∞–π—Å—è —Å–∞–º.'"*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 8: Simulate merge conflict

**–í–æ—Å—Å–æ–∑–¥–∞–¥–∏–º —Å—Ü–µ–Ω–∞—Ä–∏–π Max vs Dmitry:**

```bash
cd ~/operation-shadow-infrastructure

# 1. Max —Å–æ–∑–¥–∞—ë—Ç —Å–≤–æ–π branch
git checkout -b max-nginx-fix
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- hosts: webservers
  tasks:
    - name: Configure nginx
      lineinfile:
        path: /etc/nginx/nginx.conf
        line: '    listen 80;'   # Max: port 80
EOF
git add ansible/playbooks/webservers.yml
git commit -m "fix: configure nginx port 80"

# 2. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ main
git checkout main

# 3. Dmitry —Å–æ–∑–¥–∞—ë—Ç —Å–≤–æ–π branch (from main, before Max's merge!)
git checkout -b dmitry-nginx-fix
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- hosts: webservers
  tasks:
    - name: Configure nginx
      lineinfile:
        path: /etc/nginx/nginx.conf
        line: '    listen 8080;'   # Dmitry: port 8080
EOF
git add ansible/playbooks/webservers.yml
git commit -m "fix: configure nginx port 8080"

# 4. Max –º–µ—Ä–∂–∏—Ç –ø–µ—Ä–≤—ã–º
git checkout main
git merge max-nginx-fix
# ‚úÖ Merged successfully (fast-forward)

# 5. Dmitry –ø—ã—Ç–∞–µ—Ç—Å—è –º–µ—Ä–∂–∏—Ç—å
git merge dmitry-nginx-fix
# ‚ö†Ô∏è CONFLICT!
```

**Output:**
```
Auto-merging ansible/playbooks/webservers.yml
CONFLICT (content): Merge conflict in ansible/playbooks/webservers.yml
Automatic merge failed; fix conflicts and then commit the result.
```

---

### üìñ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞

**–û—Ç–∫—Ä–æ–µ–º —Ñ–∞–π–ª:**

```bash
cat ansible/playbooks/webservers.yml
```

**Git –≤—Å—Ç–∞–≤–∏–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ markers:**

```yaml
---
- hosts: webservers
  tasks:
    - name: Configure nginx
      lineinfile:
        path: /etc/nginx/nginx.conf
<<<<<<< HEAD
        line: '    listen 80;'   # Max's version (current branch)
=======
        line: '    listen 8080;'   # Dmitry's version (incoming)
>>>>>>> dmitry-nginx-fix
```

**Markers:**
- `<<<<<<< HEAD` ‚Äî –Ω–∞—á–∞–ª–æ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ (Max)
- `=======` ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
- `>>>>>>> dmitry-nginx-fix` ‚Äî –∫–æ–Ω–µ—Ü incoming –≤–µ—Ä—Å–∏–∏ (Dmitry)

**–¢–≤–æ—è –∑–∞–¥–∞—á–∞:** –í—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É –≤–µ—Ä—Å–∏—é (–∏–ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å), —É–¥–∞–ª–∏—Ç—å markers.

**LILITH:**
> *"–í–∏–¥–∏—à—å —ç—Ç–∏ `<<<<<<<`, `=======`, `>>>>>>>`? –≠—Ç–æ Git –∫—Ä–∏—á–∏—Ç: '–ü–û–ú–û–ì–ò–¢–ï! –ù–µ –∑–Ω–∞—é —á—Ç–æ –¥–µ–ª–∞—Ç—å!' –£–¥–∞–ª–∏ markers, –≤—ã–±–µ—Ä–∏ –≤–µ—Ä—Å–∏—é, –∑–∞–∫–æ–º–º–∏—Ç—å ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ä–µ—à—ë–Ω."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 9: Resolve conflict

**–†–µ—à–µ–Ω–∏–µ:** –í—ã–±—Ä–∞—Ç—å port 80 (production standard).

```bash
# 1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- hosts: webservers
  tasks:
    - name: Configure nginx
      lineinfile:
        path: /etc/nginx/nginx.conf
        line: '    listen 80;'   # Resolved: chose port 80 for production
EOF

# 2. Markers —É–¥–∞–ª–µ–Ω—ã! –î–æ–±–∞–≤–∏—Ç—å –≤ staging
git add ansible/playbooks/webservers.yml

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status
# All conflicts fixed. Ready to commit.

# 4. Commit —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
git commit -m "fix: resolve merge conflict (chose port 80 for production)"

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
git log --oneline --graph --all
```

**Conflict resolved!** ‚úÖ

**Hans:**
> *"–•–æ—Ä–æ—à–æ. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –í production –≤—ã–±–∏—Ä–∞–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã. Port 80 –¥–ª—è HTTP ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä."*

---

### üí° "Aha!" –º–æ–º–µ–Ω—Ç: –ß—Ç–æ –µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–∏—Ç—å markers?

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –ó–∞–±—ã–ª —É–¥–∞–ª–∏—Ç—å `<<<<<<<`, `=======`, `>>>>>>>`.

```yaml
# ‚ùå –û–®–ò–ë–ö–ê: Markers –æ—Å—Ç–∞–ª–∏—Å—å!
---
- hosts: webservers
  tasks:
<<<<<<< HEAD
    - name: Install nginx
=======
    - name: Setup nginx
>>>>>>> branch
```

**Commit —Å markers:**
```bash
git add .
git commit -m "fix: resolve conflict"  # –ù–ï –ó–ê–ú–ï–¢–ò–õ MARKERS!
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ùå Ansible playbook —Å–ª–æ–º–∞–Ω (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞)
- ‚ùå Deployment fails
- ‚ùå Hans –Ω–µ–¥–æ–≤–æ–ª–µ–Ω

**LILITH:**
> *"Markers –≤ —Ñ–∞–π–ª–µ ‚Äî –∫–∞–∫ –∑–∞–±—ã—Ç—å —Å–Ω—è—Ç—å —Ü–µ–Ω–Ω–∏–∫ —Å –Ω–æ–≤–æ–π –æ–¥–µ–∂–¥—ã. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç. –í—ã–≥–ª—è–¥–∏—Ç –¥–µ–±–∏–ª—å–Ω–æ. –ö–æ–ª–ª–µ–≥–∏ –∑–∞–º–µ—Ç—è—Ç."*

**How to avoid:**
```bash
# –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π:
grep -r "<<<<<" ansible/
grep -r ">>>>>" ansible/
# –ï—Å–ª–∏ –≤—ã–≤–æ–¥ –ø—É—Å—Ç–æ–π ‚Äî markers —É–¥–∞–ª–µ–Ω—ã ‚úÖ
```

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è: –¶–∏–∫–ª 4

**LILITH:** *"Merge conflicts ‚Äî —á–∞—Å—Ç–∞—è –ø—Ä–æ–±–ª–µ–º–∞. –¢—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞."*

**–í–æ–ø—Ä–æ—Å 1:** –ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–∞—é—Ç merge conflicts?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –ö–æ–≥–¥–∞ –¥–≤–∞ branches –∏–∑–º–µ–Ω—è—é—Ç **–æ–¥–Ω—É –∏ —Ç—É –∂–µ —Å—Ç—Ä–æ–∫—É** —Ñ–∞–π–ª–∞.

Git –Ω–µ –∑–Ω–∞–µ—Ç –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é –≤—ã–±—Ä–∞—Ç—å ‚Üí —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.

**–ù–ï –∫–æ–Ω—Ñ–ª–∏–∫—Ç:**
- Max –ø—Ä–∞–≤–∏—Ç `file1.txt`, Dmitry –ø—Ä–∞–≤–∏—Ç `file2.txt` ‚Üí –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
- Max –ø—Ä–∞–≤–∏—Ç —Å—Ç—Ä–æ–∫—É 10, Dmitry –ø—Ä–∞–≤–∏—Ç —Å—Ç—Ä–æ–∫—É 50 **—Ç–æ–≥–æ –∂–µ —Ñ–∞–π–ª–∞** ‚Üí –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç:**
- Max –ø—Ä–∞–≤–∏—Ç —Å—Ç—Ä–æ–∫—É 10, Dmitry **—Ç–æ–∂–µ** –ø—Ä–∞–≤–∏—Ç —Å—Ç—Ä–æ–∫—É 10 ‚Üí –ö–û–ù–§–õ–ò–ö–¢!

</details>

**–í–æ–ø—Ä–æ—Å 2:** –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–±–µ–∂–∞—Ç—å merge conflicts?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–±–µ–∂–∞—Ç—å ‚Äî **–Ω–µ—Ç**. –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ‚Äî **–¥–∞**.

**–ö–∞–∫ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å:**
1. **–ß–∞—Å—Ç—ã–µ merges:** –ù–µ –¥–µ—Ä–∂–∏ feature branch –º–µ—Å—è—Ü–∞–º–∏
2. **–ú–∞–ª–µ–Ω—å–∫–∏–µ commits:** –ú–µ–Ω—å—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π = –º–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
3. **–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è:** "–Ø —Å–µ–π—á–∞—Å –ø—Ä–∞–≤–ª—é nginx.conf" ‚Üí –¥—Ä—É–≥–∏–µ –Ω–µ —Ç—Ä–æ–≥–∞—é—Ç
4. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:** –†–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö features

**Hans:** *"–í –∫–æ–º–∞–Ω–¥–µ 50 —á–µ–ª–æ–≤–µ–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –Ω–µ–∏–∑–±–µ–∂–Ω—ã. –ì–ª–∞–≤–Ω–æ–µ ‚Äî —É–º–µ—Ç—å —Ä–∞–∑—Ä–µ—à–∞—Ç—å –±—ã—Å—Ç—Ä–æ."*

</details>

**–í–æ–ø—Ä–æ—Å 3:** –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `git merge --abort`?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** **–û—Ç–º–µ–Ω—è–µ—Ç merge** –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç repository –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ **–¥–æ merge**.

```bash
git merge feature-branch
# CONFLICT!
# "–ë–ª–∏–Ω, —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ. –ü–æ—Ç–æ–º —Ä–∞–∑–±–µ—Ä—É—Å—å."
git merge --abort
# Merge –æ—Ç–º–µ–Ω—ë–Ω, –≤—Å—ë –∫–∞–∫ –±—ã–ª–æ
```

–ü–æ–ª–µ–∑–Ω–æ –∫–æ–≥–¥–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏ –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–¥—É–º–∞—Ç—å.

**LILITH:** *"`git merge --abort` ‚Äî —ç—Ç–æ –∫–Ω–æ–ø–∫–∞ 'Undo'. –ó–∞—Å—Ç—Ä—è–ª –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö? –û—Ç–∫–∞—Ç. –ü–æ–¥—É–º–∞–π. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞."*

</details>

**Hans:**
> *"Merge conflicts ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã. –ù–µ –ø–∞–Ω–∏–∫—É–π. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª, —É–¥–∞–ª–∏ markers, –≤—ã–±–µ—Ä–∏ –≤–µ—Ä—Å–∏—é, commit. –í—Å—ë."*

---

## –¶–ò–ö–õ 5: INCIDENT ‚Äî Leaked Secret üî•üö®
### (15-20 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç: Emergency –∑–≤–æ–Ω–æ–∫ –æ—Ç Anna

**21:30 ‚Äî CCC, Max –∏ Dmitry –ø–æ—á—Ç–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏ Git setup**

**BZZZZT!** –¢–µ–ª–µ—Ñ–æ–Ω Max –≤–∏–±—Ä–∏—Ä—É–µ—Ç. Anna. Video call.

**Anna (–Ω–∞ —ç–∫—Ä–∞–Ω–µ, –ª–∏—Ü–æ –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω–æ–µ, –∑–∞ —Å–ø–∏–Ω–æ–π ‚Äî –º–æ–Ω–∏—Ç–æ—Ä—ã —Å –ª–æ–≥–∞–º–∏):**
> *"Max! EMERGENCY! –ö—Ç–æ-—Ç–æ –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∑–∞–∫–æ–º–º–∏—Ç–∏–ª **–ø–∞—Ä–æ–ª—å –æ—Ç production database** –≤ Git repository!"*

**Max:**
> *"–ß—Ç–æ? –ö—Ç–æ?"*

**Anna:**
> *"–ù–µ –≤–∞–∂–Ω–æ –∫—Ç–æ! –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π public! GitHub! –ö–æ–º–º–∏—Ç 30 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥! **Krylov —É–∂–µ –∑–Ω–∞–µ—Ç!** –£ –Ω–∞—Å 10 –º–∏–Ω—É—Ç –¥–æ –∞—Ç–∞–∫–∏!"*

**Hans (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Å–µ—Ä—å—ë–∑–Ω—ã–π, –æ—Ç–æ–¥–≤–∏–≥–∞–µ—Ç –∫–æ—Ñ–µ):**
> *"Scheisse. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞. Git –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–±—ã–≤–∞–µ—Ç. –î–∞–∂–µ –µ—Å–ª–∏ —É–¥–∞–ª–∏—à—å commit, –æ–Ω –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏."*

(–ø–µ—á–∞—Ç–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã)

> *"–ù—É–∂–µ–Ω `git filter-branch` –∏–ª–∏ BFG Repo-Cleaner. –ù–ï–ú–ï–î–õ–ï–ù–ù–û."*

**Dmitry:**
> *"–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏?"*

**Hans:**
> *"5 –º–∏–Ω—É—Ç –Ω–∞ cleanup –∏—Å—Ç–æ—Ä–∏–∏. 3 –º–∏–Ω—É—Ç—ã –Ω–∞ —Ä–æ—Ç–∞—Ü–∏—é –ø–∞—Ä–æ–ª—è. 2 –º–∏–Ω—É—Ç—ã –∑–∞–ø–∞—Å. Go! Go! Go!"*

**LILITH:**
> *"–≠—Ç–æ –Ω–µ —É—á–µ–±–Ω–∞—è —Ç—Ä–µ–≤–æ–≥–∞. –≠—Ç–æ real incident. –û–¥–Ω–∞ –æ—à–∏–±–∫–∞ ‚Äî Krylov –≤ –Ω–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –í—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π."*

---

### üìö –¢–µ–æ—Ä–∏—è: Git History ‚Äî Immutable Blockchain

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è:** Git history = **blockchain**.

–û–¥–Ω–∞–∂–¥—ã —á—Ç–æ-—Ç–æ –∑–∞–∫–æ–º–º–∏—Ç–∏–≤ ‚Üí –æ–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞. –î–∞–∂–µ –µ—Å–ª–∏ "—É–¥–∞–ª–∏—à—å" —Ñ–∞–π–ª.

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

```
Commit history (–∫–∞–∫ blockchain):
A ‚Üí B ‚Üí C ‚Üí D ‚Üí E
        ‚Üë
     Leaked secret here!

"–£–¥–∞–ª–µ–Ω–∏–µ" commit C:
‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: C –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç: Rewrite history (–æ–ø–∞—Å–Ω–æ!)
```

**Why Git doesn't forget:**

Git —Ö—Ä–∞–Ω–∏—Ç **–≤—Å–µ commits** (–¥–∞–∂–µ —É–¥–∞–ª—ë–Ω–Ω—ã–µ) –¥–ª—è:
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫–∞—Ç–∞ (`git reflog`)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–µ–ª—å–∑—è –ø–æ—Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–ª—É—á–∞–π–Ω–æ)
- Audit trail

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª —Å–µ–∫—Ä–µ—Ç ‚Üí –æ–Ω –≤ –∏—Å—Ç–æ—Ä–∏–∏. –ù–∞–≤—Å–µ–≥–¥–∞.

**LILITH:**
> *"Git ‚Äî —ç—Ç–æ —Å–ª–æ–Ω. –ü–æ–º–Ω–∏—Ç –≤—Å—ë. –ù–µ –∑–∞–±—ã–≤–∞–µ—Ç –Ω–∏–∫–æ–≥–¥–∞. –ó–∞–∫–æ–º–º–∏—Ç–∏–ª –ø–∞—Ä–æ–ª—å? Git –∑–∞–ø–æ–º–Ω–∏–ª. GitHub –∑–∞–ø–æ–º–Ω–∏–ª. –ë–æ—Ç—ã –∑–∞–ø–æ–º–Ω–∏–ª–∏. –†–æ—Ç–∏—Ä—É–π –ø–∞—Ä–æ–ª—å. –°–µ–π—á–∞—Å –∂–µ."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 10: INCIDENT ‚Äî Find leaked secret

**Simulate incident:**

```bash
cd ~/operation-shadow-infrastructure

# ‚ùå –û–®–ò–ë–ö–ê: –∫—Ç–æ-—Ç–æ (–Ω–µ —Ç—ã!) –∑–∞–∫–æ–º–º–∏—Ç–∏–ª secrets.txt
cat > secrets.txt << 'EOF'
# Production Database Password
DB_PASSWORD=ProdSecret2024!
DB_HOST=10.20.30.40

# Viktor SSH key
SSH_KEY=-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA...
EOF

git add secrets.txt
git commit -m "Add production secrets"  # üíÄ FATAL MISTAKE!

# Secret —Ç–µ–ø–µ—Ä—å –≤ –∏—Å—Ç–æ—Ä–∏–∏!
git log --oneline
# a1b2c3d Add production secrets  ‚Üê üíÄ LEAK!
```

**Task 1: Find leaked secret**

```bash
# Search Git history for "password"
git log --all -S "DB_PASSWORD" --oneline

# Output:
# a1b2c3d Add production secrets  ‚Üê Found it!

# See full commit
git show a1b2c3d
# –í–∏–¥–∏–º –≤–µ—Å—å —Å–µ–∫—Ä–µ—Ç!
```

**Hans:**
> *"–ù–∞–π–¥–µ–Ω. Commit a1b2c3d. 5 –º–∏–Ω—É—Ç –ø—Ä–æ—à–ª–æ. –û—Å—Ç–∞–ª–æ—Å—å 5 –º–∏–Ω—É—Ç. Remove from history. NOW!"*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 11: Remove from Git history

**Option 1: git filter-branch** (slow but built-in)

```bash
# Remove secrets.txt from ALL history
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch secrets.txt" \
  --prune-empty --tag-name-filter cat -- --all

# Clean up refs
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

**Option 2: BFG Repo-Cleaner** (fast, recommended)

```bash
# Install BFG (if not installed)
# sudo apt install bfg

# Remove file from history
bfg --delete-files secrets.txt
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

**Hans (—Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —á–∞—Å—ã):**
> *"2 –º–∏–Ω—É—Ç—ã. History cleaned. –¢–µ–ø–µ—Ä—å force push."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 12: Force push & Password rotation

```bash
# ‚ö†Ô∏è WARNING: Force push rewrites remote history!
# Notify team BEFORE doing this!
git push --force --all

# Output:
# + a1b2c3d...e4f5g6h main -> main (forced update)
```

**Hans:**
> *"Remote history rewritten. Secret —É–¥–∞–ª—ë–Ω. –ù–æ!"*

(—Å–µ—Ä—å—ë–∑–Ω–æ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ Max)

> *"Password —É–∂–µ leaked. –ë–æ—Ç—ã –º–æ–≥–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –†–æ—Ç–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è. IMMEDIATELY."*

**Anna (–Ω–∞ –≤–∏–¥–µ–æ—Å–≤—è–∑–∏):**
> *"–ú–µ–Ω—è—é –ø–∞—Ä–æ–ª—å –ë–î –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å... –ì–æ—Ç–æ–≤–æ. –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –°—Ç–∞—Ä—ã–π –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç."*

**Hans:**
> *"–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—à–ª–æ?"*

**Max (—Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —á–∞—Å—ã):**
> *"8 –º–∏–Ω—É—Ç. –£—Å–ø–µ–ª–∏."*

**Anna:**
> *"–í–∏–∂—É –ø–æ–ø—ã—Ç–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å Tor node (185.220.101.52). Krylov. –ü–∞—Ä–æ–ª—å –Ω–µ –ø–æ–¥–æ—à—ë–ª. Blocked."*

**LILITH:**
> *"8 –º–∏–Ω—É—Ç. –ú–µ–∂–¥—É —É—Ç–µ—á–∫–æ–π –∏ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–æ–π. –†–æ—Ç–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è —Å–ø–∞—Å–ª–∞ –æ–ø–µ—Ä–∞—Ü–∏—é. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –º–æ–∂–µ–º –Ω–µ —É—Å–ø–µ—Ç—å."*

---

### üí° "Aha!" –º–æ–º–µ–Ω—Ç: Force push danger

**Force push** = **–ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏**.

**Danger:**
- –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ —É–∂–µ pull old history ‚Üí –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —É –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã
- –ü–æ—Ç–µ—Ä—è commits –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π
- Requires coordination

**When to use:**
- ‚úÖ Leaked secret (—á—Ä–µ–∑–≤—ã—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è)
- ‚ùå "Oops, typo in commit message" (–Ω–µ –Ω—É–∂–µ–Ω!)

**Rule:** Force push = last resort. –¢–æ–ª—å–∫–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º.

**Hans:**
> *"Force push ‚Äî —ç—Ç–æ —è–¥–µ—Ä–Ω–∞—è –æ–ø—Ü–∏—è. –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É, –Ω–æ —Å–æ–∑–¥–∞—ë—Ç –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã. Used only when absolutely necessary."*

---

### üìã Post-Incident Checklist

**After leaked secret incident:**

```bash
# 1. Add to .gitignore (prevent future)
echo "secrets.txt" >> .gitignore
git add .gitignore
git commit -m "fix: add secrets.txt to .gitignore after leak incident"

# 2. Document incident
cat > docs/INCIDENT_2025_10_10.md << 'EOF'
# Incident: Leaked Production Password

**Date:** 2025-10-10 21:30 UTC
**Severity:** CRITICAL
**Status:** Resolved

## What happened:
- Production database password committed to public GitHub
- Discovered 30 minutes after commit
- Responded in 8 minutes

## Actions taken:
1. Removed secret from Git history (git filter-branch)
2. Force pushed to remote
3. Rotated password immediately
4. Blocked attacker (Krylov, Tor node 185.220.101.52)

## Root cause:
- No .gitignore for secrets.txt
- Team member unfamiliar with Git security

## Prevention:
- Added secrets.txt to .gitignore
- Team training on Git security
- Pre-commit hooks to scan for secrets (planned)

## Lessons learned:
- .gitignore FIRST, commit SECOND
- Password rotation must be automatic
- Incident response time critical (<10 minutes)
EOF

git add docs/INCIDENT_2025_10_10.md
git commit -m "docs: incident report for leaked secret"
```

**Hans:**
> *"–ò–Ω—Ü–∏–¥–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç. Password —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω. –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞. –ê—Ç–∞–∫–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∞. Good work."*

**LILITH:**
> *"–í—ã–∂–∏–ª–∏. –í —ç—Ç–æ—Ç —Ä–∞–∑. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –º–æ–∂–µ–º –Ω–µ —É—Å–ø–µ—Ç—å. `.gitignore` ‚Äî —ç—Ç–æ –Ω–µ suggestion. –≠—Ç–æ survival."*

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è: –¶–∏–∫–ª 5

**LILITH:** *"Incident —Ä–∞–∑–æ–±—Ä–∞–Ω. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã."*

**–í–æ–ø—Ä–æ—Å 1:** –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª (`git rm`) –ø–æ—Å–ª–µ leak?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** `git rm` —É–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª –∏–∑ **—Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**, –Ω–æ –ù–ï –∏–∑ **–∏—Å—Ç–æ—Ä–∏–∏**.

```bash
git rm secrets.txt
git commit -m "remove secrets"
# –§–∞–π–ª–∞ –Ω–µ—Ç –≤ –Ω–æ–≤–æ–º commit
# –ù–û! –û–Ω –æ—Å—Ç–∞–ª—Å—è –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö commits!

git log --all -- secrets.txt
# –í–∏–¥–∏–º –≤—Å–µ commits –≥–¥–µ —Ñ–∞–π–ª –±—ã–ª
git show <old-commit>:secrets.txt
# –ú–æ–∂–µ–º –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ!
```

–ù—É–∂–µ–Ω `git filter-branch` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏.

**LILITH:** *"`git rm` ‚Äî —ç—Ç–æ –ø—Ä—è—Ç–∞—Ç—å —Ç—Ä—É–ø –ø–æ–¥ –∫–æ–≤—Ä–æ–º. –¢—Ä—É–ø –æ—Å—Ç–∞–ª—Å—è. –ü—Ä–æ—Å—Ç–æ –Ω–µ –≤–∏–¥–µ–Ω. Git history –∑–Ω–∞–µ—Ç –≥–¥–µ –∏—Å–∫–∞—Ç—å."*

</details>

**–í–æ–ø—Ä–æ—Å 2:** –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –µ—Å—Ç—å –Ω–∞ —Ä–µ–∞–∫—Ü–∏—é –ø–æ—Å–ª–µ leak –Ω–∞ GitHub?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** **< 5-10 –º–∏–Ω—É—Ç** –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö secrets (AWS keys, DB passwords).

Research –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- AWS keys: compromised –∑–∞ < 5 –º–∏–Ω—É—Ç
- Database passwords: < 10 –º–∏–Ω—É—Ç
- API tokens: < 15 –º–∏–Ω—É—Ç

–ë–æ—Ç—ã —Å–∫–∞–Ω–∏—Ä—É—é—Ç GitHub commits –≤ real-time.

**Hans:** *"10 –º–∏–Ω—É—Ç ‚Äî —ç—Ç–æ –µ—Å–ª–∏ –ø–æ–≤–µ–∑—ë—Ç. Bots —Ä–∞–±–æ—Ç–∞—é—Ç 24/7. –†–µ–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π."*

</details>

**–í–æ–ø—Ä–æ—Å 3:** –ß—Ç–æ –≤–∞–∂–Ω–µ–µ: —É–¥–∞–ª–∏—Ç—å secret –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∏–ª–∏ —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å?
<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** **–†–û–¢–ê–¶–ò–Ø –ü–ê–†–û–õ–Ø –í–ê–ñ–ù–ï–ï!**

**Priority:**
1. **Rotate password** (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ) ‚Äî —Å—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. Remove from history ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å —Å–ª–µ–¥—ã
3. Add to .gitignore ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä

**Why:** –î–∞–∂–µ –µ—Å–ª–∏ —É–¥–∞–ª–∏—à—å –∏–∑ Git, –±–æ—Ç—ã –º–æ–≥–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ = —Å–¥–µ–ª–∞—Ç—å –ø–∞—Ä–æ–ª—å –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–º.

**LILITH:** *"Git history –º–æ–∂–Ω–æ –ø–æ—á–∏—Å—Ç–∏—Ç—å –ø–æ—Ç–æ–º. –ü–∞—Ä–æ–ª—å —Ä–æ—Ç–∏—Ä—É–π —Å–µ–π—á–∞—Å. –ö–∞–∂–¥–∞—è —Å–µ–∫—É–Ω–¥–∞ ‚Äî —à–∞–Ω—Å –¥–ª—è –∞—Ç–∞–∫–∏."*

</details>

**Hans:**
> *"–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–∫ —É—Å–≤–æ–µ–Ω. Leak ‚Äî —ç—Ç–æ –Ω–µ –∫–æ–Ω–µ—Ü. –ù–æ —Ä–µ–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±—ã—Å—Ç—Ä–æ–π. 8 –º–∏–Ω—É—Ç ‚Äî —Ö–æ—Ä–æ—à–æ. 5 –º–∏–Ω—É—Ç ‚Äî –ª—É—á—à–µ. 2 –º–∏–Ω—É—Ç—ã ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ."*

**Max:**
> *"–ü–æ–Ω—è–ª. `.gitignore` ‚Äî —ç—Ç–æ –ø–µ—Ä–≤–∞—è –ª–∏–Ω–∏—è –∑–∞—â–∏—Ç—ã. –ù–æ –µ—Å–ª–∏ –ø—Ä–æ–ª–æ–º–∏–ª–∏ ‚Äî —Ä–æ—Ç–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è —Å–ø–∞—Å–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é."*

---

## –¶–ò–ö–õ 6: Infrastructure as Code ‚Äî Git –¥–ª—è DevOps üèóÔ∏è
### (10-15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç: –ü–æ—Å–ª–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞

**22:30 ‚Äî CCC, Crisis resolved**

Hans –æ—Ç–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –Ω–∞–∑–∞–¥, –¥–µ–ª–∞–µ—Ç –≥–ª—É–±–æ–∫–∏–π –≤–¥–æ—Ö.

**Hans:**
> *"–•–æ—Ä–æ—à–æ. –ò–Ω—Ü–∏–¥–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç. –¢–µ–ø–µ—Ä—å –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ –ø–æ—á–µ–º—É Git –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è infrastructure."*

(–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–≤–æ–π laptop, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç repository)

```
operation-shadow-infrastructure/
‚îú‚îÄ‚îÄ ansible/
‚îÇ   ‚îú‚îÄ‚îÄ playbooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ webservers.yml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ databases.yml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ monitoring.yml
‚îÇ   ‚îú‚îÄ‚îÄ roles/
‚îÇ   ‚îî‚îÄ‚îÄ inventory/
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ web/Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ api/Dockerfile
‚îú‚îÄ‚îÄ terraform/
‚îÇ   ‚îú‚îÄ‚îÄ main.tf
‚îÇ   ‚îî‚îÄ‚îÄ variables.tf
‚îî‚îÄ‚îÄ .gitlab-ci.yml  ‚Üê CI/CD automation
```

**Hans:**
> *"Infrastructure as Code. –í—Å—ë –≤ Git. –°–µ—Ä–≤–µ—Ä—ã, –∫–æ–Ω—Ñ–∏–≥–∏, deployment pipelines. Changes —á–µ—Ä–µ–∑ Git workflow: branch ‚Üí review ‚Üí merge ‚Üí automated deployment."*

**Dmitry:**
> *"–í—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ?"*

**Hans:**
> *"–î–∞. Git commit ‚Üí CI/CD pipeline –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ‚Üí —Ç–µ—Å—Ç—ã ‚Üí deployment –Ω–∞ production. –ë–µ–∑ human intervention. –≠—Ç–æ DevOps."*

**LILITH:**
> *"Infrastructure as Code = —Å–µ—Ä–≤–µ—Ä—ã –æ–ø–∏—Å–∞–Ω—ã –∫–æ–¥–æ–º. –ö–æ–¥ –≤ Git. Git ‚Äî source of truth. –†—É—á–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ? –ù–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Git."*

---

### üìö –¢–µ–æ—Ä–∏—è: Infrastructure as Code (IaC)

**–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–ø–ª–æ—Ö–æ):**
- –ö–æ–Ω—Ñ–∏–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö
- Changes –≤—Ä—É—á–Ω—É—é (SSH ‚Üí vim ‚Üí edit ‚Üí save)
- –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- Impossible to replicate (–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–µ—Ä–≤–µ—Ä? –ù–∏–∫—Ç–æ –Ω–µ –ø–æ–º–Ω–∏—Ç)

**Infrastructure as Code (—Ö–æ—Ä–æ—à–æ):**
- –ö–æ–Ω—Ñ–∏–≥–∏ –≤ Git repository
- Changes —á–µ—Ä–µ–∑ pull requests
- –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è + code review
- Easy to replicate (git clone ‚Üí apply configs)

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞: LEGO Instructions**

**–ë–µ–∑ IaC:** –°–µ—Ä–≤–µ—Ä = –≥–æ—Ç–æ–≤–∞—è LEGO –º–æ–¥–µ–ª—å. –•–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å? –õ–æ–º–∞–π, —Å–æ–±–∏—Ä–∞–π –∑–∞–Ω–æ–≤–æ. –ù–∏–∫—Ç–æ –Ω–µ –ø–æ–º–Ω–∏—Ç –∫–∞–∫ –±—ã–ª–æ.

**–° IaC:** –°–µ—Ä–≤–µ—Ä = LEGO –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ Git. –•–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å? –†–µ–¥–∞–∫—Ç–∏—Ä—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é ‚Üí commit ‚Üí —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è.

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è workflow:**

```
Developer          Git          CI/CD          Production
    ‚îÇ               ‚îÇ              ‚îÇ                ‚îÇ
    ‚îú‚îÄ git commit ‚Üí ‚îÇ              ‚îÇ                ‚îÇ
    ‚îÇ               ‚îú‚îÄ trigger  ‚Üí ‚îÇ                ‚îÇ
    ‚îÇ               ‚îÇ              ‚îú‚îÄ test          ‚îÇ
    ‚îÇ               ‚îÇ              ‚îú‚îÄ build         ‚îÇ
    ‚îÇ               ‚îÇ              ‚îú‚îÄ deploy    ‚Üí  ‚îÇ
    ‚îÇ               ‚îÇ              ‚îÇ                ‚îú‚îÄ applied!
```

**LILITH:**
> *"IaC ‚Äî —ç—Ç–æ —Ä–µ—Ü–µ–ø—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤. –†–µ—Ü–µ–ø—Ç –≤ Git. –•–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å –±–ª—é–¥–æ? –ü—Ä–∞–≤–∏—à—å —Ä–µ—Ü–µ–ø—Ç, –Ω–µ –∏–º–ø—Ä–æ–≤–∏–∑–∏—Ä—É–µ—à—å –Ω–∞ –∫—É—Ö–Ω–µ."*

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 13: Create IaC repository structure

```bash
cd ~/operation-shadow-infrastructure

# Create comprehensive structure
mkdir -p ansible/playbooks ansible/roles ansible/inventory
mkdir -p docker/web docker/api docker/database
mkdir -p terraform scripts docs

# Ansible playbook example
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- name: Configure web servers
  hosts: webservers
  become: yes

  tasks:
    - name: Install nginx
      apt:
        name: nginx
        state: present

    - name: Deploy website
      copy:
        src: ../files/index.html
        dest: /var/www/html/

    - name: Start nginx
      systemd:
        name: nginx
        state: started
        enabled: yes
EOF

# Dockerfile example
cat > docker/web/Dockerfile << 'EOF'
FROM nginx:alpine
COPY nginx.conf /etc/nginx/nginx.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
EOF

# Document IaC workflow
cat > docs/INFRASTRUCTURE_AS_CODE.md << 'EOF'
# Infrastructure as Code Workflow

## Process
1. Create feature branch: `git checkout -b feature/new-server`
2. Edit configs (Ansible/Docker/Terraform)
3. Test locally
4. Commit: `git commit -m "feat: add monitoring server config"`
5. Push: `git push origin feature/new-server`
6. Create Pull Request
7. Code review by team
8. Merge to main
9. CI/CD deploys automatically

## Benefits
- Version control for infrastructure
- Code review process
- Easy rollback (git revert)
- Reproducible environments
- Audit trail

## Tools
- Ansible: Server configuration
- Docker: Containerization
- Terraform: Infrastructure provisioning
- GitLab CI/CD: Automated deployment
EOF

git add .
git commit -m "feat: add infrastructure as code structure and documentation"
```

**Hans:**
> *"–¢–µ–ø–µ—Ä—å –≤—Å—è infrastructure versioned. Rollback? `git revert`. –ù–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä? `git clone` ‚Üí apply. –ü—Ä–æ—Å—Ç–æ–∏."*

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è: –¶–∏–∫–ª 6

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É IaC –ª—É—á—à–µ —Ä—É—á–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏?

<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:**

‚úÖ **–° IaC:**
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∫—Ç–æ, –∫–æ–≥–¥–∞, –∑–∞—á–µ–º)
- Code review (–æ—à–∏–±–∫–∏ –≤—ã—è–≤–ª—è—é—Ç—Å—è –¥–æ production)
- Reproducible (–ª–µ–≥–∫–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é —Å–µ—Ä–≤–µ—Ä–∞)
- Automated deployment (–±–µ–∑ human error)
- Rollback –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (git revert)

‚ùå **–†—É—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ (–∫—Ç–æ –º–µ–Ω—è–ª config? –∫–æ–≥–¥–∞?)
- –ù–µ—Ç review (–æ—à–∏–±–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ production)
- Impossible to replicate ("–ö–∞–∫ –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä? –ù–∏–∫—Ç–æ –Ω–µ –ø–æ–º–Ω–∏—Ç")
- Manual deployment (risk of human error)
- Rollback —Å–ª–æ–∂–Ω—ã–π (–ø–æ–º–Ω–∏—à—å —á—Ç–æ –º–µ–Ω—è–ª?)

**LILITH:** *"–†—É—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Äî —ç—Ç–æ freestyle rap. IaC ‚Äî —ç—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –ø–µ—Å–Ω—è. Freestyle –∫—Ä—É—Ç–æ –¥–ª—è —à–æ—É. –ù–æ –¥–ª—è production –Ω—É–∂–Ω–∞ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å."*

</details>

---

## –¶–ò–ö–õ 7: Git Advanced ‚Äî –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Ñ–∏ üéì
### (10-15 –º–∏–Ω—É—Ç)

### üé¨ –°—é–∂–µ—Ç: Final review from Hans

**23:00 ‚Äî CCC, –§–∏–Ω–∞–ª —ç–ø–∏–∑–æ–¥–∞**

Hans —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —á–∞—Å—ã.

**Hans:**
> *"6 —á–∞—Å–æ–≤ –ø—Ä–æ—à–ª–æ. –í—ã —É—Å–≤–æ–∏–ª–∏ Git basics, branching, secrets, conflicts, infrastructure as code. –ü–æ—Å–ª–µ–¥–Ω—è—è —Ç–µ–º–∞: advanced Git commands."*

(–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª, –ø–µ—á–∞—Ç–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã)

**Hans:**
> *"–í CCC –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Git –µ–∂–µ–¥–Ω–µ–≤–Ω–æ. –ù–µ —Ç–æ–ª—å–∫–æ `add`, `commit`, `push`. –ï—Å—Ç—å –º–æ—â–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è debugging, –∞–Ω–∞–ª–∏–∑–∞, cleanup. –ü–æ–∫–∞–∂—É —Å–∞–º—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ."*

**LILITH:**
> *"Git ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ version control. –≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. Forensics –¥–ª—è –∫–æ–¥–∞. –ù–∞—É—á–∏—Å—å –∫–æ–ø–∞—Ç—å –≥–ª—É–±–∂–µ."*

---

### üìö –¢–µ–æ—Ä–∏—è: Git Advanced Commands

**Beyond basics:**

–í—ã –∑–Ω–∞–µ—Ç–µ: `git add`, `git commit`, `git push`

–¢–µ–ø–µ—Ä—å –∏–∑—É—á–∏—Ç–µ: `git log --graph`, `git reflog`, `git bisect`, `git blame`, `git stash`

### 1. `git log --graph` ‚Äî –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏

```bash
# –ö—Ä–∞—Å–∏–≤—ã–π graph —Å branches
git log --graph --oneline --all --decorate

# Output:
* e4f5g6h (HEAD -> main) Merge branch 'feature'
|\
| * a1b2c3d (feature) Add nginx config
|/
* i7j8k9l Initial commit
```

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:** –°–µ–º–µ–π–Ω–æ–µ –¥—Ä–µ–≤–æ. –í–∏–¥–∏—à—å –≤—Å–µ branches, merges, relationships.

### 2. `git reflog` ‚Äî Time Machine –¥–ª—è Git

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –í–°–ï –¥–µ–π—Å—Ç–≤–∏—è (–¥–∞–∂–µ —É–¥–∞–ª—ë–Ω–Ω—ã–µ commits)
git reflog

# Output:
a1b2c3d HEAD@{0}: commit: Add config
e4f5g6h HEAD@{1}: reset: moving to HEAD~1  ‚Üê Deleted commit!
i7j8k9l HEAD@{2}: commit: Deleted by mistake

# Restore deleted commit:
git reset --hard HEAD@{1}
```

**Use case:** –°–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏–ª commit? `git reflog` —Å–ø–∞—Å—ë—Ç!

### 3. `git bisect` ‚Äî Binary search –¥–ª—è –±–∞–≥–æ–≤

```bash
# –ù–∞–π—Ç–∏ commit –≥–¥–µ –ø–æ—è–≤–∏–ª—Å—è –±–∞–≥
git bisect start
git bisect bad                # Current commit (has bug)
git bisect good v1.0          # Old commit (no bug)

# Git –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç commits (binary search)
# –¢–µ—Å—Ç–∏—Ä—É–µ—à—å –∫–∞–∂–¥—ã–π:
# - git bisect good (bug –Ω–µ—Ç)
# - git bisect bad (bug –µ—Å—Ç—å)

# Git –Ω–∞–π–¥—ë—Ç exact commit –≥–¥–µ –ø–æ—è–≤–∏–ª—Å—è –±–∞–≥!
git bisect reset  # Exit bisect mode
```

### 4. `git blame` ‚Äî –ö—Ç–æ –Ω–∞–ø–∏—Å–∞–ª —ç—Ç–æ—Ç –∫–æ–¥?

```bash
# –ö—Ç–æ –∏–∑–º–µ–Ω—è–ª –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É —Ñ–∞–π–ª–∞?
git blame ansible/playbooks/webservers.yml

# Output:
a1b2c3d (Max   2025-10-10) - name: Install nginx
e4f5g6h (Dmitry 2025-10-11)   apt:
i7j8k9l (Max   2025-10-10)     name: nginx
```

**Use case:** "–ö—Ç–æ –¥–æ–±–∞–≤–∏–ª —ç—Ç—É —Å—Ç—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É? –ü–æ—á–µ–º—É?"

### 5. `git stash` ‚Äî Temporary storage

```bash
# –°–ø—Ä—è—Ç–∞—Ç—å uncommitted changes
git stash

# Work on something else...
git checkout main
# ... make changes ...

# Return stashed changes
git stash pop
```

**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:** Drawer –¥–ª—è –Ω–µ–∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç. –°–ø—Ä—è—á—å —Å–µ–π—á–∞—Å, –¥–æ—Å—Ç–∞–Ω—å –ø–æ—Ç–æ–º.

### 6. `git cherry-pick` ‚Äî Copy commit to –¥—Ä—É–≥–æ–π branch

```bash
# Copy specific commit from feature to main
git checkout main
git cherry-pick a1b2c3d

# Commit a1b2c3d —Ç–µ–ø–µ—Ä—å –≤ main (–Ω–æ –Ω–µ –≤–µ—Å—å feature branch)
```

**Use case:** "–ù—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –æ–¥–∏–Ω commit, –Ω–µ –≤–µ—Å—å branch."

### 7. `git rebase` ‚Äî Rewrite history (advanced!)

```bash
# –í–º–µ—Å—Ç–æ merge, –ø–µ—Ä–µ–±–∞–∑–∏—Ä–æ–≤–∞—Ç—å feature –Ω–∞ main
git checkout feature
git rebase main

# –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏–Ω–µ–π–Ω–æ–π (no merge commits)
```

**‚ö†Ô∏è WARNING:** Rebase –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é! –¢–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö branches!

---

### üíª –ü—Ä–∞–∫—Ç–∏–∫–∞ 14: Git Advanced Commands

**–ó–∞–¥–∞—á–∏:**

```bash
cd ~/operation-shadow-infrastructure

# 1. Visualize history
git log --graph --oneline --all --decorate

# 2. Find who changed .gitignore
git blame .gitignore

# 3. Search commits containing "password"
git log -S "password" --oneline

# 4. Show commits by Max
git log --author="Max" --oneline

# 5. Commits in last 24 hours
git log --since="1 day ago"

# 6. Show file changes in commit
git show a1b2c3d

# 7. Compare two branches
git diff main..development

# 8. List files changed in commit
git diff-tree --no-commit-id --name-only -r a1b2c3d

# 9. Count commits per author
git shortlog -sn

# 10. Repository statistics
echo "Total commits: $(git rev-list --count HEAD)"
echo "Total branches: $(git branch | wc -l)"
echo "Repository size: $(du -sh .git | cut -f1)"
```

**Hans:**
> *"–≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã ‚Äî –≤–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞. Debugging, forensics, analysis. Git ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ add/commit. –≠—Ç–æ –º–æ—â–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞."*

---

### ü§î –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è: –¶–∏–∫–ª 7

**–í–æ–ø—Ä–æ—Å:** –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `git reflog`?

<details>
<summary>–î—É–º–∞–π –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π</summary>

**–û—Ç–≤–µ—Ç:** –ö–æ–≥–¥–∞ —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏–ª commit –∏–ª–∏ branch.

**Scenarios:**
- `git reset --hard` —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ –Ω–∞–∑–∞–¥ ‚Üí –ø–æ—Ç–µ—Ä—è–ª commits
- –£–¥–∞–ª–∏–ª branch (`git branch -D`) ‚Üí –Ω–æ –Ω—É–∂–µ–Ω commit –æ—Ç—Ç—É–¥–∞
- –û—à–∏–±–æ—á–Ω—ã–π merge ‚Üí —Ö–æ—á–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è

`git reflog` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï –¥–µ–π—Å—Ç–≤–∏—è (–¥–∞–∂–µ —É–¥–∞–ª—ë–Ω–Ω—ã–µ commits).

**Recovery:**
```bash
git reflog           # Find deleted commit hash
git reset --hard <hash>  # Restore
```

**LILITH:** *"`git reflog` ‚Äî —ç—Ç–æ —á—ë—Ä–Ω—ã–π —è—â–∏–∫ —Å–∞–º–æ–ª—ë—Ç–∞. –ö–æ–≥–¥–∞ –≤—Å—ë —Ä—É—Ö–Ω—É–ª–æ, –æ–Ω –ø–æ–∫–∞–∂–µ—Ç —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ. –ò –∫–∞–∫ –≤–µ—Ä–Ω—É—Ç—å—Å—è."*

</details>

**Hans (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ—á—å):**
> *"6 —á–∞—Å–æ–≤. –û—Ç –Ω—É–ª—è –¥–æ Git –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞. –í—ã –ø—Ä–æ—à–ª–∏ crash course. –í CCC –æ–±—É—á–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ–¥–µ–ª–∏. –ù–æ emergency ‚Äî –ª—É—á—à–∏–π —É—á–∏—Ç–µ–ª—å."*

**Max:**
> *"–ü–æ–Ω—è–ª –ø–æ—á–µ–º—É Git –∫—Ä–∏—Ç–∏—á–µ–Ω. –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ version control. –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç DevOps."*

**Dmitry:**
> *"–°–ø–∞—Å–∏–±–æ, Hans. –¢–µ–ø–µ—Ä—å –º—ã –≥–æ—Ç–æ–≤—ã –∫ Docker, CI/CD, Ansible."*

**Hans:**
> *"Gut. –ó–∞–≤—Ç—Ä–∞ –ª–µ—Ç–∏—Ç–µ –≤ –ê–º—Å—Ç–µ—Ä–¥–∞–º. Sophie van Dijk –Ω–∞—É—á–∏—Ç –≤–∞—Å Docker. –ê —è –ø–æ–º–æ–≥—É —Å CI/CD —É–¥–∞–ª—ë–Ω–Ω–æ. –î–æ –≤—Å—Ç—Ä–µ—á–∏ –≤ pipeline."*

**LILITH:**
> *"Episode 13 complete. Git –æ—Å–≤–æ–µ–Ω. Secrets –∑–∞—â–∏—â–µ–Ω—ã. Infrastructure as Code –Ω–∞—Å—Ç—Ä–æ–µ–Ω. Welcome to DevOps, Max. –î–∞–ª—å—à–µ –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–µ–µ."*

---

## üèÜ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö 7 —Ü–∏–∫–ª–æ–≤ —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**

‚úÖ Git repository –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Infrastructure as Code (ansible/, docker/, terraform/, scripts/, docs/)
‚úÖ `.gitignore` –Ω–∞—Å—Ç—Ä–æ–µ–Ω (secrets –∑–∞—â–∏—â–µ–Ω—ã)
‚úÖ Branching strategy –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
‚úÖ 15+ –∫–æ–º–º–∏—Ç–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (Conventional Commits)
‚úÖ Merge conflicts –ø–æ–Ω—è—Ç–Ω—ã –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
‚úÖ Secrets management –Ω–∞—Å—Ç—Ä–æ–µ–Ω (.env.example + docs)
‚úÖ INCIDENT resolved (leaked secret cleanup)
‚úÖ Git advanced commands –æ—Å–≤–æ–µ–Ω—ã (log, reflog, blame, bisect)

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:**
```bash
cd ~/kernel-shadows/season-4-devops-automation/episode-13-git-version-control
./tests/test.sh
```

---

## üìñ –ö–æ–º–∞–Ω–¥—ã Git: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫

<details>
<summary><strong>üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</strong></summary>

**Repository** ‚Äî —ç—Ç–æ –ø–∞–ø–∫–∞ + —Å–∫—Ä—ã—Ç–∞—è –ø–∞–ø–∫–∞ `.git` —Å –∏—Å—Ç–æ—Ä–∏–µ–π –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git init

# –ò–ª–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
git clone https://github.com/user/repo.git

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status
```

**–¢—Ä–∏ –∑–æ–Ω—ã Git:**
1. **Working Directory** ‚Äî —Ç–≤–æ–∏ —Ñ–∞–π–ª—ã (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å –∑–¥–µ—Å—å)
2. **Staging Area (Index)** ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ commit (`git add`)
3. **Repository (.git)** ‚Äî –∏—Å—Ç–æ—Ä–∏—è commits (`git commit`)

```
Working Directory  ‚Üí  Staging Area  ‚Üí  Repository
     (edit)         git add             git commit
                                            ‚Üì
                                       git push ‚Üí Remote
```

</details>

<details>
<summary><strong>üìñ 2. Basic commands</strong></summary>

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –≤ Staging Area
git add file.txt           # –û–¥–∏–Ω —Ñ–∞–π–ª
git add configs/           # –í—Å—è –ø–∞–ø–∫–∞
git add .                  # –í—Å—ë (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ! –∏—Å–ø–æ–ª—å–∑—É–π .gitignore)

# 2. Commit (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å snapshot)
git commit -m "Add server configs"

# –õ—É—á—à–µ: multi-line commit message
git commit
# –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä:
# Subject line (50 chars max): Add server configs for operation
#
# Body (wrap at 72 chars):
# - Added nginx.conf for web servers
# - Added postgresql.conf for database
# - Configured firewall rules

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
git log                    # –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
git log --oneline          # –ö—Ä–∞—Ç–∫–∞—è (1 commit = 1 line)
git log --graph --all      # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è branches

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git diff                   # Working Directory vs Staging
git diff --staged          # Staging vs –ø–æ—Å–ª–µ–¥–Ω–∏–π commit
git diff HEAD~1            # –¢–µ–∫—É—â–∞—è vs –ø—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è

# 5. –û—Ç–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git checkout -- file.txt   # –û—Ç–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ (Working Dir)
git reset file.txt         # –£–±—Ä–∞—Ç—å –∏–∑ Staging (–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞—é—Ç—Å—è)
git reset --hard HEAD      # –û–ü–ê–°–ù–û: –æ—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ)
```

**Best practice: Commit messages**

‚ùå –ü–ª–æ—Ö–æ:
```
git commit -m "fix"
git commit -m "update config"
git commit -m "stuff"
```

‚úÖ –•–æ—Ä–æ—à–æ (Conventional Commits):
```
git commit -m "feat: add nginx load balancing config"
git commit -m "fix: correct firewall rule for port 8080"
git commit -m "docs: update README with deployment instructions"
git commit -m "refactor: simplify ansible playbook structure"
```

**Format:**
```
<type>: <subject>

<body (optional)>

<footer (optional)>
```

**Types:**
- `feat`: new feature
- `fix`: bug fix
- `docs`: documentation
- `style`: formatting (–Ω–µ –º–µ–Ω—è–µ—Ç –∫–æ–¥)
- `refactor`: code refactoring
- `test`: adding tests
- `chore`: maintenance

</details>

<details>
<summary><strong>üìñ 3. Branches</strong></summary>

**Branch** ‚Äî —ç—Ç–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ª–∏–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**–ó–∞—á–µ–º branches?**
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ features
- –ò–∑–æ–ª—è—Ü–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- Code review –ø–µ—Ä–µ–¥ merge –≤ main
- –û—Ç–∫–∞—Ç –±–µ–∑ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–Ω–∏—è main branch

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å branches
git branch                 # –õ–æ–∫–∞–ª—å–Ω—ã–µ
git branch -a              # –í—Å–µ (–≤–∫–ª—é—á–∞—è remote)

# –°–æ–∑–¥–∞—Ç—å branch
git branch feature-ansible
git checkout feature-ansible    # –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ branch

# –ò–ª–∏ –∫–æ—Ä–æ—á–µ (create + switch):
git checkout -b feature-ansible

# –†–∞–±–æ—Ç–∞—Ç—å –≤ branch:
# ... edit files ...
git add .
git commit -m "feat: add ansible playbook"

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ main
git checkout main

# Merge branch –≤ main
git merge feature-ansible

# –£–¥–∞–ª–∏—Ç—å branch (–ø–æ—Å–ª–µ merge)
git branch -d feature-ansible
```

**Branching strategies:**

**1. Feature Branch Workflow:**
```
main (production-ready)
 ‚îú‚îÄ‚îÄ feature-docker (Max —Ä–∞–±–æ—Ç–∞–µ—Ç)
 ‚îú‚îÄ‚îÄ feature-ansible (Dmitry —Ä–∞–±–æ—Ç–∞–µ—Ç)
 ‚îî‚îÄ‚îÄ hotfix-password-leak (urgent fix)
```

**2. GitFlow:**
```
main (production releases)
 ‚îî‚îÄ‚îÄ develop (integration branch)
      ‚îú‚îÄ‚îÄ feature/docker
      ‚îú‚îÄ‚îÄ feature/ansible
      ‚îî‚îÄ‚îÄ release/1.0
```

**3. Trunk-Based Development:**
```
main (single branch, short-lived feature branches)
 ‚îú‚îÄ‚îÄ feature (< 2 days, quick merge)
 ‚îî‚îÄ‚îÄ feature2 (< 2 days, quick merge)
```

**–î–ª—è KERNEL SHADOWS –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- `main` ‚Äî production configs
- `development` ‚Äî testing configs
- `feature/episodeXX` ‚Äî –Ω–æ–≤—ã–µ features
- `hotfix/security` ‚Äî urgent fixes

</details>

<details>
<summary><strong>üìñ 4. Merge conflicts</strong></summary>

**Merge conflict** ‚Äî –∫–æ–≥–¥–∞ –¥–≤–∞ branches –∏–∑–º–µ–Ω–∏–ª–∏ –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Å—Ç—Ä–æ–∫—É —Ñ–∞–π–ª–∞.

**–ü—Ä–∏–º–µ—Ä:**

**Branch A:**
```nginx
server {
    listen 80;           # Changed by Max
}
```

**Branch B:**
```nginx
server {
    listen 8080;         # Changed by Dmitry
}
```

**Git merge result:**
```nginx
server {
<<<<<<< HEAD
    listen 80;           # Your version (Max)
=======
    listen 8080;         # Their version (Dmitry)
>>>>>>> feature-branch
}
```

**–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª, manually resolve:
server {
    listen 80;           # –í—ã–±—Ä–∞–ª–∏ –≤–µ—Ä—Å–∏—é Max (–∏–ª–∏ 8080, –∏–ª–∏ –æ–±–µ)
}

# 2. –£–¥–∞–ª–∏—Ç—å markers (<<<<<<<, =======, >>>>>>>)

# 3. Commit resolution:
git add file
git commit -m "fix: resolve merge conflict (chose port 80)"
```

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:**
- `git mergetool` ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–π diff
- VS Code, IntelliJ ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã —Å–ª–∏—è–Ω–∏—è
- `vimdiff`, `meld` ‚Äî –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

</details>

<details>
<summary><strong>üìñ 5. .gitignore</strong></summary>

**`.gitignore`** ‚Äî —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç Git **–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å** –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

**–ó–∞—á–µ–º?**
- ‚ùå –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å secrets (.env, passwords, keys)
- ‚ùå –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ª–æ–≥–∏, –∫–µ—à, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–±–æ—Ä–∫–∏)
- ‚ùå –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å OS junk (.DS_Store, Thumbs.db)

**–ü—Ä–∏–º–µ—Ä `.gitignore` –¥–ª—è infrastructure:**

```gitignore
# Secrets (–ù–ò–ö–û–ì–î–ê –ù–ï –ö–û–ú–ú–ò–¢–ò–¢–¨!)
.env
.env.local
.env.production
*.pem
*.key
*_rsa
*_rsa.pub
passwords.txt
secrets.yml
credentials.json

# Ansible
*.retry
.vault_pass
.vault_password

# Terraform
*.tfstate
*.tfstate.backup
.terraform/

# Logs
*.log
logs/
*.log.*

# OS files
.DS_Store
Thumbs.db
desktop.ini

# Temporary files
*.tmp
*.swp
*.swo
*~
.cache/

# Backup files
*.bak
*.backup
*.old

# IDE
.vscode/
.idea/
*.sublime-*
```

**Best practices:**
1. Create `.gitignore` **–ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º** –ø—Ä–∏ `git init`
2. Use templates: https://github.com/github/gitignore
3. Never commit secrets (–¥–∞–∂–µ –Ω–∞ 1 —Å–µ–∫—É–Ω–¥—É!)
4. If leaked: `git filter-branch` to remove from history

</details>

<details>
<summary><strong>üìñ 6. Remote repositories</strong></summary>

**Remote** ‚Äî —ç—Ç–æ Git repository –Ω–∞ –¥—Ä—É–≥–æ–º —Å–µ—Ä–≤–µ—Ä–µ (GitHub, GitLab, Bitbucket, self-hosted).

```bash
# –î–æ–±–∞–≤–∏—Ç—å remote
git remote add origin https://github.com/user/repo.git

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å remotes
git remote -v

# Push (–æ—Ç–ø—Ä–∞–≤–∏—Ç—å commits –Ω–∞ remote)
git push origin main

# Pull (–ø–æ–ª—É—á–∏—Ç—å commits —Å remote)
git pull origin main

# Fetch (–ø–æ–ª—É—á–∏—Ç—å commits, –Ω–æ –Ω–µ merge)
git fetch origin
git merge origin/main
```

**GitHub/GitLab workflow:**
```
Local repo  ‚Üí  git push  ‚Üí  GitHub/GitLab  ‚Üí  git pull  ‚Üí  Other team members
```

**SSH vs HTTPS:**

**HTTPS:**
```bash
git clone https://github.com/user/repo.git
# –¢—Ä–µ–±—É–µ—Ç username/password (–∏–ª–∏ token)
```

**SSH (recommended):**
```bash
git clone git@github.com:user/repo.git
# –¢—Ä–µ–±—É–µ—Ç SSH key (–±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)

# Setup SSH key:
ssh-keygen -t ed25519 -C "max@operation-shadow.net"
cat ~/.ssh/id_ed25519.pub   # Copy to GitHub/GitLab
```

</details>

<details>
<summary><strong>üìñ 7. Secrets management</strong></summary>

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å secrets (–ø–∞—Ä–æ–ª–∏, API keys) –µ—Å–ª–∏ Git repository public?

**Solutions:**

**1. `.env` files + `.gitignore` (–ø—Ä–æ—Å—Ç–æ–µ):**
```bash
# Commit .env.example (template) ‚Äî OK
echo "DB_PASSWORD=your_password_here" > .env.example
git add .env.example

# Actual .env ‚Äî –≤ .gitignore (NOT committed)
echo "DB_PASSWORD=SuperSecret123!" > .env
echo ".env" >> .gitignore
git add .gitignore
```

**2. git-crypt (encryption):**
```bash
# Encrypt files in repo
sudo apt install git-crypt
git-crypt init
git-crypt add-gpg-user max@operation-shadow.net

# .gitattributes:
secrets.yml filter=git-crypt diff=git-crypt
*.key filter=git-crypt diff=git-crypt

git add .gitattributes secrets.yml
git commit -m "Add encrypted secrets"
```

**3. HashiCorp Vault (production):**
```bash
# Store secrets in Vault, reference in code
DB_PASSWORD=$(vault kv get -field=password secret/database)
```

**4. Environment variables (CI/CD):**
```yaml
# GitHub Actions secrets
- name: Deploy
  env:
    DB_PASSWORD: ${{ secrets.DB_PASSWORD }}
```

**If leaked:**
```bash
# 1. Rotate secret immediately (change password!)
# 2. Remove from Git history:
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch secrets.txt" \
  --prune-empty --tag-name-filter cat -- --all

# Or use BFG Repo-Cleaner (faster):
bfg --delete-files secrets.txt
git push --force --all
```

</details>

<details>
<summary><strong>üìñ 8. Git for Infrastructure as Code</strong></summary>

**Infrastructure as Code (IaC):**
- –°–µ—Ä–≤–µ—Ä—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∫–æ–¥–æ–º (Ansible, Terraform)
- –ö–æ–Ω—Ñ–∏–≥–∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –≤ Git
- Changes —á–µ—Ä–µ–∑ Git workflow (branch ‚Üí review ‚Üí merge)
- Rollback = git revert

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
```
operation-shadow-infrastructure/
‚îú‚îÄ‚îÄ ansible/
‚îÇ   ‚îú‚îÄ‚îÄ playbooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ webservers.yml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ databases.yml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ monitoring.yml
‚îÇ   ‚îú‚îÄ‚îÄ roles/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ postgresql/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prometheus/
‚îÇ   ‚îî‚îÄ‚îÄ inventory/
‚îÇ       ‚îú‚îÄ‚îÄ production
‚îÇ       ‚îú‚îÄ‚îÄ staging
‚îÇ       ‚îî‚îÄ‚îÄ development
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ       ‚îî‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ terraform/
‚îÇ   ‚îú‚îÄ‚îÄ main.tf
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh
‚îÇ   ‚îú‚îÄ‚îÄ backup.sh
‚îÇ   ‚îî‚îÄ‚îÄ monitor.sh
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ DEPLOYMENT.md
‚îÇ   ‚îî‚îÄ‚îÄ TROUBLESHOOTING.md
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .gitlab-ci.yml        # CI/CD pipeline
‚îî‚îÄ‚îÄ README.md
```

**Workflow:**
```
1. Developer creates branch: git checkout -b feature-ansible
2. Makes changes: edit ansible/playbooks/webservers.yml
3. Commits: git commit -m "feat: add nginx load balancing"
4. Pushes: git push origin feature-ansible
5. Creates Pull Request/Merge Request
6. Code review by team
7. CI/CD runs tests
8. Merge to main
9. Automated deployment to production
```

**Benefits:**
- ‚úÖ Version control –¥–ª—è –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å code review
- ‚úÖ Audit trail (–∫—Ç–æ —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –æ—Ç–∫–∞—Ç (git revert)
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD

</details>

---

## üíª –ü—Ä–∞–∫—Ç–∏–∫–∞: 9 –∑–∞–¥–∞–Ω–∏–π

### –ó–∞–¥–∞–Ω–∏–µ 1: Initialize Git repository

**–ú–∏—Å—Å–∏—è:** –°–æ–∑–¥–∞—Ç—å Git repository –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–∏.

**–ó–∞–¥–∞—á–∞:**
```bash
# 1. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è infrastructure
mkdir -p ~/operation-shadow-infrastructure
cd ~/operation-shadow-infrastructure

# 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Git
git init

# 3. Configure Git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
git config user.name "Max Sokolov"
git config user.email "max@operation-shadow.net"

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status
```

**Expected output:**
```
Initialized empty Git repository in .git/
On branch main
No commits yet
```

<details>
<summary>üí° Hint 1: Git configuration (–µ—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª–∏ > 5 –º–∏–Ω—É—Ç)</summary>

Git –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –∫—Ç–æ —Ç—ã (–¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–≤—Ç–æ—Ä–µ –∫–æ–º–º–∏—Ç–∞).

```bash
# –ì–ª–æ–±–∞–ª—å–Ω–æ (–¥–ª—è –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤):
git config --global user.name "Your Name"
git config --global user.email "your@email.com"

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
git config user.name "Max Sokolov"
git config user.email "max@operation-shadow.net"
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
```bash
git config user.name
git config user.email
```

</details>

<details>
<summary>üí° Hint 2: Common issues (–µ—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª–∏ > 10 –º–∏–Ω—É—Ç)</summary>

**Problem:** "fatal: not a git repository"
**Solution:** –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª `git init` –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ.

**Problem:** "Author identity unknown"
**Solution:** –ù–∞—Å—Ç—Ä–æ–π `git config user.name` –∏ `user.email`.

**Problem:** `.git` –ø–∞–ø–∫–∞ –Ω–µ –≤–∏–¥–Ω–∞
**Solution:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! `.git` —Å–∫—Ä—ã—Ç–∞—è. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `ls -la | grep .git`

</details>

<details>
<summary>‚úÖ Solution (–µ—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª–∏ > 15 –º–∏–Ω—É—Ç)</summary>

```bash
#!/bin/bash

# Create directory structure
mkdir -p ~/operation-shadow-infrastructure
cd ~/operation-shadow-infrastructure

# Initialize Git repository
git init

# Configure Git (if not configured globally)
git config user.name "Max Sokolov"
git config user.email "max@operation-shadow.net"

# Verify
echo "Git initialized!"
git status
```

**Explanation:**
- `git init` —Å–æ–∑–¥–∞—ë—Ç —Å–∫—Ä—ã—Ç—É—é –ø–∞–ø–∫—É `.git` —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- `git config` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–≤—Ç–æ—Ä–µ –¥–ª—è –∫–æ–º–º–∏—Ç–æ–≤
- `git status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 2: Create directory structure

**–ú–∏—Å—Å–∏—è:** –°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –¥–ª—è infrastructure code.

**–ó–∞–¥–∞—á–∞:**
```bash
# –í ~/operation-shadow-infrastructure/ —Å–æ–∑–¥–∞—Ç—å:
mkdir -p ansible/{playbooks,roles,inventory}
mkdir -p docker/{web,api,database}
mkdir -p terraform
mkdir -p scripts
mkdir -p docs

# –°–æ–∑–¥–∞—Ç—å README —Ñ–∞–π–ª—ã
echo "# Operation Shadow Infrastructure" > README.md
echo "# Documentation" > docs/README.md
echo "# Ansible Playbooks" > ansible/README.md
echo "# Docker Containers" > docker/README.md

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
tree -L 2  # –∏–ª–∏ ls -R –µ—Å–ª–∏ tree –Ω–µ—Ç
```

**Expected structure:**
```
operation-shadow-infrastructure/
‚îú‚îÄ‚îÄ ansible/
‚îÇ   ‚îú‚îÄ‚îÄ playbooks/
‚îÇ   ‚îú‚îÄ‚îÄ roles/
‚îÇ   ‚îú‚îÄ‚îÄ inventory/
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ terraform/
‚îú‚îÄ‚îÄ scripts/
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ README.md
```

<details>
<summary>üí° Hint: Commit structure</summary>

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Äî commit!

```bash
git add .
git commit -m "chore: initialize infrastructure directory structure"
git log --oneline
```

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 3: Create .gitignore

**–ú–∏—Å—Å–∏—è:** –ó–∞—â–∏—Ç–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

**–ó–∞–¥–∞—á–∞:**
```bash
# –°–æ–∑–¥–∞—Ç—å .gitignore –≤ –∫–æ—Ä–Ω–µ repo
cat > .gitignore << 'EOF'
# Secrets (NEVER commit!)
.env
.env.local
.env.production
*.pem
*.key
*_rsa
*_rsa.pub
passwords.txt
secrets.yml
credentials.json
vault_password.txt

# Ansible
*.retry
.vault_pass

# Terraform
*.tfstate
*.tfstate.backup
.terraform/
terraform.tfvars

# Logs
*.log
logs/

# OS files
.DS_Store
Thumbs.db

# Temporary
*.tmp
*.swp
*~
.cache/
EOF

# Commit .gitignore
git add .gitignore
git commit -m "chore: add .gitignore for secrets and temp files"
```

**Test:**
```bash
# Try to create a secret file
echo "PASSWORD=SuperSecret123" > .env
git status   # Should show ".env" as untracked BUT ignored

# Verify .env is ignored
git add .env   # Should fail or warn: "The following paths are ignored by one of your .gitignore files"
```

<details>
<summary>üí° Hint: .gitignore patterns</summary>

**Patterns:**
- `*.log` ‚Äî –≤—Å–µ —Ñ–∞–π–ª—ã, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ .log
- `logs/` ‚Äî –≤—Å—è –ø–∞–ø–∫–∞ logs/
- `!important.log` ‚Äî exception (do NOT ignore important.log)
- `**/secrets.txt` ‚Äî secrets.txt –≤ –ª—é–±–æ–π –ø–∞–ø–∫–µ (recursive)

**Check if file is ignored:**
```bash
git check-ignore -v .env
# Output: .gitignore:2:.env    .env
```

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 4: Branching strategy

**–ú–∏—Å—Å–∏—è:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å branching strategy –¥–ª—è –∫–æ–º–∞–Ω–¥—ã (Max, Dmitry, Alex, Anna).

**–ó–∞–¥–∞—á–∞:**
```bash
# 1. Create development branch
git checkout -b development

# 2. Create feature branches
git checkout -b feature/episode13-git
git checkout -b feature/episode14-docker
git checkout -b feature/episode15-cicd
git checkout -b feature/episode16-ansible

# 3. Switch back to main
git checkout main

# 4. List all branches
git branch -a

# 5. Create BRANCHING_STRATEGY.md documentation
cat > docs/BRANCHING_STRATEGY.md << 'EOF'
# Branching Strategy for Operation Shadow

## Branches

- **main** ‚Äî production-ready infrastructure
- **development** ‚Äî integration branch for testing
- **feature/episodeXX-name** ‚Äî feature branches (short-lived)
- **hotfix/description** ‚Äî urgent fixes

## Workflow

1. Create feature branch from `development`:
   ```
   git checkout development
   git checkout -b feature/new-feature
   ```

2. Make changes and commit:
   ```
   git add .
   git commit -m "feat: add new feature"
   ```

3. Merge to development:
   ```
   git checkout development
   git merge feature/new-feature
   ```

4. When ready for production, merge development ‚Üí main:
   ```
   git checkout main
   git merge development
   ```

## Commit Message Convention

Use **Conventional Commits**:
- `feat:` ‚Äî new feature
- `fix:` ‚Äî bug fix
- `docs:` ‚Äî documentation
- `chore:` ‚Äî maintenance

Example: `feat: add ansible playbook for nginx`
EOF

# Commit branching docs
git add docs/BRANCHING_STRATEGY.md
git commit -m "docs: add branching strategy documentation"
```

<details>
<summary>üí° Hint: Branch naming</summary>

**Good branch names:**
- `feature/ansible-webservers`
- `fix/nginx-config-typo`
- `hotfix/password-leak`
- `docs/update-readme`

**Bad branch names:**
- `test`
- `my-branch`
- `branch1`
- `asdfgh`

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 5: Commits with proper messages

**–ú–∏—Å—Å–∏—è:** Practice proper commit messages (Conventional Commits).

**–ó–∞–¥–∞—á–∞:**
```bash
# 1. Create sample config files
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- hosts: webservers
  become: yes
  tasks:
    - name: Install nginx
      apt:
        name: nginx
        state: present
EOF

cat > docker/web/Dockerfile << 'EOF'
FROM nginx:alpine
COPY nginx.conf /etc/nginx/nginx.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
EOF

# 2. Add and commit with proper message
git add ansible/playbooks/webservers.yml
git commit -m "feat: add ansible playbook for nginx webservers"

git add docker/web/Dockerfile
git commit -m "feat: add nginx Dockerfile for web containers"

# 3. View commit history
git log --oneline
git log --graph --all --oneline
```

**Expected log:**
```
a1b2c3d (HEAD -> main) feat: add nginx Dockerfile for web containers
e4f5g6h feat: add ansible playbook for nginx webservers
i7j8k9l docs: add branching strategy documentation
m0n1o2p chore: add .gitignore for secrets and temp files
q3r4s5t chore: initialize infrastructure directory structure
```

<details>
<summary>üí° Hint: Multi-line commit messages</summary>

–î–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∫–æ–º–º–∏—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

```bash
git commit
# –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä (vim/nano):

feat: add ansible playbook for nginx webservers

- Configured nginx with SSL/TLS
- Added load balancing for 5 backend servers
- Enabled HTTP/2 support
- Configured logging to /var/log/nginx/

Related: Episode 13 (Git basics)
```

**Format:**
- Line 1: Subject (50 chars max)
- Line 2: Blank
- Line 3+: Body (wrap at 72 chars)

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 6: Simulate merge conflict

**–ú–∏—Å—Å–∏—è:** –°–æ–∑–¥–∞—Ç—å merge conflict –∏ –Ω–∞—É—á–∏—Ç—å—Å—è –µ–≥–æ —Ä–∞–∑—Ä–µ—à–∞—Ç—å.

**Scenario:** Max –∏ Dmitry –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∞–≤—è—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ñ–∞–π–ª.

**–ó–∞–¥–∞—á–∞:**
```bash
# 1. Max creates branch and changes nginx port
git checkout -b max-nginx-fix
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- hosts: webservers
  become: yes
  tasks:
    - name: Install nginx
      apt:
        name: nginx
        state: present
    - name: Configure nginx port
      lineinfile:
        path: /etc/nginx/nginx.conf
        regexp: 'listen'
        line: '    listen 80;'   # Max chose port 80
EOF
git add ansible/playbooks/webservers.yml
git commit -m "fix: configure nginx to listen on port 80"

# 2. Switch to main, simulate Dmitry's changes
git checkout main
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- hosts: webservers
  become: yes
  tasks:
    - name: Install nginx
      apt:
        name: nginx
        state: present
    - name: Configure nginx port
      lineinfile:
        path: /etc/nginx/nginx.conf
        regexp: 'listen'
        line: '    listen 8080;'   # Dmitry chose port 8080
EOF
git add ansible/playbooks/webservers.yml
git commit -m "fix: configure nginx to listen on port 8080"

# 3. Try to merge Max's branch
git merge max-nginx-fix
# ‚ö†Ô∏è CONFLICT!
```

**Expected output:**
```
Auto-merging ansible/playbooks/webservers.yml
CONFLICT (content): Merge conflict in ansible/playbooks/webservers.yml
Automatic merge failed; fix conflicts and then commit the result.
```

**Resolution:**
```bash
# 1. Open conflicted file
cat ansible/playbooks/webservers.yml
# You'll see:
# <<<<<<< HEAD
#     listen 8080;   # Dmitry's version
# =======
#     listen 80;     # Max's version
# >>>>>>> max-nginx-fix

# 2. Edit file manually, choose one version (or combine)
# Let's say we decide: port 80 for production
cat > ansible/playbooks/webservers.yml << 'EOF'
---
- hosts: webservers
  become: yes
  tasks:
    - name: Install nginx
      apt:
        name: nginx
        state: present
    - name: Configure nginx port
      lineinfile:
        path: /etc/nginx/nginx.conf
        regexp: 'listen'
        line: '    listen 80;'   # Resolved: chose port 80
EOF

# 3. Mark as resolved and commit
git add ansible/playbooks/webservers.yml
git commit -m "fix: resolve merge conflict (chose port 80 for production)"

# 4. Verify
git log --oneline --graph --all
```

<details>
<summary>üí° Hint: Merge conflict markers</summary>

```
<<<<<<< HEAD
Your current branch changes
=======
Incoming branch changes
>>>>>>> branch-name
```

**Steps:**
1. Find markers (`<<<<<<<`, `=======`, `>>>>>>>`)
2. Choose version (yours, theirs, or both)
3. Delete markers
4. `git add` resolved file
5. `git commit` to complete merge

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 7: Secrets management

**–ú–∏—Å—Å–∏—è:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ secrets (passwords, API keys).

**–ó–∞–¥–∞—á–∞:**
```bash
# 1. Create .env.example (template ‚Äî OK to commit)
cat > .env.example << 'EOF'
# Database credentials
DB_HOST=localhost
DB_PORT=5432
DB_NAME=operation_shadow
DB_USER=your_username_here
DB_PASSWORD=your_password_here

# API keys
GITHUB_TOKEN=your_github_token_here
AWS_ACCESS_KEY=your_aws_key_here
EOF

# 2. Create actual .env with real secrets (NOT committed due to .gitignore)
cat > .env << 'EOF'
DB_HOST=10.20.30.40
DB_PORT=5432
DB_NAME=operation_shadow
DB_USER=max_sokolov
DB_PASSWORD=SuperSecret123!

GITHUB_TOKEN=ghp_abc123def456
AWS_ACCESS_KEY=AKIAIOSFODNN7EXAMPLE
EOF

# 3. Verify .env is ignored
git status   # .env should NOT appear (because of .gitignore)

# 4. Commit .env.example
git add .env.example
git commit -m "chore: add .env.example template for secrets"

# 5. Create docs/SECRETS_MANAGEMENT.md
cat > docs/SECRETS_MANAGEMENT.md << 'EOF'
# Secrets Management

## ‚ö†Ô∏è NEVER commit secrets to Git!

### Files that MUST be in .gitignore:
- `.env`
- `*.pem`, `*.key`
- `passwords.txt`
- `credentials.json`

### Safe practices:

1. **Use .env files:**
   - Commit `.env.example` (template)
   - Actual `.env` in `.gitignore`

2. **For production:**
   - Use HashiCorp Vault
   - Use GitHub Secrets (for CI/CD)
   - Use AWS Secrets Manager

3. **If leaked:**
   - Rotate secret immediately!
   - Remove from Git history:
     ```
     git filter-branch --force --index-filter \
       "git rm --cached --ignore-unmatch .env" \
       --prune-empty -- --all
     ```

## Current secrets locations:
- Database credentials: `.env` (local only)
- SSH keys: `~/.ssh/` (NOT in repo)
- Ansible vault: `ansible/.vault_pass` (in .gitignore)
EOF

git add docs/SECRETS_MANAGEMENT.md
git commit -m "docs: add secrets management guidelines"
```

<details>
<summary>üí° Hint: Ansible Vault (bonus)</summary>

Ansible has built-in encryption:

```bash
# Create encrypted file
ansible-vault create ansible/secrets.yml
# Enter password: ****

# Edit encrypted file
ansible-vault edit ansible/secrets.yml

# Use in playbook:
ansible-playbook playbook.yml --ask-vault-pass
```

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 8: INCIDENT ‚Äî Find and remove leaked secret

**‚ÄºÔ∏è EMERGENCY SCENARIO ‚ÄºÔ∏è**

**Anna (–∑–≤–æ–Ω–æ–∫, 21:30):**
> *"Max! –ö—Ç–æ-—Ç–æ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª –ø–∞—Ä–æ–ª—å –≤ Git! Public repo! Krylov –º–æ–∂–µ—Ç —É–∂–µ –∑–Ω–∞—Ç—å! –£ –Ω–∞—Å 10 –º–∏–Ω—É—Ç!"*

**Leaked file:**
```bash
# Simulate: someone committed secrets.txt
cat > secrets.txt << 'EOF'
# Production Database Password
DB_PASSWORD=ProdSecret2024!
DB_HOST=10.20.30.40

# Viktor SSH key
SSH_KEY=-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA...
EOF

git add secrets.txt
git commit -m "Add production secrets" # ‚ùå MISTAKE!
git log --oneline   # secret is in history!
```

**Tasks:**

1. **Find the leaked secret in Git history:**
```bash
# Search Git history for "password"
git log --all --full-history -- secrets.txt
git log -S "DB_PASSWORD" --all
```

2. **Remove from Git history (‚ö†Ô∏è DANGEROUS operation):**

**Option A: BFG Repo-Cleaner (recommended, faster):**
```bash
# Install BFG
sudo apt install bfg   # or download from https://rtyley.github.io/bfg-repo-cleaner/

# Remove file from all history
bfg --delete-files secrets.txt
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

**Option B: git filter-branch (slower but built-in):**
```bash
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch secrets.txt" \
  --prune-empty --tag-name-filter cat -- --all

git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

3. **Force push (if already pushed to remote):**
```bash
# ‚ö†Ô∏è WARNING: Force push rewrites history! Notify team!
git push --force --all
```

4. **Rotate password IMMEDIATELY:**
```bash
# In real scenario: change password in database NOW!
echo "Password rotated: ProdSecret2024_NEW!" >> rotation_log.txt
```

5. **Add to .gitignore (prevent future leaks):**
```bash
echo "secrets.txt" >> .gitignore
git add .gitignore
git commit -m "fix: add secrets.txt to .gitignore after leak incident"
```

6. **Audit: Who committed?**
```bash
git log --all --oneline | grep "Add production secrets"
# Output: a1b2c3d Add production secrets
git show a1b2c3d   # See who, when, what
```

**Hans (–ø–æ—Å–ª–µ incident):**
> *"–í–æ—Ç –ø–æ—á–µ–º—É `.gitignore` —Å–Ω–∞—á–∞–ª–∞, commit –ø–æ—Ç–æ–º. –ù–ò–ö–û–ì–î–ê –Ω–∞–æ–±–æ—Ä–æ—Ç. –£—Å–≤–æ–∏–ª–∏ —É—Ä–æ–∫?"*

<details>
<summary>üí° Hint: git reflog (–µ—Å–ª–∏ —É–¥–∞–ª–∏–ª –ª–∏—à–Ω–µ–µ)</summary>

If you accidentally deleted wrong commits:

```bash
# View reflog (history of HEAD movements)
git reflog

# Restore:
git reset --hard HEAD@{N}   # N = number from reflog
```

But –µ—Å–ª–∏ —É–∂–µ `git push --force` ‚Äî too late!

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 9: Git Advanced Commands Mastery

**–ú–∏—Å—Å–∏—è:** –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å advanced Git commands –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ repository.

**–ó–∞–¥–∞—á–∏:**

#### 1. Repository Analysis

```bash
cd ~/operation-shadow-infrastructure

# Repository stats
echo "=== REPOSITORY STATISTICS ==="
echo "Total commits: $(git rev-list --count HEAD)"
echo "Total branches: $(git branch -a | wc -l)"
echo "Repository size: $(du -sh .git | cut -f1)"
echo "First commit: $(git log --reverse --oneline | head -1)"
echo "Latest commit: $(git log --oneline | head -1)"
```

#### 2. History Visualization

```bash
# Beautiful branch graph
git log --graph --oneline --all --decorate

# Last 20 commits with dates and authors
git log --oneline --date=short --pretty=format:"%h %ad %an: %s" -20
```

#### 3. Contributor Analysis

```bash
# Who contributed most?
git shortlog -sn

# Commits by specific author
git log --author="Max Sokolov" --oneline

# Commits in last week
git log --since="1 week ago" --oneline
```

#### 4. File History Forensics

```bash
# Who changed .gitignore?
git blame .gitignore

# History of specific file
git log --follow -- ansible/playbooks/webservers.yml

# Show changes in specific commit
git show a1b2c3d
```

#### 5. Security Audit

```bash
# Search for potential secrets in history
echo "=== SECURITY AUDIT ==="

# Check for 'password' in commits
if git log --all -S "password" --oneline | head -1 | grep -q .; then
    echo "‚ö†Ô∏è WARNING: Found 'password' in history!"
    git log --all -S "password" --oneline | head -5
else
    echo "‚úÖ No 'password' in commit history"
fi

# Check for 'api_key'
if git log --all -S "api_key" --oneline | head -1 | grep -q .; then
    echo "‚ö†Ô∏è WARNING: Found 'api_key' in history!"
else
    echo "‚úÖ No 'api_key' in history"
fi

# Verify .gitignore exists
if [ -f .gitignore ]; then
    echo "‚úÖ .gitignore exists ($(wc -l < .gitignore) lines)"
else
    echo "‚ùå ERROR: .gitignore missing!"
fi
```

#### 6. Advanced: git reflog practice

```bash
# View ALL actions (even deleted commits)
git reflog

# Simulate: accidentally delete commit
git reset --hard HEAD~1  # Delete last commit

# Oops! Restore it:
git reflog  # Find deleted commit
git reset --hard HEAD@{1}  # Restore
```

#### 7. Advanced: git bisect demo

```bash
# If you had a bug, find which commit introduced it:
# git bisect start
# git bisect bad         # Current commit has bug
# git bisect good v1.0   # Old commit was good
# ... test each commit ...
# git bisect reset
```

**Hans:**
> *"–≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã ‚Äî –≤–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –µ–∂–µ–¥–Ω–µ–≤–Ω–æ. Git ‚Äî –Ω–µ —Ç–æ–ª—å–∫–æ add/commit. –≠—Ç–æ forensics tool."*

<details>
<summary>üí° Hint: –ü–æ–ª–µ–∑–Ω—ã–µ Git aliases</summary>

–î–æ–±–∞–≤—å –≤ `~/.gitconfig`:

```gitconfig
[alias]
    # Pretty log
    lg = log --graph --oneline --all --decorate

    # Show branches
    br = branch -a

    # Short status
    st = status -s

    # Last commit
    last = log -1 HEAD

    # Contributors
    contributors = shortlog -sn

    # Unstage
    unstage = reset HEAD --
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
git lg          # instead of git log --graph...
git contributors
git last
```

</details>

---

## üèÜ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö 9 –∑–∞–¥–∞–Ω–∏–π —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**

‚úÖ Git repository –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ (ansible/, docker/, terraform/, scripts/, docs/)
‚úÖ `.gitignore` –Ω–∞—Å—Ç—Ä–æ–µ–Ω (secrets –∑–∞—â–∏—â–µ–Ω—ã)
‚úÖ Branching strategy –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
‚úÖ 10+ –∫–æ–º–º–∏—Ç–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
‚úÖ Merge conflict —Ä–∞–∑—Ä–µ—à—ë–Ω
‚úÖ Secrets management –Ω–∞—Å—Ç—Ä–æ–µ–Ω (.env.example)
‚úÖ Leaked secret –Ω–∞–π–¥–µ–Ω –∏ —É–¥–∞–ª—ë–Ω –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
‚úÖ Git advanced commands –ø—Ä–∞–∫—Ç–∏–∫–∞ (reflog, bisect, blame)

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:**
```bash
cd ~/kernel-shadows/season-4-devops-automation/episode-13-git-version-control
./tests/test.sh
```

---

## üìñ –ö–æ–º–∞–Ω–¥—ã Git: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫

<details>
<summary><strong>üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</strong></summary>

```bash
# Initialization
git init                    # Create new repo
git clone <url>             # Clone existing repo

# Status & Info
git status                  # Show working tree status
git log                     # Show commit history
git log --oneline           # Compact log
git log --graph --all       # Visual branch graph
git diff                    # Show changes

# Staging & Committing
git add <file>              # Stage file
git add .                   # Stage all changes
git commit -m "message"     # Commit with message
git commit                  # Commit with editor

# Branching
git branch                  # List branches
git branch <name>           # Create branch
git checkout <branch>       # Switch branch
git checkout -b <branch>    # Create + switch
git merge <branch>          # Merge branch
git branch -d <branch>      # Delete branch

# Remote
git remote add origin <url> # Add remote
git push origin <branch>    # Push to remote
git pull origin <branch>    # Pull from remote
git fetch                   # Fetch without merge

# Undo changes
git checkout -- <file>      # Discard changes in file
git reset <file>            # Unstage file
git reset --hard HEAD       # Discard all changes (dangerous!)
git revert <commit>         # Revert commit (safe)

# History manipulation (dangerous!)
git reset --hard <commit>   # Reset to commit (lose changes)
git filter-branch ...       # Rewrite history
```

</details>

<details>
<summary><strong>üîπ .gitignore patterns</strong></summary>

```gitignore
# Ignore specific file
secrets.txt

# Ignore all .log files
*.log

# Ignore directory
logs/

# Ignore in any subdirectory
**/secrets.txt

# Exception (do NOT ignore)
!important.log

# Comments
# This is a comment
```

</details>

<details>
<summary><strong>üîπ Conventional Commits</strong></summary>

```
<type>: <subject>

<body (optional)>

<footer (optional)>
```

**Types:**
- `feat:` ‚Äî new feature
- `fix:` ‚Äî bug fix
- `docs:` ‚Äî documentation
- `style:` ‚Äî formatting
- `refactor:` ‚Äî code refactoring
- `test:` ‚Äî tests
- `chore:` ‚Äî maintenance

**Examples:**
```
feat: add ansible playbook for nginx
fix: correct firewall rule for port 8080
docs: update README with deployment steps
```

</details>

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—Ç:

1. ‚úÖ Git repository –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2. ‚úÖ Directory structure —Å–æ–∑–¥–∞–Ω–∞
3. ‚úÖ `.gitignore` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç secrets patterns
4. ‚úÖ –ú–∏–Ω–∏–º—É–º 10 commits
5. ‚úÖ –ú–∏–Ω–∏–º—É–º 3 branches
6. ‚úÖ Conventional Commits —Ñ–æ—Ä–º–∞—Ç
7. ‚úÖ Secrets –ù–ï committed
8. ‚úÖ Audit report —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:**
```bash
cd ~/kernel-shadows/season-4-devops-automation/episode-13-git-version-control
./tests/test.sh
```

---

## üí¨ –¶–∏—Ç–∞—Ç—ã Episode 13

**Hans M√ºller:**
> "–í Chaos Computer Club —É –Ω–∞—Å —Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞: 1) Hack the planet. 2) Share the knowledge. 3) Version control everything. Git ‚Äî —ç—Ç–æ –Ω–µ –æ–ø—Ü–∏—è. Git ‚Äî —ç—Ç–æ –∂–∏–∑–Ω—å."

**Dmitry:**
> "–ú–∞–∫—Å, –≤ –†–æ—Å—Å–∏–∏ –º—ã –≥–æ–≤–æ—Ä–∏–º: '–†–∞–±–æ—Ç–∞–µ—Ç ‚Äî –Ω–µ —Ç—Ä–æ–≥–∞–π.' –í DevOps –º—ã –≥–æ–≤–æ—Ä–∏–º: '–†–∞–±–æ—Ç–∞–µ—Ç ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–π, —Ç–µ—Å—Ç–∏—Ä—É–π.' –†–∞–∑–Ω–∏—Ü–∞."

**LILITH:**
> "Git history ‚Äî –∫–∞–∫ —Ä—É—Å—Å–∫–∞—è –∑–∏–º–∞. –°—É—Ä–æ–≤–∞—è, –±–µ—Å–ø–æ—â–∞–¥–Ω–∞—è, –Ω–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è –≤—ã–∂–∏–≤–∞–Ω–∏—è. –ö–æ–º–º–∏—Ç—å –Ω—É–∂–Ω–æ –º—É–¥—Ä–æ. –ò–∑ –ª–æ–≥–æ–≤ –Ω–∏—á–µ–≥–æ –Ω–µ —É–¥–∞–ª–∏—à—å."

**Hans (–ø–æ—Å–ª–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ —Å —É—Ç–µ—á–∫–æ–π –ø–∞—Ä–æ–ª—è):**
> "–í–æ—Ç –ø–æ—á–µ–º—É `.gitignore` —Å–Ω–∞—á–∞–ª–∞, –∫–æ–¥ –ø–æ—Ç–æ–º. –ù–ò–ö–û–ì–î–ê –Ω–∞–æ–±–æ—Ä–æ—Ç. Git –ø–æ–º–Ω–∏—Ç –≤—Å—ë. –î–∞–∂–µ –∫–æ–≥–¥–∞ —Ç—ã —Ö–æ—Ç–µ–ª –±—ã, —á—Ç–æ–±—ã –Ω–µ –ø–æ–º–Ω–∏–ª."

**Max (evolution):**
- Start: "–ó–∞—á–µ–º Git –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤? –Ø –∏ —Ç–∞–∫ –ø–æ–º–Ω—é —á—Ç–æ –º–µ–Ω—è–ª."
- –ü–æ—Å–ª–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞: "–ü–æ–Ω—è–ª. Git ‚Äî —ç—Ç–æ –Ω–µ –æ–ø—Ü–∏—è. –≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã–∂–∏–≤–∞–Ω–∏—è."

---

## üéì –ß—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏

–ü–æ—Å–ª–µ Episode 13 –≤—ã —É–º–µ–µ—Ç–µ:

‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Git repository
‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å branches
‚úÖ –ü–∏—Å–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ commit messages (Conventional Commits)
‚úÖ –†–∞–∑—Ä–µ—à–∞—Ç—å merge conflicts
‚úÖ –ó–∞—â–∏—â–∞—Ç—å secrets —á–µ—Ä–µ–∑ `.gitignore`
‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—å –∏ —É–¥–∞–ª—è—Ç—å leaked secrets –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å advanced Git commands (reflog, bisect, blame, stash)
‚úÖ Infrastructure as Code –ø—Ä–∏–Ω—Ü–∏–ø—ã

**–≠—Ç–∏ –Ω–∞–≤—ã–∫–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤:**
- Episode 14: Docker (Dockerfiles –≤ Git)
- Episode 15: CI/CD (GitHub Actions workflows)
- Episode 16: Ansible (Playbooks –≤ Git)
- Season 5: Security (Code review workflow)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

**Episode 14: Docker Basics** (Amsterdam, Netherlands)

**Sophie van Dijk (–≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫ –≤ –∫–æ–Ω—Ü–µ Episode 13):**
> *"Max, Dmitry, Hans —Å–∫–∞–∑–∞–ª –º–Ω–µ, —á—Ç–æ –≤—ã –≥–æ—Ç–æ–≤—ã. –ü—Ä–∏–µ–∑–∂–∞–π—Ç–µ –≤ –ê–º—Å—Ç–µ—Ä–¥–∞–º –∑–∞–≤—Ç—Ä–∞. –ú—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä—É–µ–º –≤—Å—ë. Docker ‚Äî —ç—Ç–æ LEGO –¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –ü—Ä–æ—Å—Ç—ã–µ –±–ª–æ–∫–∏, —Å–ª–æ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã. –£–≤–∏–¥–∏–º—Å—è –≤ Science Park datacenter. ‚Äî Sophie"*

**Alex (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ):**
> *"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ supply chain attack. Docker images –ª–µ–≥–∫–æ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞—Ç—å. –ë—É–¥—å –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω. ‚Äî A."*

---

<div align="center">

**Episode 13: Git & Version Control ‚Äî COMPLETE!**

*"Code is law. Version control is constitution."*

üá©üá™ Berlin ‚Ä¢ Chaos Computer Club ‚Ä¢ Infrastructure as Code

[‚¨ÖÔ∏è Episode 12: Backup & Recovery](../../season-3-system-administration/episode-12-backup-recovery/README.md) | [‚¨ÜÔ∏è Season 4 Overview](../README.md) | [‚û°Ô∏è Episode 14: Docker Basics](../episode-14-docker-basics/README.md)

</div>


